<div>

[]{.c5}

[Robotics and Engineering]{.c15 .c1}

[Introductory Projects]{.c15 .c1}

</div>

[INTRODUCTION]{.c4 .c1}

[The guide below covers everything from simple circuits to single board
computers and continues to grow. In addition to this set of lessons,
there is a companion set of concepts. These are referenced in the
hyperlinks in the text. Please make sure to use them!]{.c5}

[]{.c5}

1.  [Unless otherwise noted, round all results to the nearest
    100th]{.c5}
2.  [Always include the correct units when recording results.]{.c5}

[]{.c5}

[SIMPLE CIRCUIT]{.c4 .c1}

[Overview]{.c4 .c1} {#h.vyadyb9nqy58 .c30}
===================

A circuit is simply a series of components connected in a way that
current can flow from the positive terminal on a voltage source to the
negative terminal on a voltage source. One of the simplest examples of a
circuit is one designed to light an LED.

[]{.c5}

### [Exercise:]{.c0} {#h.jomqw1ntdsdl .c18}

Construct the following circuit using your [[bench
supply](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.x2bqdmttrjfd&sa=D&ust=1544756832117000){.c34}]{.c31} as
a voltage source. You will simply need to connect the
[[components](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.s6ahz6tu1kg9&sa=D&ust=1544756832117000){.c34}]{.c31} in
the order shown below. You can connect them by touching the lead of one
component to the lead of another component or bending them to hold them
in place. You will need two [[test
leads](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.21kolzx0ntn7&sa=D&ust=1544756832118000){.c34}]{.c31}[ to
connect your bench supply to your circuit. ]{.c5}

[]{.c5}

[The correct circuit will light the LED without destroying the LED. It
may take a few tries to get it right and you may need to try placing a
component in BOTH directions (i.e. flipping the direction of a component
might make the circuit work or not work.) Don't worry about destroying
an LED. This is part of learning. ]{.c5}

[]{.c5}

[]{.c5}

[![](images/image102.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 527.00px; height: 239.00px;"}

[]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.q18lvdt5l4ii .c18}

1.  [Change the order of the components so that the LED is directly
    connected to the 5V lead of the power supply with the resistor
    following second as shown below. Do you notice any difference in the
    function of the circuit?]{.c5}

[![](images/image104.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 349.00px; height: 114.00px;"}

2.  [Reverse the direction of the LED in the circuit. Does the LED still
    light? The LED should only work in one direction. Because of this
    feature, we call an LED a polarized device. Try to identify a
    feature on the LED that signifies which direction it should be
    facing in the circuit.]{.c5}
3.  [Reverse the direction of the resistor in the circuit. Does the LED
    still light? It should work in either direction. Because of this
    feature, we call a resistor a non-polarized device.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[BREADBOARD CIRCUIT]{.c4 .c1}

[Overview]{.c4 .c1} {#h.199f4j42263m .c30}
===================

[Breadboards provide a convenient way to connect components together to
make a circuit. ]{.c5}

[]{.c5}

[]{.c5}

### [![](images/image78.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 367.22px; height: 294.95px;"} {#h.4fl860f6brtp .c127}

### []{.c0} {#h.wyis2de6inhw .c18 .c16}

### [Exercise:]{.c0} {#h.6urhq8srjxax .c18}

Construct the above three circuits on your
[[breadboard](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.utuueb8q3cey&sa=D&ust=1544756832121000){.c34}]{.c31}.
Note that NOT all three circuits will light the LED. What is important
is that you are able to follow the schematic design correctly.
IMPORTANT: Each of the component leads should be placed in one of the
breadboard holes. No holes should have more than one lead.

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MORE LEDS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.9candvormyyl .c30}
===================

In this lesson, you will get more practice using your breadboard. The
two circuits are designed to light three LEDs. The first one is a
parallel circuit. The second one is a series circuit. The advantage of
the parallel circuit is that you can set different resistor values for
each LED. The advantage of the second circuit only needs one resistor.

[]{.c5}

### [Exercise:]{.c0} {#h.ef0azt29jbec .c18}

[Following the schematic below, create a circuit to light three LEDs in
parallel on your breadboard. You will need three LEDs and three
resistors.]{.c5}

[![](images/image85.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 266.23px; height: 298.50px;"}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

### [Exercise:]{.c0} {#h.zbv06xdrui07 .c18}

[Following the schematic below, create a circuit to light three LEDs in
series on your breadboard. You will need three LEDs and one
resistors.]{.c5}

[![](images/image23.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 426.71px; height: 139.50px;"}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[SIMPLE SWITCH]{.c4 .c1}

[Overview]{.c4 .c1} {#h.bkuyjs7kfjpn .c30}
===================

[In this lesson, you will use a momentary switch to turn on and off an
LED. Like all switches, a momentary switch is able to complete or
disconnect a circuit with the press of a button. A momentary switch is
named for the fact that it is only connected (completing the circuit)
when the button is pressed. When the button is released the circuit is
disconnected. Below is a picture of a momentary switch.]{.c5}

[![](images/image84.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 94.50px; height: 94.50px;"}

[Momentary Switch]{.c78 .c1 .c38}

[Below are two diagrams from the datasheet for a momentary switch. Note
how the four pins are connected in the circuit diagram.]{.c5}

[![](images/image120.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 176.50px; height: 118.26px;"}[![](images/image52.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 153.37px; height: 133.50px;"}

[]{.c5}

### [Exercise:]{.c0} {#h.z4ym4o9k1y86 .c18}

[Complete the following circuit which uses a switch to turn on and off
an LED.]{.c5}

[![](images/image116.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.50px; height: 163.51px;"}

### [Exercise: ]{.c0} {#h.wrr2h3s089mc .c18}

[Add a second LED circuit with a switch. Wire the components in a
different order from the circuit shown above.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[BETTER BREADBOARD BASICS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ce43oa8hadeo .c30}
===================

[In this lesson you will learn to set up your breadboard in a way that
is logical and efficient. ]{.c5}

[Power Bus]{.c4 .c1} {#h.1cg8qmvwnt0u .c30}
====================

As you may have noted from the guide on
[[breadboards](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.utuueb8q3cey&sa=D&ust=1544756832127000){.c34}]{.c31}[ in
concepts, the two sets of long rows at the top of and bottom of your
breadboard are referred to as busses. Each bus has a red side and a blue
side. Standard practice is to connect power (the red lead from your
bench supply) to the red side of the bus and ground (the black lead from
your bench supply) to the blue side. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.b2inpyp8s7bn .c18}

1.  [Set up the board with power and ground as described above. Using a
    multimeter, confirm that correct voltage is on your bus.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

2.  [Add a couple of wires to bring power and ground to both sides of
    your board and confirm with a multimeter. ]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

3.  Using [[good design
    techniques](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23bookmark%3Did.f8f0p8y93bxg&sa=D&ust=1544756832128000){.c34}]{.c31}[,
    set up the following LED circuit on your board. ]{.c5}

[]{.c5}

[![](images/image91.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 66.02px; height: 231.06px;"}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[CHALLENGES (CIRCUITS)]{.c4 .c1}

[Overview]{.c4 .c1} {#h.n2b2ymjh10h6 .c30}
===================

[In this lesson you will get more experience following circuit diagrams.
Make sure to use the efficient breadboard techniques that you learned in
the previous lesson.                                                    
                                                                       
     ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.18wxkwiellz3 .c18}

[Complete the following circuits. ]{.c5}

[![](images/image44.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 260.00px;"}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MEASURING VOLTAGE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ozm89cy6y5ay .c30}
===================

[Being able to measure voltage is extremely helpful for troubleshooting
a circuit. A voltage level can indicate if a circuit is correctly
powered. A voltage level can also indicate if a logic level is correct.
]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.w8e4mz9r77mo .c18}

Construct a simple LED circuit on your breadboard with one resistor and
one LED. Use your
[[multimeter](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.sf66jio1dnm6&sa=D&ust=1544756832131000){.c34}]{.c31} to
[[measure the
voltage](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.1d4or8wh0xdv&sa=D&ust=1544756832131000){.c34}]{.c31}[ across
the resistor and the LED in your simple circuit and write the results
below. If you do not know how to use a multimeter please click on the
link above for more information.]{.c5}

[]{.c5}

[Voltage across resistor:         \_\_\_\_\_\_]{.c5}

[]{.c5}

[Voltage across LED:                 \_\_\_\_\_\_]{.c5}

[]{.c5}

[Voltage across entire circuit:        \_\_\_\_\_\_]{.c5}

[]{.c5}

### [Exercise: ]{.c0} {#h.4p8hwhu1rtwu .c18}

[Note that the total voltage across the entire circuit should equal the
voltage of each of the parts. Add up the voltages you measured across
the resistor and the LED. How does this compare with the voltage you
measured for the entire circuit.]{.c5}

[]{.c5}

Voltage across resistor \_\_\_\_  + voltage across LED \_\_\_ = Voltage
across entire circuit [ \_\_\_\_]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.2zghogyzar2h}

[PROGRAMMING THE METRO MINI]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ki8vyw7f8wu2 .c30}
===================

In this lesson you will learn how to use a [[Metro
Mini](https://www.google.com/url?q=https://www.adafruit.com/product/2590&sa=D&ust=1544756832133000){.c34}]{.c31} as
a basic microcontroller platform. At the heart of the Metro Mini is a
[microcontroller which is essentially a very small computer that can be
programmed to perform an infinite number of tasks.]{.c5}

[![](images/image45.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 527.50px; height: 163.15px;"}

[USB Connection]{.c4 .c1} {#h.9431ak6tw8up .c30}
=========================

[In addition to a microcontroller, the Metro Mini includes a micro USB
header which allows you to connect the Metro Mini to a computer. The USB
cable enables the following:]{.c5}

-   [Power Supply]{.c133}[: The Metro Mini can get its power (5V and
    Ground) from the host computer and through the USB cable.]{.c5}
-   [Programming]{.c133}[: Code written on your computer is uploaded to
    the Metro Mini through the USB cable. ]{.c5}
-   [Data Communication]{.c133}[: The USB cable can also be used to send
    data to the Metro Mini from your computer as well as receive data to
    your computer from the Metro Mini.]{.c5}

[![](images/image46.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 498.50px; height: 147.79px;"}

[]{.c5}

Programming {#h.hno97r13nu0z .c30}
===========

You will program your Metro Mini using the Arduino[ Integrated
Development Environment or IDE. An IDE is an editor where you can write,
compile and download your code to your microcontroller. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.tq28ss88d1e7 .c18}

1.  [Make Connection]{.c1 .c81}[: If you have not already done so,
    connect the Metro Mini to your computer using a USB cable. ]{.c5
    .c81}
2.  [Open IDE]{.c1 .c81}[: Open the Arduino program. This is the IDE you
    will be using to program your microcontroller. You can find program
    in the Start menu. ]{.c5 .c81}
3.  [Open the Blink Code File]{.c1 .c81}[: Select the Blink code file.
    It can be found under File/Examples/01.Basics/Blink]{.c5 .c81}
4.  [Select COM Port]{.c1 .c81}[: Under the Tools/port menu select the
    highest numbered COM port. If you only see COM1 and COM3 as options
    wait for help from your teacher.]{.c5 .c81}
5.  [Select Board]{.c1 .c81}[: Under the Tools/board menu, make sure
    that the board selected is Arduino/Genuino Uno. ]{.c5 .c81}
6.  [Compile Code]{.c1 .c81}[: Press the compile button to confirm that
    you code can be compiled. The compile button is the circle with a
    check inside in the upper left of your screen. If there is an error
    in your code, you will see a message at the bottom of the screen. If
    you get an error, ask your teacher for help. ]{.c5 .c81}
7.  [Program Controller]{.c1 .c81}[: Select the program to download your
    code to the Metro Mini. The program button is the circle with an
    arrow inside and just right of the compile button. You should see
    both the yellow TX LED and the yellow RX LED light as the code is
    being downloaded.]{.c5 .c81}
8.  [Check]{.c1 .c81}[: If you code was downloaded correctly the red
    light on your Metro Mini should blink on and off once every
    second.]{.c81}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[METRO MINI AND BREADBOARD]{.c4 .c1}

[Overview]{.c4 .c1} {#h.g0pe3klql6hh .c30}
===================

[In order to do something more interesting with your Metro Mini, you
will need to connect it to a breadboard. ]{.c5}

[Power and Ground]{.c4 .c1} {#h.r0g3lv79l9yq .c30}
===========================

The Metro Mini can supply power to your breadboard through its pins 5V
and GND. These [will provide power supplied by the computer through the
USB cable. Note that there are two pins for ground. You only need to
connect one of the pins.]{.c5}

[![](images/image49.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 367.50px; height: 203.17px;"}

[Digital Pins]{.c4 .c1} {#h.wf0ytjf2xg8f .c30}
=======================

[The Metro Mini has 14 digital pins (labeled 0 through 13 as shown
below) that can be used to control external devices from a simple LED to
a complex robot. IMPORTANT: Generally you want to avoid using pins 0 and
1 if possible. Using these pins might interfere with the programming of
your device. ]{.c5}

[![](images/image118.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 365.51px; height: 209.50px;"}

[]{.c5}

### [Exercise:]{.c0} {#h.2nledd7m1fqp .c18}

1.  [Insert the Metro Mini into your breadboard.]{.c5}
2.  [Make sure the power buses on your breadboard are connected together
    and the ground buses on your breadboard are connected
    together.]{.c5}
3.  [Connect the 5V pin from your Metro Mini to the power bus (red) of
    your breadboard.]{.c5}
4.  [Connect one of the GND pins from your Metro Mini to the ground bus
    (blue) of your breadboard.]{.c5}

[]{.c5}

5.  [Connect a USB Mini cable to your Metro Mini. ]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

OUTPUT[ PINS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.s659pioevq34 .c30}
===================

The digital pins on your microcontroller (described above) can be used
as either [[inputs or
outputs](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.12g8aset9qzv&sa=D&ust=1544756832139000){.c34}]{.c31}[.
As an output, the voltage on the pin can be set to either HIGH (5V) or
LOW (0V). A pin set as an output can be used to control an LED, a
speaker, a motor or just about any sort of electronic device. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.16p2powoypaf .c18}

In this first exercise, you will set one of the pins of your
microcontroller as an output pin and then [set that pin to HIGH. ]{.c5}

[]{.c5}

1.  [Open a new code file (File/New) in your Arduino IDE.]{.c5}

[]{.c5}

2.  Type the following two lines of code inside your [setup
    ]{.c21}[[function](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.45j551ci2de&sa=D&ust=1544756832140000){.c34}]{.c31}.
    The first line [sets pin 8 on your microcontroller as an output pin.
    The second line sets the value of pin 8 to HIGH. ]{.c5}

[pinMode(8, OUTPUT);]{.c2}

[digitalWrite(8, HIGH);]{.c21}

[        ]{.c5}

3.  [Compile and download your code. If you have errors, ask your
    teacher for help.]{.c5}

[]{.c5}

4.  [Use a multimeter to confirm that the voltage on pin 8 is 5V (or
    close to 5V). .]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c15 .c1}

5.  [Modify your code to set pin 8 to 0V (LOW).]{.c5}

[]{.c5}

6.  [Program your microcontroller and confirm with a multimeter.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

7.  [Modify your code to set pin 6 to 5V. Program and confirm with your
    multimeter.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[PROGRAMMING LEDS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.4sdbfoa8c30n .c30}
===================

[LEDs are a good example of the kinds of devices you can drive with a
microcontroller. LEDs also provide an easy way to indicate if a
microcontroller pin is set to HIGH or LOW. IMPORTANT to use a resistor
in series with any LED so you do not use too much current. Driving too
much current through and LED will damage the LED and the
microcontroller.]{.c5}

[Schematic]{.c4 .c1} {#h.r84mykkty8df .c30}
====================

[The following is the schematic for the circuit you need to construct on
your breadboard. ]{.c5}

[]{.c5}

[![](images/image79.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 304.50px; height: 222.97px;"}

[]{.c5}

[Code]{.c4 .c1} {#h.p3y0r1gh4y3z .c30}
===============

1.  [Write a program to turn on the LED. NOTE: In this lesson you will
    be choosing which digital pin to use with you LED. You may use any
    of the digital pins (0 -13) but you should generally avoid using
    digital pins 0 and 1 as using these pins might interfere with the
    programming of your device.]{.c5}

<!-- -->

1.  [Set the pin you are using to control the LED as an output
    pin.]{.c5}
2.  Use [digitalWrite]{.c21}[ to drive the pin to 5V.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

2.  [Modify your program to turn off the LED.]{.c5}
3.  [Change the LED to a different pin and turn it on.]{.c5}
4.  [Add two more LEDs to two additional pins on your microcontroller
    and turn them all on.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[DELAYS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.vg75qb2igf4j .c30}
===================

Delays are used in code to freeze the state of the controller for a
specified amount of time. The delay function we are using is measured in
milliseconds and have a
[[range](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.7lc2dw9cimru&sa=D&ust=1544756832145000){.c34}
]{.c31}[from 0 to 10,000 milliseconds. ]{.c5}

### []{.c0} {#h.tw9jlb2cxaum .c18 .c16}

Below[ is an example of the delay command. In this example, the delay is
set for 1500 milliseconds (or 1.5 seconds). ]{.c5}

[]{.c5}

[        delay(1500);]{.c2}

[Code]{.c4 .c1} {#h.ma3amv1gtqle .c30}
===============

1.  Write a program to turn your LED on and off and on again. The
    program should turn your LED on for two seconds and then off for one
    second and then back on. This code should again be placed in your
    [setup ]{.c21}[function. ]{.c5}

[IMPORTANT: Do not forget to make sure to set the pin the LED is using
to an output.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[LOOPS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.nnuuze7p9xo4 .c30}
===================

Up until this point all of your code has been placed in your [setup
]{.c21}function. As you have probably noted, this function only runs
once. The [loop ]{.c21}[function is designed to run continuously. Any
code place in this function will run continuously until power is removed
from the Metro Mini. ]{.c5}

[Code]{.c4 .c1} {#h.suuhy9mfggeg .c30}
===============

[]{.c5}

1.  Using a delay and your [loop ]{.c21}[function, write a program to
    make your LED blink (on for one second and off for one second)
    continuously. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

2.  [Set up two LEDs on your breadboard on different pins. Make the LEDs
    flash alternately (i.e. one is on while the other is off)]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1} {#h.xjx6wo2pecnn .c74 .c79}
===========

------------------------------------------------------------------------

[]{.c4 .c1} {#h.egzot7dyl7jb .c79 .c74}
===========

[INPUT PINS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.eath8de00058 .c30}
===================

[The digital pins on the Metro Mini can also be set as inputs. As an
input, the Metro Mini can read the value of a pin, i.e. if the pin is
externally driven as HIGH (5V) or LOW (0V). Generally inputs are used
for receiving information from the outside world, such a reading the
value of a sensor or getting data from a robotic device. ]{.c5}

[]{.c5}

[Setting up software and hardware to test an input is a little more
complicated than setting up software and hardware to test an output.
]{.c5}

[Schematic]{.c4 .c1} {#h.9cehl85k5wld .c30}
====================

[Set up the following circuit on your breadboard. Make sure to use a
long jump wire for the connection between pin 9 and ground. You will be
moving this pin between power and ground so using a long jump wire will
make this much easier.]{.c5}

[]{.c5}

[![](images/image98.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 552.00px; height: 351.00px;"}

Code {#h.vhrmlq9dtgap .c30}
====

1.  In your  [setup ]{.c21}function, insert the following two lines to
    ensure that [that pin 6 is an OUTPUT and pin 9 is an INPUT. ]{.c5}

[pinMode(9, INPUT);        ]{.c2}

[pinMode(6, OUTPUT):]{.c2}

[]{.c2}

2.  Type the following code inside of the [loop ]{.c21}function. This
    code is set in the [loop ]{.c21}function because it needs to
    repeatedly check the value of pin 9. For more information about how
    this code works you can review
    [[conditionals](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.o11qq65yx4ek&sa=D&ust=1544756832150000){.c34}]{.c31} in
    concepts.

[![](images/image51.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 611.00px; height: 251.00px;"}

3.  [Compile and download your code. ]{.c5}
4.  [Connect pin 9 to the power bus (HIGH). The LED should be lit.
    ]{.c5}
5.  [Connect pin 9 to the ground bus (LOW). The LED should be off.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

6.  [Modify your code so that it reverses operation. The LED should be
    lit when pin 9 is connected to LOW and vise versa.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[CHALLENGE REVIEW]{.c4 .c1}

[Overview]{.c4 .c1} {#h.1u0tcm226en2 .c30}
===================

[Complete the following six challenges.]{.c5}

[]{.c5}

1.  [Program an LED to flash with 1.5 seconds on and .5 seconds
    off.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

2.  [Program an LED to flash with .5 seconds on and 1.5 seconds
    off.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

3.  [Program three LEDs to turn on in sequence with a delay of half a
    second between each one.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

4.  [Program three LEDs to flash alternately with two on and one off and
    vice versa. ]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

5.  [Program three LEDs on three different pins to turn on when pin 5 is
    LOW and off when pin 5 is HIGH.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

6.  [Do something interesting!]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[SERIAL COMMUNICATION]{.c4 .c1}

[Overview]{.c4 .c1} {#h.fxwedzcm36mr .c30}
===================

[Serial communication provides an excellent way to send data to and get
data from your microcontroller. It can be used as a way to provide a
human interface to your device allowing the user to type commands on the
computer that control operations on your device. It is also commonly
used to debug a problem in your device by providing a way to visualize
what is happening in your code.]{.c5}

[Reading Data]{.c4 .c1} {#h.nffvbvcs45rx .c30}
=======================

[Serial communication can be used to read the value a variable or the
state of a sensor attached to a computer. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.hq1tfg5o7req .c18}

1.  [Use the following command to set up the serial port for the baud
    rate of 9600 bps.]{.c5}

[]{.c5}

                [Serial.begin(9600);]{.c2}

[]{.c2}

2.  [Use the following command to send the word "cat" to your terminal
    window. This command should be placed in your setup function. NOTE:
    If you cut and paste the code below you will need to replace the
    quotation marks as the characters on the page are different from the
    characters in your IDE.]{.c5}

[]{.c5}

                [Serial.print("cat");]{.c2}

[]{.c5}

3.  [Download your code to the microcontroller.]{.c5}
4.  Open the terminal window. If you are successful the word "cat"
    should be displayed in your terminal window.

[]{.c15 .c1}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[Looping Data]{.c4 .c1} {#h.buukdnuz0fey .c30}
=======================

[You can use the loop function to send data repeatedly to the terminal
window.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.28nnxysf0vxo .c18}

[Repeat the steps above but instead of placing your serial.write command
in the setup function, place it in the loop function. IMPORTANT: Make
sure to add a delay of at least 100ms to your loop function. This will
ensure that the program does not try to send data too quickly to the
serial port.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

[FORMATING SERIAL COMMUNICATION]{.c4 .c1}

[Overview]{.c4 .c1} {#h.6vmed1eztnwh .c30}
===================

[In order to make the information you are sending to the terminal window
readable, it is important to know how to format the text.]{.c5}

[Column and Separators]{.c4 .c1} {#h.ppht8crg8qxe .c30}
================================

[As you may have noted in the previous lesson, the word "cat" was
displayed across the screen making it difficult to read. You can display
text in a column by simply adding a carriage return at the end of each
line using the following command.]{.c5}

[]{.c5}

[Serial.println();]{.c2}

[]{.c2}

### [Exercise:]{.c0} {#h.31ulhp2ipm7l .c18}

1.  [Write a program that repeatedly prints the word "robot" in your
    terminal window. Using the addition of the command shown above
    ensure that the word "robot" is displayed in a single column in your
    window.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

2.  [Modify your program so that it prints the word "robot" and the word
    "engineer" in two columns and a space between the words. This should
    be accomplished with at least three separate print statements.
    ]{.c5}
3.  [Modify your program so that a colon separates the two
    columns.]{.c5}
4.  Modify your program so that a [[tab
    separates](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.idcad0tlxp8n&sa=D&ust=1544756832157000){.c34}]{.c31}[ the
    two columns.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[VARIABLES]{.c4 .c1}

[Overview]{.c4 .c1} {#h.5blvn1dhzs1a .c30}
===================

[Variables are placeholders used to store values that can be modified.
]{.c5}

[Initializing]{.c4 .c1} {#h.qe2kreeuar3c .c30}
=======================

In order to use a variable you must first initialize it. Initially you
will do this at the top of your code file outside of both the loop and
setup functions. This will make the variable available everywhere in
your code or globally. Check out Lessons for more information about
[[variables](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.vbe1wov8lque&sa=D&ust=1544756832158000){.c34}]{.c31}.

[]{.c5}

### [Exercise:]{.c0} {#h.ff552m5nwbne .c18}

1.  [Initialize the variable z at the top of your code file and set its
    initial value to 9.]{.c5}

[]{.c5}

2.  [Print the variable to your terminal window using the following
    command.]{.c5}

[]{.c5}

[Serial.print(z);]{.c2}

[]{.c2}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

3.  Modify your code so that the variable starts at the value 9 and
    [[counts
    up](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.j1vujjth5hql&sa=D&ust=1544756832160000){.c34}]{.c31}[ by
    one every 500 milliseconds. It should display the values in a column
    in your terminal window.]{.c5}

[]{.c2}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

4.  [Modify your code so that the variable starts at the value 9 and
    counts down by one every 500 milliseconds. It should display the
    values in a column in your terminal window.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c5}

5.  [Modify your code so that there are two variables x and y. The
    variable x should start at 6 and count up by 2. The variable y
    should start at 50 and count down by 2. The variables should be
    displayed in two columns in your terminal window. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[RESISTOR VALUES]{.c4 .c1}

[Overview]{.c4 .c1} {#h.7guzkrvor35g .c30}
===================

The value of any through-hole resistor can be determined by the color
bands on the resistor. While you should be able to work out the
resistance value for any resistor based on color, you should be able to
identify a  330 Ohm, 1K and 10K resistor on site[.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.pjq90yt3ddq .c18}

Complete the following table for the resistors given. You can use the
[[guide](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.ex2xtjdrup0t&sa=D&ust=1544756832162000){.c34}]{.c31}[ here
for assistance. ]{.c5}

[]{#t.4e89591af717e6c4e2d8613c5b3c47221f5ea249}[]{#t.0}

+-----------------+-----------------+-----------------+-----------------+
| [Value]{.c15    | [Band 1]{.c15   | [Band 2]{.c15   | [Multiplier]{.c |
| .c1}            | .c1}            | .c1}            | 15              |
|                 |                 |                 | .c1}            |
+-----------------+-----------------+-----------------+-----------------+
| [10K]{.c5}      | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| [330R]{.c5}     | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| [1K]{.c5}       | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| [4.7K]{.c5}     | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| [470R]{.c5}     | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[Quiz]{.c15 .c1}

[Have your teacher provide you with three resistors of values 10K, 1K,
330 Ohm. Make sure you can easily identify these resistors by
site.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[Ohm\'s Law]{.c4 .c1}

[]{.c4 .c1}

[Overview]{.c4 .c1}

Ohm's law presents ratio of voltage to resistance as directly related to
current. Using [[Ohm's
law](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.t5bxsyeu98j2&sa=D&ust=1544756832170000){.c34}]{.c31}[ calculate
the current flowing in each of the circuits shown below. ]{.c5}

[]{.c5}

[![](images/image34.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 457.00px; height: 256.00px;"}

[\_\_\_\_\_\_ Amps                 \_\_\_\_\_\_
Amps                \_\_\_\_\_\_ Amps]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[![](images/image50.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 467.00px; height: 246.00px;"}

[![](images/image40.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 465.00px; height: 244.00px;"}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[BUTTONS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.mgdlajkja5vc .c30}
===================

[Buttons represent the most common form of input found on electronic
devices and are used for everything from turning on the device to
sending the letter 's' to the computer screen. All buttons have exactly
two states. The button is either pressed or it is not pressed. There are
no states in between. For this reason they can be categorized as binary
devices. ]{.c5}

[]{.c62 .c38}

[![](images/image68.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 475.00px; height: 92.00px;"}

[Button Circuit]{.c15 .c1} {#h.u773fdtrxbr3 .c30}
--------------------------

[In order to make the states of the button readable by a digital
electronic device such as your microcontroller, you will need to
construct a circuit that converts the states of pressed and not pressed
into voltage levels that the microcontroller can use. ]{.c5}

[]{.c5}

[![](images/image48.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 619.00px; height: 385.00px;"}

[Above are two examples of the same circuit. On the left the switch is
open and on the right the switch is closed. When the switch is open, the
circuit is tied to ground through a resistor so the voltage level at the
mid-point is 0 Volts or ground. When the switch is closed, the circuit
is tied directly to 5 V. Even though it is also tied to GND through a
resistor, the voltage is pulled almost completely to 5 Volts. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.2uwcmzsn3uwd .c18}

[Construct the circuit shown below on your breadboard. Using a
multimeter record the output voltage for the circuit with the button
pressed and not pressed. Make sure to include your units.]{.c5}

[![](images/image15.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 188.94px; height: 303.50px;"}

[]{#t.7bf2757e3caaa03c84b4f4ddb23a478de13d0d15}[]{#t.1}

+-----------------------------------+-----------------------------------+
| []{.c15 .c1}                      | [Output Voltage Point A]{.c15     |
|                                   | .c1}                              |
+-----------------------------------+-----------------------------------+
| [Pressed]{.c15 .c1}               | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [Not Pressed]{.c15 .c1}           | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise: ]{.c0} {#h.j1rlqw950rnw .c18}

[Construct a circuit that with a button connected to one pin of your
microcontroller and a LED connected to another pin. Write code to make
the LED turn on when the button is pressed. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[POTENTIOMETERS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.pul4eznstekk .c30}
===================

[Potentiometers are another common form of input for controlling an
electronic device. They generally come in two forms: dials and sliders.
Dials are commonly used to control the volume on an audio device or
temperature on a thermostat. Sliders are commonly used in joysticks to
convert the motion of the joystick into signals that can be used by a
digital microcontroller.]{.c5}

[Potentiometer Design]{.c15 .c1} {#h.izr2r7urm501 .c20}
--------------------------------

[All potentiometers have three leads as shown in the diagram below. The
two outside leads (A and B) form a fixed value resistor (i.e. the value
of resistance between A and B is fixed). The wiper (W) shorts the
resistor. The value between W and B varies depending on the placement of
the wiper. Note that the resistance value between W and B is the inverse
of the resistance value between W and A. ]{.c5}

[![](images/image69.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 169.50px; height: 201.14px;"}[![](images/image54.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 180.25px; height: 268.50px;"}

[On the right is a schematic symbol for a potentiometer. Connecting pins
A and B to 5V and ground (the order does not matter) creates a voltage
divider whose output value at W varies with the position of the
potentiometer. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.jew5htfbdb5p .c18}

[Construct the following circuit on your breadboard. Connect the output
to a multimeter. Record the highest and lowest voltage by turning the
potentiometer all the way to the right or left. ]{.c5}

[![](images/image59.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.00px; height: 237.00px;"}

[]{.c5}

[]{#t.accfc7fd4a9833223517cf4194f8f7ea4eee8fb8}[]{#t.2}

+-----------------------------------+-----------------------------------+
| []{.c15 .c1}                      | [Potentiometer Output]{.c15 .c1}  |
+-----------------------------------+-----------------------------------+
| [Highest Voltage]{.c15 .c1}       | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [Lowest Voltage]{.c15 .c1}        | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c15 .c1}

[1. TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.j2kygf87ybzr}

[ANALOG TO DIGITAL CONVERSION]{.c4 .c1}

[Overview]{.c4 .c1} {#h.7uryd9m6cft8 .c30}
===================

In order to convert an analog signal to a digital signal[ the
microcontroller on the Metro Mini has an internal analog to digital
converter (ADC) which is accessible on six pins labeled A0 through A5.
]{.c5}

[]{.c5}

[The ADC has 1024 states so that any analog voltage applied to an ADC
pin is converted to one of 1024 different states. ]{.c5}

[![](images/image117.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 427.00px; height: 41.84px;"}

For example, if your analog device had a voltage range of 0 volts to 5
volts than 0 volts would correspond to a state of 0 and 5 volts would
correspond to a state of 1023, and each voltage level in between would
correspond to exactly one of the 1024 states (0 - 1023). The diagram
below shows an example. You can read more about analog conversion in
analog section of
[[concepts](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.vhex7ebzcaik&sa=D&ust=1544756832180000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

[![](images/image105.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 384.00px; height: 300.00px;"}

[Code]{.c4 .c1} {#h.tycp27wbwqy5 .c30}
===============

[In order to use the analog to digital converter (ADC) on your Metro
Mini you will need to use the following command.]{.c5}

[]{.c5}

[![](images/image95.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 513.77px; height: 183.91px;"}

### [Exercise]{.c0} {#h.19sytgw2v24o .c18}

1.  [Connect the output of one of your potentiometers to an ADC port on
    your microcontroller. Write a program to read the value from this
    port and display the value in a column on your serial monitor. The
    value should range from 0 to 1023.]{.c5}

[2. TEACHER CHECK \_\_\_\_]{.c1}

2.  Calculate the number of volts for each step [of the ADC in the
    following table.  For example, if the range of voltage is 0 volts to
    6 volts and there were 3 steps (as shown below) than each step would
    be 2 volts.]{.c5}

[![](images/image17.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 318.50px; height: 193.94px;"}

[]{#t.3a5263240f0bd1b14f5da5fc7f36efa71c61369b}[]{#t.3}

+-----------------+-----------------+-----------------+-----------------+
| [Low            | [High           | [Steps]{.c15    | [Volts per      |
| Voltage]{.c15   | Voltage]{.c15   | .c1}            | Step]{.c15 .c1} |
| .c1}            | .c1}            |                 |                 |
+-----------------+-----------------+-----------------+-----------------+
| [0 Volts]{.c5}  | [6 Volts]{.c5}  | [3]{.c5}        | [2              |
|                 |                 |                 | Volts/Step]{.c5 |
|                 |                 |                 | }               |
+-----------------+-----------------+-----------------+-----------------+
| [0 Volts]{.c5}  | [5 Volts]{.c5}  | [10]{.c5}       | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| [0 Volts]{.c5}  | [5 Volts]{.c5}  | [1024]{.c5}     | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+

[]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{#id.yhzdgx4chww8}

3.  Modify your code to display the voltage at the output from your
    potentiometer. Now that you have calculated the Volts per Step
    (above) you should be able to convert steps (0 - 1023) to volts.

<!-- -->

1.  [Copy the conversion factor from your table above. (i.e. How many
    volts is each step of the A/D converter): \_\_\_\_\_]{.c5}
2.  In your code multiply this factor by the results of the A/D
    converter. (i.e. if you are using the variable [x]{.c21} to store
    the results of the A/D conversion than you would multiply this
    number by the conversion factor from above before printing the
    result). You can find information about how to multiply a variable
    [[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.j1vujjth5hql&sa=D&ust=1544756832188000){.c34}]{.c31}[.
    ]{.c5}
3.  [If you did this correctly, you should see the results vary between
    0 and 5 (or maybe just 4 depending on your potentiometer)
    representing the voltage produced by your potentiometer.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

4.  [The voltage range 0 - 5 is a very crude representation of the
    voltage. Modify your code to display a voltage to a hundredth of a
    volt (2 decimal places). ]{.c5}

<!-- -->

1.  In order to store a number with a range of less than one (2 decimal
    place) you will need to initialize your variable as a
    [[float](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.86fwcjklmgvf&sa=D&ust=1544756832189000){.c34}]{.c31
    .c21} instead of an [int]{.c21}[. ]{.c5}
2.  [Confirm you results by connecting a multimeter to the output of
    your potentiometer and measuring voltage. The results from the
    multimeter should match fairly closely the results in your serial
    monitor. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[RELATIONAL OPERATORS ]{.c4 .c1}

Overview {#h.n2uhcj7d11pr .c30}
========

[In this lesson you will learn to use the greater than and less than
logical operators. The greater than operator checks if the value of a
variable is greater than a compared value and the less than operator
checks if the value of a variable is less than a compared value. ]{.c5}

[]{.c5}

[x \> 23 //If x is greater than 23 this returns true]{.c2}

[X \< 23 //If x is less than 23 this returns true]{.c21}

[Conditionals ]{.c4 .c1} {#h.qu1f0fvjshsp .c30}
========================

In this lesson you will again need to use conditionals. Note you last
used a conditional in the lesson on Inputs and you can read more about
conditionals
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.o11qq65yx4ek&sa=D&ust=1544756832191000){.c34}]{.c31} i[n
concepts. ]{.c5}

[]{.c5}

### [Exercise: ]{.c0} {#h.wtntit4rbxzf .c18}

1.  [Set up your board with an LED and a potentiometer. Write a program
    that checks the value of the potentiometer. If it is greater than
    400, the LED should turn on.]{.c5}
2.  [Modify your code so that if the potentiometer is greater than 400,
    the LED should turn on. If it is less than 400, it should turn
    off.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

3.  [Add two more LEDs to your board. Write a program that turns on the
    first led when the value of the pot is greater than 400, the second
    LED when the value of the pot is greater than 600 and the third LED
    when the value of the pot is greater than 800.]{.c5}
4.  [Modify your code so that the respective LEDs turn off when they are
    below the values given above. (i.e. the third LED turns on when the
    pot is greater than 800 and off when it is less than 800).]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[LOGICAL OPERATORS ]{.c4 .c1}

[Overview]{.c4 .c1} {#h.o4ob665def04 .c30}
===================

In this lesson, you will learn to use the [[logical
operators](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.wu2vkp32zpto&sa=D&ust=1544756832193000){.c34}]{.c31}[ AND,
OR and NOT. As with relational operators, these are mostly used with
conditionals. ]{.c5}

[]{.c5}

### [Exercise: ]{.c0} {#h.qsybqf6rwsss .c18}

1.  [With a potentiometer and at least one LED on your board, write a
    program to turn on the LED with the value of the potentiometer is
    above 600 or below 400. ]{.c5}
2.  [Add a button on your board (see the section on inputs above for
    details). Write a program that turns on the LED when the value of
    the potentiometer is between 200 and 400 and the button is
    pressed.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c4 .c1}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[INTRO TO VERSION CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.c3lp63x452s6 .c30}
===================

[Version control is required as a way to ensure that:]{.c5}

-   [You can always retrieve a lost file. ]{.c5}
-   [You are working on your most recent file. ]{.c5}
-   [You can revert to a good working file. ]{.c5}

[]{.c5}

[Losing a file on your PC is file is very easy and can happen for many
reasons including the following: (All of which are definitely not your
fault, because you never do anything wrong)]{.c5}

1.  [The power cord came out of my my computer and it crashed. ]{.c5}
2.  [I can't find my files. I know they were here. Someone stole
    them.]{.c5}
3.  [He is using my computer and won't let me get my files.]{.c5}
4.  [The computers got reformatted\...what!!!]{.c5}
5.  [Don't worry Mr. Christy, my files are securely stored on a
    thumb-drive that I have right here in my....hey have you seen my
    thumb-drive?]{.c5}

[]{.c5}

[![](images/image55.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 429.00px; height: 208.00px;"}

[As shown in the diagram above, you can also pull your repository to
another computer, such as you home computer. Make changes to your files.
Commit them and then pull these changes down to your computer at
school.]{.c5}

[Create Account]{.c4 .c1} {#h.ys8fjxgh61fd .c30}
=========================

[In this step, you will create an account on Github. Navigate to
github.com using any browser. Create a user account following the
directions provided. Do NOT use your school email address, because
github will need to send you an email to confirm your account creation
and your school email address will not accept email from outside the
school domain. Additionally, you will use your github account long after
you leave high school. Make sure to check your email and confirm you
account creation.]{.c5}

[Create Repository]{.c4 .c1} {#h.fs2v40y7yma .c30}
============================

In this step, you will create a new remote repository on Github and an
identical local repository on your computer. Files you stored in your
local repository will be mirrored on your remote repository.

### [Exercise:]{.c0} {#h.1qi2dkc2n0nb .c18}

1.  [Setup]{.c5}

<!-- -->

1.  [Launch Github Desktop from the start menu.]{.c5}
2.  [Under File, select Options and confirm that you are logged into
    your git account.]{.c5}

[]{.c5}

2.  [New Repository]{.c5}

<!-- -->

1.  [Under File, select New Repository.]{.c5}
2.  [Enter a name for your repository. Write a name that relates to
    whatever you are working on i.e. buttons or LEDs.]{.c5}
3.  [MAKE SURE to select Initialize this repository with a README.
    ]{.c5}
4.  [Select a local directory for your repositories. I recommend
    creating a folder under My Documents and named with your name in all
    caps.]{.c5}
5.  [Select the Create repository button.]{.c5}

<!-- -->

3.  [Use Repository]{.c5}

<!-- -->

1.  [Open Arduino]{.c5}
2.  [Save one of your code files to the directory you made above. The
    file path should resemble, My Documents/JOE/leds. Inside this
    directory you should see at least the following two files.]{.c5}

#### [README.md]{.c50 .c38} {#h.4c8o44adfk6n .c18 .c44 .c71}

#### [.gitattributes]{.c50 .c38} {#h.4c8o44adfk6n-1 .c18 .c44 .c71}

4.  [Update Changes]{.c5}

<!-- -->

1.  [Return to Github Desktop. You should see the changed files
    listed.]{.c5}
2.  [Enter a Summary. This is note about what you changed.]{.c5}
3.  [Select Commit to Master]{.c5}
4.  [Select Publish.]{.c5}

[Daily]{.c4 .c1} {#h.e8bos95gbtyr .c30}
================

Each day make sure to save your code and CAD files in your repository.
At the end of the day, make sure to commit and publish all changes.

------------------------------------------------------------------------

[]{.c4 .c1}

[PULSES]{.c4 .c1}

[Overview]{.c4 .c1} {#h.bvd8sup464p9 .c30}
===================

[Pulses are used in everything from communication signals to controlling
the speed of a motor. A pulse can be created on a microcontroller by
simply setting a pin HIGH and then LOW in an infinite loop. ]{.c5}

[]{.c5}

[The following shows an example of a code that creates an infinite set
of pulses. To the right of the code is a diagram of the pulses showing
how each line of code creates one section of the pulse.]{.c5}

[![](images/image76.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 141.44px;"}

### [Exercise: ]{.c0} {#h.8hv5kcaf7u2x .c18}

Add an LED to your board if there is not already one on there. Write a
program to flash the LED using a pulse. Reduce the delay until you can
no longer see that the LED is flashing. Write the value of your delay
here: \_\_\_\_\_ ms. This is your CFF or critical flicker-fusion
frequency. Read an article about CFF
[[here](https://www.google.com/url?q=https://www.economist.com/news/science-and-technology/21586532-small-creatures-fast-metabolisms-see-world-action-replay-slo-mo&sa=D&ust=1544756832202000){.c34}]{.c31}[.
It is pretty cool.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c5}

[FREQUENCY CONVERSION]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ifkozko9rwg2 .c30}
===================

[Frequency is a primary measurement of pulses and measures the waves
that pass a point over time. Frequency is often used to measure the
speed of a  CPU as in a 3Ghz processor. Your home router most likely
supports 2.4Ghz and 5.0Ghz. The microcontroller that you are using runs
at 16Mhz. The frequency of middle C on a piano is 261.6Hz.]{.c5}

[]{.c5}

In the following exercise, you will convert between frequency and
period. Read the section on
[[waves](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.r3kc4sg9zrj4&sa=D&ust=1544756832204000){.c34}]{.c31} [in
concepts to learn more about frequency conversion]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.6dr4lgo8loeb .c18}

Use the equation above to complete the following two tables. Note that
the units of Hertz are cycles per second and as a result the equation
you are using produces units of seconds. Make sure to use CORRECT units
and round to the nearest thousandth. The table also includes a column
for converting seconds to milliseconds. You can find information about
converting between engineering units
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.77xfwnlk7wp2&sa=D&ust=1544756832205000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

[Find the period of the wave]{.c5}

[]{#t.ed719537eacd8d1c0b66ebc0ef3f1bf3f8d0f0ba}[]{#t.4}

+-----------------------+-----------------------+-----------------------+
| [Frequency]{.c15 .c1} | [Period (in           | [Period (in           |
|                       | seconds)]{.c15 .c1}   | milliseconds)]{.c15   |
|                       |                       | .c1}                  |
+-----------------------+-----------------------+-----------------------+
| [2 Hz]{.c5}           | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [345 Hz]{.c5}         | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [32 kHz]{.c5}         | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [2.7 kHz]{.c5}        | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

[Find the frequency of the wave]{.c5}

[]{#t.ce47608d59c83229e5dba2959f8946292d2ed101}[]{#t.5}

+-----------------------+-----------------------+-----------------------+
| [Period ]{.c15 .c1}   | [Period ( in          | [Frequency (in        |
|                       | seconds)]{.c15 .c1}   | Hz)]{.c15 .c1}        |
+-----------------------+-----------------------+-----------------------+
| [300 ms]{.c5}         | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [13 ms]{.c5}          | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [235 us]{.c5}         | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [3 us]{.c5}           | []{.c5}               | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[PIEZO SPEAKER]{.c4 .c1}

[Overview]{.c4 .c1} {#h.6xfml88r6zmo .c30}
===================

[In this lesson you will learn to drive a piezo speaker to make notes
and sound effects. Piezo speakers are found in lots of common devices
such as microwave ovens or cell phones. A tone from a piezo speaker can
be used to indicate a button press or play a tune letting you know your
friend has called. ]{.c5}

[]{.c5}

[Piezo speakers are normally formed around two metal plates as shown in
the picture on the left. The picture on the right shows a piezo speaker
in a secure plastic housing.]{.c5}

[![](images/image41.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 394.00px; height: 162.00px;"}

[A piezo speaker is essentially a thin piece of metal that can make
sounds by vibrating at a very high rate (frequency). The following shows
a  piezo speaker at rest (low pulse) and under voltage (high pulse). By
applying pulses very rapidly to the piezo speaker, it can vibrate very
quickly]{.c5}

[![](images/image31.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 527.44px; height: 138.96px;"}

[Piezo Circuit]{.c4 .c1} {#h.1l3e8umtd3s3 .c30}
========================

Driving a piezo speaker only requires a single pin that can produce a
pulse[. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.p5153jtkgfym .c18}

1.  [Construct the following circuit and connect the pulse lead to one
    of your microcontroller pins. After you complete the circuit, write
    a program to drive your speaker with a frequency of 100 Hz.]{.c5}

[![](images/image106.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 360.00px; height: 290.00px;"}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

2.  Modify your code to produce a frequency of 1000Hz. Note you will
    need to use a [delayMicroseconds()]{.c21}[ in order to reach this
    frequency. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

3.  [What are the highest and lowest frequencies you can hear? These may
    be the highest or lowest you can play. Record your answers
    below.]{.c5}

[]{.c5}

[]{#t.a84d7c667a024654563ab175062cbc24ff5c7bc7}[]{#t.6}

+-----------------------------------+-----------------------------------+
| [Highest Frequency]{.c15 .c1}     | [Lowest Frequency]{.c15 .c1}      |
+-----------------------------------+-----------------------------------+
| []{.c5}                           | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c15 .c1}

[Tone Function]{.c4 .c1} {#h.l6w7lfe59kbb .c30}
========================

The tone function provides an easy way to send notes to a piezo speaker.
The tone function can [be used to set which pin will produce the tone,
the frequency of the tone and duration of the tone. The last argument,
duration is optional.]{.c5}

[]{.c68 .c21}

[tone(pin, frequency, duration);]{.c21 .c68}

[]{.c5}

### [Exercise:]{.c0} {#h.oa3zp7ww2toz .c18}

[Write a program to play a A4 (440Hz) for exactly half a second.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise:]{.c0} {#h.yftbsyx8tsa6 .c18}

[Search on the Internet to find software for the Arduino that can play a
popular song or theme using a piezo speaker. Download the software and
play the song for your teacher.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[REVIEW CHALLENGE]{.c4 .c1}

### [Challenge:]{.c0} {#h.rr0vrl5cwz4a .c18}

1.  Set up a circuit that uses a [[for
    loop](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.2u7q6orum403&sa=D&ust=1544756832222000){.c34}]{.c31} to
    change the value of the tone. This will work best if you do not use
    the duration feature of the tone function, but use a delay after the
    tone [function in your loop.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c94}

2.  [Set up a circuit in which you can control the frequency of the tone
    produced by a piezo speaker using a potentiometer. When you turn the
    potentiometer one direction the tone should increase. When you turn
    the potentiometer the other direction, the tone should decrease.
    ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c94}

3.  [Set up a circuit that can play three different tones based on which
    button you press. Each button should play a different tone.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

USING[ AN OSCILLOSCOPE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.a312qj3ys1xl .c30}
===================

[An oscilloscope is a tool that can be used to visualize electronic
signals in your circuit. ]{.c5}

[Connections]{.c4 .c1} {#h.nefl63wccsr .c30}
======================

[In order to test a a signal on your circuit with an oscilloscope you
must connect it to your circuit.]{.c5}

[]{.c5}

### [Initial Setup]{.c0} {#h.esw1ouxfjsp8 .c18}

1.  [Set up a simple breadboard circuit with a Metro Mini.]{.c5}
2.  [Turn on you oscilloscope. It takes a few seconds to warm up. ]{.c5}
3.  [Once the scope is on, press the Save/Recall button. On the screen
    you will see Default Setup in the upper right. Press the button to
    enter the default setup. This is generally useful to do any time you
    set up your scope or if you are having trouble reading a
    signal.]{.c5}
4.  [Connect a scope lead to channel 1 (CH1) NOTE: Be careful with the
    oscilloscope leads. They are fragile and expensive.]{.c5}
5.  [Make sure your scope lead is set to 1X. There is a switch on the
    end of the scope lead.]{.c5}
6.  [Connect the ground lead (alligator clip).]{.c5}

### [First Test]{.c0} {#h.2pr8gifixi17 .c18}

1.  [Connect the test lead (micro connector with the witches hat) to the
    power bus (5V) of your board. ]{.c5}
2.  [At this point, the yellow line should disappear from your
    screen.]{.c5}
3.  [Move the test lead to ground and the yellow line should
    reappear.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

### [Vertical Divisions]{.c0} {#h.kvwevd79bp5w .c18}

1.  [Notice that in the lower left corner of the screen the vertical
    divisions of the screen for channel one are set to 2V per division
    (1 = 2V). Turn the VOLTS/DIV dial for channel so that the vertical
    divisions are set to 5V per division. ]{.c5}
2.  [Move the test lead between ground and power. You should see the
    yellow line jump exactly one vertical division. This should make
    sense since one vertical division on the screen corresponds to
    exactly 5V. ]{.c5}
3.  [Set the VOLTS/DIV back to 2V for channel one and make sure your
    test lead is in the 5V bus. Now turn the Vertical control for
    channel one (it is the dial labeled with two up and down arrows)
    down until you can see the yellow line.]{.c5}

<!-- -->

4.  [How many divisions are there between the yellow 1 (the ground
    reference for channel one on the screen) and the yellow line:
    \_\_\_\_\_\_\_\_\_]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

### [Pulse]{.c0} {#h.k0uq7hfjwuye .c18}

1.  [Return your scope to the Default Setup. (see above)]{.c5}
2.  [Write a program to toggle pin 2 at so that it is HIGH for 10ms and
    LOW for 5ms.]{.c5}
3.  [Connect your test lead to pin 2 of the Metro Mini (the ground lead
    should remain on ground)]{.c5}
4.  [Download your program and you should see the yellow line appear to
    flash on the screen. Actually, it is showing a pulse, but you cannot
    see the upper portion of the pulse because it is off the
    screen.]{.c5}
5.  [Set your VOLTS/DIV to 5V (from 2V) and you should now be able to
    see the upper portion of the pulse, but you will still not see a
    pulse, just a line bouncing up and down.]{.c5}

### [Horizontal Divisions]{.c0} {#h.ites8jeyv11g .c112}

1.  [The reasons you cannot see the pulse is because the horizontal
    divisions are too fine. Below is a an example of your scope and the
    pulse. Notice that you will only see either the top or bottom of the
    pulse, but not the whole pulse.]{.c5}

[![](images/image5.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 468.00px; height: 70.00px;"}

2.  [Note that each horizontal division is set at 2.5us by default. See
    the lower middle of your screen.]{.c5}
3.  [Adjust the horizontal divisions using the TIM/DIV so that each
    horizontal division is 2.5ms. The TIME/DIV dial is at the bottom of
    the HORIZONTAL menu of the user interface. You should now see the
    pulse moving across your screen.]{.c5}
4.  [In order to freeze the pulse, set the trigger level to just below
    the highest point of your pulse. The trigger level is set using the
    dial labeled LEVEL under the TRIGGER menu of your user interface.
    You can see the trigger level indicated on your screen by the small
    yellow arrow on the right side of the screen.]{.c5}

### [Challenges]{.c0} {#h.f5ltol8vy7c5 .c112}

1.  Record the following from your screen for the waveform you created
    in the above lesson[. ]{.c5}

<!-- -->

1.  [Vertical width of divisions:                                
    \_\_\_\_ V]{.c5}
2.  [Horizontal width of divisions:
                                    \_\_\_\_ ms]{.c5}
3.  Number of vertical divisions for each pulse:                \_\_\_\_
    divisions
4.  [Number of horizontal divisions for a low pulse:        \_\_\_\_
    divisions]{.c5}
5.  [Number of horizontal divisions for high pulse:         \_\_\_\_
    divisions]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

2.  Make a new wave form on your screen that has a high time of 300us
    and a low [time of 200us. Adjust your time division so that the the
    high pulse is exactly three horizontal divisions wide.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

3.  Create a waveform that is 350Hz and display it on your scope. If you
    have done this correctly, you should see \~350Hz shown next to the
    green f at the bottom of your scope.

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

[]{.c15 .c1}

[]{.c15 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.lhvvpu96c4x0}

[MCP9808 TEMPERATURE SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.pvrieatt8kvy .c30}
===================

In this lesson you will learn to use the MCP9808 temperature sensor. The
MCP9808 is a digital sensor that produces the temperature natively in
Celsius. It communicates with a microcontroller using the I2C protocol
which is one of many [[communication
protocols](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.zbv2l6wpi6ec&sa=D&ust=1544756832232000){.c34}]{.c31}[ you
will use. ]{.c5}

[Setup]{.c4 .c1} {#h.iuzkr8dvw3ie .c30}
================

1.  [Find an MCP9808 in the bin labeled "Temperature Sensor"]{.c5}
2.  [Remove the power (USB cable) from your breadboard.]{.c5}
3.  [Insert the MCP9808 into your breadboard.]{.c5}
4.  [Connect Vdd to power and Gnd to ground.]{.c5}
5.  Connect the SDA (data) and SCL (clock) communication pins to the SDA
    and SCL pins on your microcontroller. You can locate the I2C pins
    (SDA, SCL) on your Metro Mini from this
    [[diagram](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.m133u0p0njav&sa=D&ust=1544756832233000){.c34}]{.c31}[.
    ]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[Program]{.c4 .c1} {#h.6bv6ieqgdnzn .c30}
==================

1.  Open the example file under File/Examples/Adafruit MCP9808
    Library/mcp9808test. If this file is not installed in your Examples
    folder, you will need to install it using the [[manage
    libraries](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.5ie0wlz76yki&sa=D&ust=1544756832234000){.c34}]{.c31}[ function.
    Just search for "Adafruit MCP9808 Library" in library manager.
    ]{.c5}
2.  [Download the file to your microcontroller.]{.c5}
3.  [Open the Serial Monitor and view the results.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MODIFYING EXAMPLE CODE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.6r3a032f8eak .c30}
===================

[The purpose of example code is mostly to confirm that a new device
works correctly. Once you know that the device works it is best to make
a copy of the example code and modify it to suit your needs. In this
lesson we will use the example code from the previous lesson a our
model. ]{.c5}

[]{.c5}

Exercise:

1.  [Make a copy of the example file (MCP9808)  used above using Save
    As... I recommend calling it MCP9808-simple or something like this.
    You will make this conversion for lots of example code files and you
    need to use the "simple" version of the files often so it is good to
    save them in way that you can easily find them. Make sure you save
    it in the directory you are using to store all your code files.
    ]{.c5}
2.  Modify the code so that it only displays the temperature in Celsius.
    In order to do this efficiently, you should need to [[comment
    out](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.yx113392uaik&sa=D&ust=1544756832236000){.c34}]{.c31}[ the
    lines of code you do not need. ]{.c5}
3.  [Make sure you remove ALL the code you do not need. Continue to cut
    code till it breaks, than comment the necessary code back into the
    file. If you do this carefully, you will be left with only the
    essential code for the required application. ]{.c5}
4.  Add an LED to your board and modify the code so that the LED goes on
    when the temperature passes 26.25 degrees [Celsius and turns off
    when the temperature is below 26 degrees. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

5.  [Find an equation for converting Celsius to Fahrenheit and then use
    this equation to make the conversion in your code. Display a column
    of temperature values in Fahrenheit. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c5}

[]{#id.6zu0qqq5hfz0}

[LIGHT SENSOR 1]{.c4 .c1}

[Overview]{.c4 .c1} {#h.wtqke7x77y1t .c30}
===================

In this lesson you will be measuring the light level in the room using a
photocell. A photocell is a resistor that varies the value of its
resistance based on the level of light that strikes its surface[.]{.c5}

[![](images/image33.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 136.00px; height: 122.00px;"}

[]{.c5}

[![](images/image42.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 260.50px; height: 285.71px;"}

[]{.c5}

### [Exercise:]{.c0} {#h.5y6xxdade8h5 .c18}

1.  [Construct the circuit shown above.]{.c5}
2.  [Measure the voltage at the output using a multimeter.]{.c5}
3.  [Record voltages when the photocell is:]{.c5}

<!-- -->

1.  [Uncovered:                         ]{.c5}

[\_\_\_\_\_\_\_\_\_\_\_\_\_\_ V]{.c5}

2.  [Covered with your thumb:         ]{.c5}

[\_\_\_\_\_\_\_\_\_\_\_\_\_\_ V]{.c5}

4.  [Record the voltage levels for the photocell covered by the
    following parts of your hand. Make sure to fully cover the sensor
    with finger, hand or arm.]{.c5}

<!-- -->

1.  [Pinky finger:                 \_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}
2.  [Pointer finger:                 \_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}
3.  [Thumb:                \_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}
4.  [Whole hand:                \_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}
5.  [Arm:                        \_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}

[What would account for the different voltages and light levels?]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise:]{.c0} {#h.hsle7vnumehl .c112}

1.  [Connect the output of the circuit to one of the analog pins on your
    Metro Mini.]{.c5}
2.  [Write a program to read the value of the output and print it in the
    Serial Monitor in a single column.]{.c5}
3.  [Note the changes in values in different light levels.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[LIGHT SENSOR 2]{.c4 .c1}

[Overview ]{.c4 .c1} {#h.tcntxwh9f12e .c30}
====================

[In this lesson you will use a TEMT6000 breakout board for measuring
light levels in the classroom. The TEMT6000 is designed to produce and
analog signal proportional to the level of ambient light.]{.c5}

[]{.c5}

[![](images/image37.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 170.00px; height: 167.00px;"}

### [Exercise:]{.c0} {#h.1r3200cxwoce .c18}

1.  [Insert the TEMT6000 board into your breadboard.]{.c5}

[REMINDER: ALWAYS UNPLUG YOUR BOARD (USB CABLE) FROM POWER BEFORE ADDING
OR REMOVING ANY COMPONENTS.]{.c5}

2.  [Connect power and ground.]{.c5}
3.  [Connect the SIG to one of your analog ports and display the values
    in your Serial Monitor. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise:]{.c0} {#h.jmpkvms1t5pu .c112}

1.  [Write a program that turns on an LED when light in the room drops.
    You mimic low light levels in the room by covering the light sensor
    with your hand.]{.c5}

[TEACHER CHECK \_\_\_]{.c1}

2.  [Write a program to change the frequency of a tone on a piezo
    speaker based on the level of light that reaches the sensor.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[HALL EFFECT SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.30de9c6mu4bo .c30}
===================

Hall effect sensors are designed to detect the presence of a magnetic
field. They are used in a variety of applications included detecting if
a door is open or closed, and counting rotations of a motor. The hall
effect sensor you will be using is the US5881. You can find a datasheet
for this device
[[here](https://www.google.com/url?q=https://cdn-shop.adafruit.com/datasheets/US5881_rev007.pdf&sa=D&ust=1544756832246000){.c34}]{.c31}[.
]{.c5}

[![](images/image88.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 112.00px; height: 114.00px;"}

[]{.c5}

[Exercise:]{.c5}

1.  [Collect one US5881 from the bins. The device has U58 printed on the
    front of the component.]{.c5}
2.  Record the Max. and Min. supply voltage for this device. These
    specifications [can be found on page 4 of the datasheet.]{.c5}

<!-- -->

1.  [Max. \_\_\_\_ V                Min. \_\_\_\_ V]{.c5}

<!-- -->

3.  [Record the function for each of the three pins of the US5881.  This
    information can be found on page 3 of the datasheet. NOTE: Make sure
    to write down the values for the UA package not the SE package.
    ]{.c5}

[Pin 1: \_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[Pin 2: \_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[Pin 3: \_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

4.  On page 7 of the datasheet you will find the Typical Three-wire
    Application Circuit (12.1) Set up this circuit as described. Note:
    You do not need to include either capacitor for testing purposes.
    They would be recommended for a commercial application. Make sure to
    always remove power from your circuit when adding a device[. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

5.  [Set up a multimeter to measure the voltage output of the hall
    effect sensor for when it is near a magnet is near to it. Record
    your readings below.]{.c5}

[                Near a magnet:         \_\_\_\_\_\_\_\_\_\_\_\_
Volts]{.c5}

[Not near a magnet:         \_\_\_\_\_\_\_\_\_\_\_\_ Volts]{.c5}

6.  [Record the distance at which the sensor detects the magnet.]{.c5}

[Distance from magnet:  \_\_\_\_\_\_\_ mm]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[STRIP AND CRIMP]{.c4 .c1}

[Overview]{.c4 .c1} {#h.v5pi7zfbe5mu .c30}
===================

In order to make secure connections between all of your electronic
devices, you need to learn how to make good connections. In order to do
this you will need to
[[strip](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.iu1a5wiv6hpy&sa=D&ust=1544756832250000){.c34}]{.c31} wires
and
[[crimp](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.7su0yza1ij0z&sa=D&ust=1544756832250000){.c34}]{.c31} [wires.
]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.oeazlh12mjr0 .c18}

[Crimp a wire and show your work to your teacher. Repeat until you get
it right.]{.c5}

[]{.c5}

-   [Standard Molex connector]{.c5}
-   [JST male and female connector]{.c5}
-   Barrel connector

    ------------------------------------------------------------------------

[TACHOMETER CHALLENGE ]{.c4 .c1}

[Overview]{.c4 .c1} {#h.yv056fjet581 .c30}
===================

[In this challenge you will measure the speed of a motor using a magnet,
hall effect sensor and oscilloscope. Placing a magnet on the shaft of a
motor, the hall effect will detect every time the shaft turns one
revolution. Using an oscilloscope, you can measure the time it takes for
each revolution.]{.c5}

[![](images/image92.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 323.00px; height: 119.00px;"}

[Exercise:]{.c5}

1.  [Complete the exercise (Hall Effect Sensors) described above.]{.c5}
2.  [Find a motor in the back room. The motor should have no gear
    reduction. If you don't know what this means, you can ask your
    teacher.]{.c5}
3.  [Determine the correct voltage for driving the motor. If it is not
    listed on the motor bin or on the motor itself, look up the motors
    part number (listed on motor). If this fails, assume the motor runs
    at 6V.]{.c5}
4.  [Connect the motor directly to a power supply using test leads and
    confirm that it spins at the correct voltage.]{.c5}
5.  [Make (or find) a three-wire extension that is more than 6-inches in
    length. The extension should have a three pin header on each end.
    This will allow you to move your hall effect sensor off the
    breadboard. ]{.c5}

[![](images/image65.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 136.50px; height: 136.50px;"}

6.  [Place the hall effect sensor in one end of the cable and place the
    other end in the breadboard, in the same place where you had your
    sensor.]{.c5}
7.  [Set up your oscilloscope to read the output of the hall effect
    sensor. The ground lead should be connected to ground and the signal
    lead should be connected to the output of the hall effect
    sensor.]{.c5}
8.  [Turn on the motor.]{.c5}
9.  [Place the hall effect sensor near the spinning magnet until you
    begin to see evenly spaced pulses on your oscilloscope. ]{.c5}
10. Adjust the TIME/DIV so that you easily see only one or two complete
    pulses [on the screen. Complete the following.]{.c5}

<!-- -->

1.  [Horizontal division time:                 \_\_\_\_\_\_\_\_]{.c5}
2.  [Number of divisions per cycle:        \_\_\_\_\_\_\_\_]{.c5}
3.  [Total time per cycle:
                            \_\_\_\_\_\_\_\_]{.c5}
4.  [Calculated frequency:                 \_\_\_\_\_\_\_\_]{.c5}
5.  [Frequency reported by scope:        \_\_\_\_\_\_\_\_]{.c5}

<!-- -->

11. Calculate revolutions per minute (RPM). The speed of motors is most
    commonly measured in RPM. On your own, using the information you
    have collected to calculate RPM. Show your work below.

    ------------------------------------------------------------------------

[]{.c5}

[]{#kix.injeojhxshuu}

[SEVEN SEGMENT DISPLAY]{.c4 .c1}

[Overview]{.c4 .c1} {#h.3velu98okbn7 .c30}
===================

The four digit seven segment display provides an easy and quick way to
display numbers. It is also highly visible from a distance. The display
can display numbers in both decimal and
[[hexadecimal](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.r9xkk2b3evb&sa=D&ust=1544756832255000){.c34}]{.c31}[ since
it can display the characters A-F. It can be used as clock display since
it contains a colon between the two pairs of digits.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.a95so5vx41j7 .c18}

Remove power and wire up the four digit display to your breadboard. Note
that there are only four required connections. The device communicates
with your microcontroller over
[[I2C](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.zbv2l6wpi6ec&sa=D&ust=1544756832256000){.c34}]{.c31}.
The pin marked D (data) should be connected to SDA on your
microcontroller. The pin marked C (clock) should be connected to SCL on
your microcontroller. You can locate the I2C pins (SDA, SCL) on your
Metro Mini from this
[[diagram](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.m133u0p0njav&sa=D&ust=1544756832257000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

### [Exercise:]{.c0} {#h.ezh7nl3ueq0j .c18}

1.  Open and download the example code Examples/Adafruit LED Backpack
    Library/sevenseg. If you cannot find this file, you can install the
    library Adafruit LED Backpack. You can find more information about
    managing libraries
    [[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.5ie0wlz76yki&sa=D&ust=1544756832258000){.c34}]{.c31}[.
    If the code does not compile, you may need to install the Arduino
    GFX library as well.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

2.  [Make a copy of the code and modify the copy so that it only
    displays a single number. Make sure you remove all of the code you
    do not need. ]{.c5}
3.  Modify your new code file so that your displays counts from 0 to 120
    and repeats with a 10ms delay. You will need to use a [[for
    loop](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.2u7q6orum403&sa=D&ust=1544756832259000){.c34}]{.c31}[ to
    do this. ]{.c5}
4.  [Using the MCP9808 temperature sensor, display the temperature on
    the LED display. In order to do this, you will need to combine
    minimal code for the temperature sensor with minimal code for the
    LED display.]{.c5}

[]{.c5}

[ ]{.c49}[TEACHER CHECK \_\_\_\_]{.c94}

------------------------------------------------------------------------

[ACCELEROMETER]{.c4 .c1}

[Overview]{.c4 .c1} {#h.3adt5eyb63iu .c30}
===================

[In this lesson you will use and accelerometer to measure tilt in three
axis. The LIS3DH is a 3-axis accelerometer which can sense tilt in a
three coordinate system as shown below. This devices uses the I2C
protocol to communicate with your microcontroller. ]{.c5}

[![](images/image8.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 253.50px; height: 222.85px;"}

[Setup]{.c4 .c1} {#h.es0evwdp6ls8 .c30}
================

1.  [Collect an LIS3DH from the grey bins.]{.c5}
2.  [Disconnect your breadboard from power (USB cable).]{.c5}
3.  [Place it on your breadboard and connect ]{.c5}

<!-- -->

1.  [Vin to 5v]{.c5}
2.  [GND to ground]{.c5}
3.  [SCL to SCL on your Metro Mini]{.c5}
4.  [SDA to SDA on your Metro Mini]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Software]{.c4 .c1} {#h.17xnty7n54sz .c30}
===================

1.  Download [File/Examples/Adafruit LIS3DH/acceldemo]{.c5}
2.  [Open your Serial Monitor. You should see all 3 axis displayed.
    ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[Modify]{.c4 .c1} {#h.oej2hspu8266 .c30}
=================

1.  [Make copy of the example file and modify it so that it displays
    only the raw values for the X axis. Make sure you remove all the
    code that you do not need for this purpose.]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

2.  Modify your simpler code to display the X axis on the seven segment
    display[. ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

3.  Modify your code to display the acceleration in m/s2 (meters per
    second squared). Note [that 9.8m/s2 is the gravity at sea level. You
    will need to carefully examine the original example code to find out
    how to display your raw results in m/s2.]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.5r32odzbscuc}

[NEOPIXEL STICK]{.c4 .c1}

[Overview]{.c4 .c1} {#h.389ll56xgkgc .c30}
===================

[The neopixel stick is a rigid strip of eight neopixels. Neopixels are
addressable LEDs that can display any one of over 16 million colors.
Each neopixel includes one red, one green and one blue LED that can each
display 255 shades of color. Multiplying 255 (shades of red) by 255
(shades of blue) by 255 (shades of green) gives you a total of
16,777,216 colors.]{.c5}

[Setup]{.c4 .c1} {#h.18o358jqzffl .c30}
================

1.  [Collect a neopixel stick from the yellow Neopixel bin. ]{.c5}
2.  [Remove power from your breadboard.]{.c5}
3.  [Insert the neopixel stick in your breadboard]{.c5}
4.  [Connect GND to ground, 5VCC to power and DIN to pin 6 of your Metro
    Mini]{.c5}
5.  [Program the Metro Mini using Examples/Adafruit Neopixel/simple. If
    this file is not in your examples directory, you will need to
    install it.]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[Modify]{.c4 .c1} {#h.28xkq1yclz8u .c30}
=================

1.  [Modify the code so that it just sets the 3rd LED from the bottom to
    a dull green. ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

2.  [Add three potentiometers to your board and modify your code so that
    each potentiometer controls one of the three colors (red, green,
    blue). ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

3.  Modify your code so that a potentiometer can be used to control the
    number of LEDs that are lit on the neopixel strip. When the
    potentiometer is set all the way to the left no neopixels should be
    lit. When it is set all the way to the right, all the neopixels
    should be lit. You will need to use the [[mapping
    function](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.w4r79820c3cs&sa=D&ust=1544756832267000){.c34}]{.c31}[ to
    accomplish this. ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c5}

[]{#id.nxq2glhr480a}

[REAL TIME CLOCK (RTC)]{.c4 .c1}

[Overview]{.c4 .c1} {#h.lfblazcwcz6j .c30}
===================

In this lesson, you will learn how to use an external real time clock
(RTC) to create a clock circuit. The IC you will be using is a
[[DS1307](https://www.google.com/url?q=https://datasheets.maximintegrated.com/en/ds/DS1307.pdf&sa=D&ust=1544756832269000){.c34}]{.c31}[ made
by Dallas Semiconductor. The device can keep track of time, date and day
of week. It can automatically adjust for days in a month (30 vs 31) and
can account for leap year. It can also be used with a low power battery
backup to keep time during loss of power. This device also uses I2C as
its communication protocol.]{.c5}

[]{.c5}

[![](images/image47.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 147.50px; height: 139.74px;"}[![](images/image97.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 154.66px; height: 152.50px;"}

[DS1307 IC (left) and 32.768Khz clock crystal (right)]{.c78 .c1 .c65}

[Circuit]{.c4 .c1} {#h.t2zxwz1rse1f .c30}
==================

Below is the sample circuit diagram from the
[[DS1307](https://www.google.com/url?q=https://datasheets.maximintegrated.com/en/ds/DS1307.pdf&sa=D&ust=1544756832270000){.c34}]{.c31}[ datasheet.
Use this diagram to complete the circuit on your breadboard. You will
NEED to use the datasheet to determine which pin on the DS1307 is GND,
SDA, SCL etc. You can find the DS1307 in the grey bins under ICs marked
Misc IC. Notes:]{.c5}

-   [You do not need to connect SQWT/OUT or Vbat. ]{.c5}
-   [The crystal is  a 32.768Khz clock crystal. ]{.c5}
-   [The pull-up resistors (Rpu) are both 10K]{.c5}
-   [Connect SCL from the DS1307 to SCL on the Metro Mini]{.c5}
-   [Connect SDA from the DS1307 to SDA on the Metro Mini]{.c5}

[![](images/image18.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 352.00px; height: 263.00px;"}

[Code]{.c4 .c1} {#h.gbucqok90w2n .c30}
===============

[Open the file under Examples/Grove - RTC DS1307/SetTimeAndDisplay. If
this file does not exist use the manage library function to find the
Grove - RTC DS1307 library. Upload the code to the Metro Mini and open
the Serial Monitor. You should see the time on the left and the date on
the right. ]{.c5}

[Set Time]{.c4 .c1} {#h.vmb5u758exoq .c30}
===================

[You can set the time in the Setup function in your code. Try setting
different times and dates. Note that you will need to set the correct
day-of-week. ]{.c5}

[12 Hour vs 24 Hour]{.c4 .c1} {#h.9teobabdj3x .c30}
=============================

The DS1307 can be set for either 24 hour or 12 hour time. The software
library you are using may be set for 24 hour time. You can test the
format by setting the time to 12:59:55 and wait five [seconds to see if
it changes to 1:00 or 13:00. ]{.c5}

[]{.c5}

If your library is set to 24 hour time you can convert it to 12 hour
time, by following the steps [below to convert the library code itself.
]{.c5}

1.  [Open your Windows file manager]{.c5}
2.  [Navigate to My Documents/Arduino/libraries/Grove RTC DS1307]{.c5}
3.  [Right click on DS1307.cpp and Open with Atom]{.c5}
4.  [Scroll down to the function void DS1307::getTime]{.c5}
5.  [As shown below comment out the first line and add the second
    line.]{.c5}

[]{.c5}

#### [//hour = bcdToDec(Wire.read() & 0x3f);// Need to change this if 12 hour am/pm]{.c50 .c38} {#h.y2q0uplr9f5c .c18 .c43}

#### [         hour = bcdToDec(Wire.read() & 0x1f);]{.c50 .c38} {#h.mgkct0q4ws54 .c18 .c51 .c43}

[]{.c5}

6.  [Scroll down to the function void DS1307::setTime]{.c5}
7.  [As shown below comment out the first line and add the second
    line.]{.c5}

[]{.c5}

#### [//Wire.write(decToBcd(hour)); // If you want 12 hour you need to set bit 6]{.c50 .c38} {#h.oizs48o19byy .c18 .c71}

#### [    Wire.write(decToBcd(hour)\|0x40); ]{.c50 .c38} {#h.ydn0jgercka2 .c18 .c51 .c43}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Minimize Code]{.c4 .c1} {#h.x4rjav360l8p .c30}
========================

[As with other lessons, save a copy of the code and minimize the code.
In this case, minimize the code to just display the time including hour,
minute and second.]{.c5}

[]{.c5}

[CHALLENGE REVIEW]{.c4 .c1}

[Overview]{.c4 .c1} {#h.kc57h8k11rza .c30}
===================

[In this challenge you will construct an LED clock using the DS1307 real
time clock and the seven segment display. This will require you to
combine the code from each file into one file. A recommendation is to
start with the simplest version of one of the two code files and slowly
(one line at a time) add code from the other file. You should test the
code every time you add a new line. Here are some additional
suggestions:]{.c5}

[]{.c5}

-   [use the necessary headers (.h files) for both devices]{.c5}
-   [define a variable (object) for each device.]{.c5}
-   [set the time]{.c5}
-   [begin both the clock and the display]{.c5}
-   [get the time in the loop]{.c5}
-   [print values to the LED using the DEC argument]{.c5}

[]{.c5}

[In order to most easily print the hours and minutes to the LED display,
you can combine the two using the following equation. Note that
multiplying the hour by 100 you are shifting it two places to the right
on the display. ]{.c5}

[]{.c5}

#### [  int value = clock.hour \* 100 + clock.minute;]{.c50 .c38} {#h.tr5rqctkmqop .c18 .c51 .c43}

[]{.c5}

[This is a VERY challenging challenge!]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[BINARY]{.c4 .c1}

[Overview]{.c4 .c1} {#h.dz0evcii7jq0 .c30}
===================

Binary is a way of representing numbers in base-2. It is also one of the
number
[[bases](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.r9xkk2b3evb&sa=D&ust=1544756832278000){.c34}]{.c31} commonly
[used in writing code. Base-2 numbers have exactly two digits, 0 and 1.
These digits can be used to directly represent the two possible states
in your microcontroller (5V or HIGH) and (0V or LOW). In this way, all
numbers stored inside your microcontroller are represented directly in
binary. ]{.c5}

[Printing Binary]{.c4 .c1} {#h.w3pd54pzsmns .c30}
==========================

[You can use the serial print command to print numbers in binary as well
as decimal. The following print command will print a number in decimal
by default.]{.c5}

[]{.c5}

#### [Serial.print(6);                //this will print 6]{.c50 .c38} {#h.chn2elq22453 .c18 .c51 .c43}

[]{.c5}

[Using an optional argument you can specify alternative base
representations.]{.c5}

[]{.c5}

#### [Serial.print(7, DEC);        //this will print 7]{.c50 .c38} {#h.8i6w58c74q7v .c18 .c51 .c43}

#### [Serial.print(7, BIN);        //this will print 111]{.c50 .c38} {#h.8i6w58c74q7v-2 .c18 .c51 .c43}

[]{.c5}

### [Exercise:]{.c0} {#h.i7j1mvp4qvkv .c18}

1.  [Using what you learned above print the numbers 1, 9 and 23 in both
    decimal and binary in your Serial Monitor.]{.c5}

[TEACHER CHECK \_\_\_]{.c1}

2.  [Print two columns of numbers, one in decimal and one in binary.
    These numbers should increment from 0 and have a .3 second delay
    between increments. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Leading Zeros]{.c4 .c1} {#h.ivx2qlkeejbm .c30}
========================

It is often easier to read binary (and other base) numbers with leading
zeros. Leading zeros are zeros placed to the left of the number you are
printing or reading. You can find more information about leading zeros
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.hf5nphnveoo6&sa=D&ust=1544756832281000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[CAPACITIVE TOUCH SENSOR]{.c4 .c1}

[Overview ]{.c4 .c1} {#h.6w19bnz6nny1 .c30}
====================

[In this lesson, you will learn how design and read a 12 input
capacitive keypad. Capacitive touch keypads are often found on computer
screens allowing the user to just touch the screen to trigger a key. The
work by responding to the electric charge in human skin. ]{.c5}

[MRP121]{.c4 .c1} {#h.6wn6w1mpk92b .c30}
=================

[The MPR121 is capacitive touch sensor controller that can be used to
respond to 12 capacitive touch sensors. ]{.c5}

[]{.c5}

[![](images/image115.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 360.50px; height: 269.96px;"}

[]{.c5}

[Wiring]{.c4 .c1} {#h.enj22n758awz .c30}
=================

[Above is a picture of the Adafruit MPR121 module. Wire the module as
follows.]{.c5}

[]{.c5}

[GND pins to ground.]{.c5}

[VIN pin to 5 volts]{.c5}

[SCL pin to A5 on your Arduino or Metro]{.c5}

[SDA pin to A4 on your Arduino or Metro]{.c5}

[Testing]{.c4 .c1} {#h.lqynfnupra4v .c30}
==================

[Follow the instructions below to test that you have wired your module
correctly.]{.c5}

1.  [Open the file Examples/AdafruitMPR121/MPR121test and upload it to
    your Metro Mini.]{.c5}
2.  [Open your Serial Monitor and you should see:]{.c5}

[]{.c5}

#### [Adafruit MPR121 Capacitive Touch sensor test]{.c50 .c38} {#h.atjp5elgldih .c18 .c43}

#### [MPR121 found!]{.c50 .c38} {#h.atjp5elgldih-3 .c18 .c43}

[]{.c5}

[If you touch any of the actual pins (labeled 0 through 11) you should
see number of the pin you touched appear on the terminal window. ]{.c5}

[Electrodes]{.c4 .c1} {#h.3f0ecuoy28ud .c30}
=====================

[You can make electrodes from just about anything that conducts i.e.
metal foil or even pieces of  fruit. As a start, you will make three
buttons from conductive tape and wires.]{.c5}

[]{.c5}

[![](images/image14.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 393.50px; height: 295.13px;"}

[]{.c5}

As a first step, I recommend making a simple four key keypad as shown
below. Make sure to use 22g [[solid
core](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.ya5gjhqj28ms&sa=D&ust=1544756832285000){.c34}]{.c31}[ wire.
You can find this in the wire bin.]{.c5}

[![](images/image109.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 378.00px; height: 221.30px;"}

[You will need to strip the end of the wire before placing it under the
conductive tape and then taping the conductive tape to the cardboard.
Once you have completed your keypad, demonstrate the pad for your
teacher.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Challenge]{.c4 .c1} {#h.tbbai1cr80rp .c30}
====================

[Add a piezo speaker to your board and modify the code so that it plays
a different tone for each key you press. The circuit should each tone as
long as the key is pressed. This means you will need to check for the
key being down and up.]{.c5}

[Minimize Code]{.c15 .c1} {#h.3ei2xwares50 .c20}
-------------------------

[The first step is to save a version of the sample code file (i.e.
rename it and save it in your personal local directory) Next try to
remove parts of the code you don't need. This is particularly difficult
with this example file because it is fairly complex.]{.c5}

[Read Results]{.c15 .c1} {#h.l9nfht8k5ien .c20}
------------------------

The function that returns the value of the key presses (which keys are
pressed and which keys [are unpressed) is:]{.c5}

[]{.c5}

#### [touch = cap.touched();]{.c50 .c38} {#h.jvsyhcyhqiv3 .c18 .c35}

[]{.c5}

[NOTE: touch is just a variable for storing the value returned from the
function. You could use any variable in its place.]{.c5}

[]{.c5}

[The value (touch) is returned as a 12-bit number. This means that the
possible range is 0 to 4095 (or all 12 bits set to 1 i.e. 111111111111).
This is significant because the touch sensor has 12 inputs, so the value
of each of the inputs can be represented by one of the 12 bits. ]{.c5}

[]{.c5}

[The following table shows some possible 12-bit binary results, their
decimal equivalent and the keys which would be pressed.]{.c5}

[]{.c5}

[]{#t.2774fd9dafda36c02440247534701ce7adaa1f79}[]{#t.7}

[\#]{.c4 .c1}

[Keys]{.c15 .c1}

[]{.c4 .c1}

[11]{.c15 .c1}

[10]{.c15 .c1}

[9]{.c15 .c1}

[8]{.c15 .c1}

[7]{.c15 .c1}

[6]{.c15 .c1}

[5]{.c15 .c1}

[4]{.c15 .c1}

[3]{.c15 .c1}

[2]{.c15 .c1}

[1]{.c15 .c1}

[0]{.c15 .c1}

[5]{.c15 .c1}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[1]{.c5}

[0]{.c5}

[1]{.c5}

[2]{.c15 .c1}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[1]{.c5}

[0]{.c5}

[1]{.c15 .c1}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[0]{.c5}

[1]{.c5}

#### []{.c50 .c38} {#h.9l3jm0c6kuku .c18 .c139}

[]{.c5}

Print the results of the key presses to the Serial Monitor. Make sure to
print the results in
[[binary](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.2bsdktk7z98&sa=D&ust=1544756832307000){.c34}]{.c31}[.
Note that the key press results are coded in 12 bits of binary with each
bit representing a key press. ]{.c5}

[Reading Input]{.c4 .c1} {#h.7wd5of52gxzk .c30}
========================

[The following code should produce a 1, 2 or 4 depending on which
electrode is touched.]{.c5}

[]{.c5}

[\#include \<Wire.h\>]{.c2}

[\#include \"Adafruit\_MPR121.h\"]{.c2}

[]{.c2}

[int touch;]{.c2}

[Adafruit\_MPR121 cap = Adafruit\_MPR121();]{.c2}

[]{.c2}

[void setup() {]{.c2}

[  Serial.begin(9600);]{.c2}

[  cap.begin(0x5A);]{.c2}

[}]{.c2}

[]{.c2}

[void loop() {]{.c2}

[  touch = cap.touched();]{.c2}

[  if (touch != 0) {]{.c2}

[    Serial.print(touch,BIN);]{.c2}

[  }]{.c2}

[  delay(200);]{.c2}

[}]{.c21}

##### [NOT FINISHED]{.c86 .c49 .c67} {#h.p3qlgwambbia .c106}

------------------------------------------------------------------------

[]{.c5}

[De-Bounce Button]{.c4 .c1}

[Overview]{.c4 .c1} {#h.cr0gd7opi6xd .c66}
===================

[Imagine pressing a momentary button like one on a keypad. The time
during which it is pressed seems to be so short as to be irrelevant, yet
microcontrollers process information at an incredibly fast rate, 16
million cycles per second in the case of the Arduino or one cycle every
62.5 nanoseconds. By this measure our fingers are very slow. ]{.c5}

[Button Pulse]{.c4 .c1} {#h.qkk2toqj4r6m .c30}
=======================

In order to write code to read a button press, you will need to
understand [the length of the average button press. If you wire your
button so that it defaults to LOW, when the button is pressed the output
goes HIGH and when it is released the output goes LOW. This results in a
pulse as shown below. ]{.c5}

[![](images/image64.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 497.00px; height: 189.00px;"}

[Although the length of time a button is pressed may depend on may
depend on many factors such as the device, or the mood or tendency of
the user, it is possible to work out some useful parameters for button
press length using your oscilloscope. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.c19v0w3do5d .c18}

[Connect the output of a default low button circuit to your
oscilloscope. For the length of the average button press, try to imagine
you are using a gamepad device or your entering time on your microwave
oven. Make sure to include the correct units. ]{.c5}

[]{.c5}

[In order to do this easily, you will need to use the trigger on your
scope.  ]{.c5}

##### [NOT FINISHED]{.c49 .c67 .c86} {#h.3iuac0v6ndku .c107}

[]{.c5}

[        Length of shortest button press:
        \_\_\_\_\_\_\_\_\_]{.c5}

[        Length of average button press:        \_\_\_\_\_\_\_\_\_]{.c5}

[2. TEACHER CHECK \_\_\_\_]{.c1}

[Button Software]{.c15 .c1} {#h.xfpzpmrpbtxe .c20}
---------------------------

The following are[ two basic strategies for using a button to control
the states within your microcontroller. ]{.c5}

### []{.c0} {#h.b7wvx5nff92f .c18 .c16}

-   [D]{.c1}[irect state]{.c1} control, the state of the button equals
    the state of the device. For example, a direct state control of an
    LED would turn the LED when the button is pressed and off when the
    button is not pressed.
-   [Toggle state]{.c1} control, the button can transition a device
    between two states. For example in toggle [state control of an LED,
    the LED would change its state (on or off) after each button press.
    ]{.c5}

### [Exercise]{.c0} {#h.b26ppkhtwdig .c18}

1.  Construct a circuit and write a program [to demonstrate direct
    control using a button and an LED. The LED should remain on as long
    as the button is pressed and turn off when the button is not
    pressed.]{.c5}

[3. TEACHER CHECK \_\_\_\_]{.c1}

2.  [Using a single button demonstrate toggle control over one LED.
    There are two ways to solve this problem. One is create a new
    variable to store the state of the button press. The second is to
    toggle the state of the LED. You can find information on toggling an
    LED on line.]{.c5}

[NOTE: If your circuit is not reliable (i.e. not consistently changing
states), check the guide on timing and button presses.]{.c5}

[4. TEACHER CHECK \_\_\_\_]{.c1}

[]{.c4 .c1}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

BUILDING A BREADBOARD ARDUINO

[Overview]{.c4 .c1} {#h.uzz00r1ua0vt .c30}
===================

[In this lesson you are going to construct a Metromini/Arduino Uno on
your breadboard. The advantage of building a the Arduino on a breadboard
is that:]{.c5}

[]{.c5}

1.  [It costs less. The Metro Mini costs \$12.50. The parts to build
    this device cost under \$3.00. This is important if you are building
    a permanent project and don't need features such as on-board USB, a
    voltage regulator and reset button. ]{.c5}

[]{.c5}

2.  [It is more configurable: Using breadboard version of the device,
    you can easily change the power supply from 1.8V to 5.0V. You can
    also easily change the clock speed of the clock from a slow 32.768
    real time clock pulse to a fast 20Mhz.]{.c5}

[]{.c5}

[]{.c5}

[![](images/image74.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 271.48px;"}

[]{.c5}

[]{.c5}

[Above is a diagram of the Metro Mini broken down into functional groups
of components. Below is a description of each of these groups. The ones
in bold are the ones that will be included in your breadboard version.
For these devices the name used on your breadboard schematic is
included.]{.c5}

[]{.c5}

1.  [USB Converter. This section of the board is responsible for
    converting the USB signal from the computer to a pair of serial
    signals that can be used by the microcontroller.]{.c5}
2.  [Power Conversion: This section of the board is responsible for
    providing direct power from the USB as well as regulated power for
    5V and 3.3V. ]{.c5}
3.  [LEDs: This section includes LEDs and their resistors which are used
    to indicate power on the board and whether data is being sent to or
    from the device.]{.c5}
4.  [Microcontroller: This is a surface mount version of the ATMega328p,
    which is the microcontroller that you program. (IC1)]{.c15 .c1}
5.  [Clock: This is the crystal clock resonator that used to provide the
    correct timing "heartbeat" for your controller. (Y1)]{.c15 .c1}
6.  [Reset: The reset button is used to reset the code on the controller
    back to the beginning. It is useful if the code gets stuck in a bad
    state. (S1)]{.c15 .c1}
7.  [Filter: This is a capacitor that is being used to filter or clean
    the power supply against voltage spikes. (C2)]{.c1}
8.  [Pullup: This is a resistor that is used to prevent the
    microcontroller from going into the reset state.  (R2)]{.c1}

[Collecting components]{.c4 .c1} {#h.beli5940ybxl .c30}
================================

[You will now build a working version of the Metromini or Arduino Uno
using individual components and on a breadboard. Below are the
components you need to collect. You will only need one of each.]{.c5}

[]{.c5}

[]{.c5}

[]{#t.5d2c914d5420286e8045d02395fed6480d171da0}[]{#t.8}

+-----------------------------------+-----------------------------------+
| [Item]{.c15 .c1}                  | [Image]{.c15 .c1}                 |
+-----------------------------------+-----------------------------------+
| [ATMega328p microcontroller]{.c5} | [![](images/image73.png)]{style=" |
|                                   | overflow: hidden; display: inline |
|                                   | -block; margin: 0.00px 0.00px; bo |
|                                   | rder: 0.00px solid #000000; trans |
|                                   | form: rotate(0.00rad) translateZ( |
|                                   | 0px); -webkit-transform: rotate(0 |
|                                   | .00rad) translateZ(0px); width: 1 |
|                                   | 77.00px; height: 125.50px;"}      |
+-----------------------------------+-----------------------------------+
| [16Mhz Resonator]{.c5}            | [![](images/image58.png)]{style=" |
|                                   | overflow: hidden; display: inline |
|                                   | -block; margin: 0.00px 0.00px; bo |
|                                   | rder: 0.00px solid #000000; trans |
|                                   | form: rotate(0.00rad) translateZ( |
|                                   | 0px); -webkit-transform: rotate(0 |
|                                   | .00rad) translateZ(0px); width: 7 |
|                                   | 7.50px; height: 105.00px;"}       |
+-----------------------------------+-----------------------------------+
| [.1uF Capacitor]{.c5}             | [![](images/image19.png)]{style=" |
|                                   | overflow: hidden; display: inline |
|                                   | -block; margin: 0.00px 0.00px; bo |
|                                   | rder: 0.00px solid #000000; trans |
|                                   | form: rotate(0.00rad) translateZ( |
|                                   | 0px); -webkit-transform: rotate(0 |
|                                   | .00rad) translateZ(0px); width: 7 |
|                                   | 6.50px; height: 92.23px;"}        |
+-----------------------------------+-----------------------------------+
| [4.7K Resistor]{.c5}              | [![](images/image62.png)]{style=" |
|                                   | overflow: hidden; display: inline |
|                                   | -block; margin: 0.00px 0.00px; bo |
|                                   | rder: 0.00px solid #000000; trans |
|                                   | form: rotate(0.00rad) translateZ( |
|                                   | 0px); -webkit-transform: rotate(0 |
|                                   | .00rad) translateZ(0px); width: 1 |
|                                   | 30.50px; height: 72.66px;"}       |
+-----------------------------------+-----------------------------------+
| [Momentary switch]{.c5}           | [![](images/image12.png)]{style=" |
|                                   | overflow: hidden; display: inline |
|                                   | -block; margin: 0.00px 0.00px; bo |
|                                   | rder: 0.00px solid #000000; trans |
|                                   | form: rotate(0.00rad) translateZ( |
|                                   | 0px); -webkit-transform: rotate(0 |
|                                   | .00rad) translateZ(0px); width: 9 |
|                                   | 5.50px; height: 106.11px;"}       |
+-----------------------------------+-----------------------------------+

[]{.c5}

[Breadboard Schematic]{.c4 .c1} {#h.pzonygbw5xio .c30}
===============================

The following is the basic microcontroller circuit. Carefully construct
this circuit on your breadboard. Make sure to use short wires for your
all your connections. Neatness counts! Check
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.bk51dfzckrxr&sa=D&ust=1544756832323000){.c34}]{.c31}[ for
a reminder on how to determine pin numbers on an integrated
circuit.]{.c5}

[![](images/image90.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 589.33px;"}

[]{.c5}

[]{.c5}

[]{#t.1e59d2b4eb825ef006cef7ee7c4e643e49b9353d}[]{#t.9}

+-----------------------------------+-----------------------------------+
| [Name]{.c15 .c1}                  | [Description]{.c15 .c1}           |
+-----------------------------------+-----------------------------------+
| [IC1]{.c5}                        | [The ATMega328p At]{.c5}          |
+-----------------------------------+-----------------------------------+
| [Y1]{.c5}                         | [The crystal clock                |
|                                   | resonator]{.c5}                   |
+-----------------------------------+-----------------------------------+
| [C2]{.c5}                         | [The filter capacitor]{.c5}       |
+-----------------------------------+-----------------------------------+
| [R2]{.c5}                         | [The pullup resistor]{.c5}        |
+-----------------------------------+-----------------------------------+

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

[]{.c15 .c1}

[Programming Cable]{.c4 .c1} {#h.no6xwcbj57sp .c30}
============================

[The programming cable connects your microcontroller to the computer and
allows you to send code compiled on the computer to your
microcontroller. The cable communicates with your controller via the
TXD, RXD and includes circuitry for converting USB signals from the
computer to USART signals that the microcontroller can understand.]{.c5}

[]{.c5}

-   TXD stands for transmit data and it is located at pin 3 of your
    microcontroller. This pin [can be used to send data to other devices
    such as your computer. ]{.c5}
-   [RXD stands for receive data and it is located at pin 2 of your
    microcontroller. This pin can be used to receive data from other
    devices such as your computer.]{.c5}

[![](images/image36.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 456.50px; height: 195.23px;"}

Below is a table showing you how to connect your cable to your
microcontroller. Note that the RX (receive) on the cable side is
connected to the TXD (transmit) on the microcontroller and the TX
(transmit) on the cable side is connected to the RXD (receive) on the
microcontroller. This should make sense. You can see a diagram of the
cable
[[here](https://www.google.com/url?q=https://cdn-shop.adafruit.com/datasheets/FT232_Model.pdf&sa=D&ust=1544756832328000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

[Using the table below connect the programming cable to your
microcontroller.]{.c5}

[]{.c15 .c1}

[]{#t.8253b45dc6fe7d19094939740f928b1365feba9d}[]{#t.10}

+-----------------------------------+-----------------------------------+
| [Cable]{.c15 .c1}                 | [Microcontroller (side)]{.c15     |
|                                   | .c1}                              |
+-----------------------------------+-----------------------------------+
| [ RX (yellow)]{.c5}               | [TXD]{.c5}                        |
+-----------------------------------+-----------------------------------+
| [TX (orange)]{.c5}                | [RXD]{.c5}                        |
+-----------------------------------+-----------------------------------+
| [Ground (black)]{.c5}             | [GND]{.c5}                        |
+-----------------------------------+-----------------------------------+
| [5V (red)]{.c5}                   | [5V]{.c5}                         |
+-----------------------------------+-----------------------------------+

[]{.c15 .c1}

[ ]{.c49}[TEACHER CHECK \_\_\_\_]{.c94}

------------------------------------------------------------------------

[Uploading Code]{.c4 .c1} {#h.9sfzu8ahpia4 .c30}
=========================

[Uploading code to the microcontroller with the cable is slightly more
complicated as compared with using a Metromini or Arduino Uno. The
following are two steps you will need to take.]{.c5}

[]{.c5}

1.  Board Selection: The first change is that [you will need to select
    ]{.c83}[Arduino Duemilanove or Diecimila]{.c83 .c133}[ as your board
    type under the Tools/Board menu.]{.c5}
2.  [Button: You will also need to press the button you place on your
    board as soon as you see lights flashing in your programming
    cable.]{.c5}

<!-- -->

1.  [Selected the Upload button on the Arduino IDE]{.c5}
2.  [Wait for lights to flash inside the USB programming cable]{.c5}
3.  [Press button breadboard. If both lights start flashing rapidly, you
    upload should be successful.]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[USING A BREADBOARD ARDUINO]{.c4 .c1}

[Overview]{.c4 .c1} {#h.jdkdb8o248zy .c30}
===================

[There are a few differences between using a breadboard-based Arduino
versus a Metromini or Arduino Uno. One is that the ATMega328 does not
have the pin names conveniently labeled on the IC. The second is that it
cannot be directly powered without by a USB cable. Both issues are
addressed below.]{.c5}

[Pin Names]{.c4 .c1} {#h.dj1rnpjd7fbm .c30}
====================

The Metromini and Arduino Uno both have labels to indicate which pins
are assigned to digital 0  through digital 13 and analog 0 through
analog 5. In order to use these pins correctly with the ATMega328
microcontroller on a breadboard, you will need to learn which of the
"Arduino specific" pins are assigned to the actual pins on the
microcontroller. A guide can be found
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.bk51dfzckrxr&sa=D&ust=1544756832333000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.t77qt9bibcxx .c18}

[Add an LED to digital pin 11 (Note that this is NOT the same as pin 11
on the ATMega328, see above) your board and write a program to flash the
LED at a rate of 2 Hertz.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[Board Power]{.c4 .c1} {#h.omrhdw3upj6l .c30}
======================

[While it is possible to power the breadboard version of your Arduino
Uno with a programming cable it is not convenient if you want to make a
more permanent design. A permanent design should be able to be powered
by a standard USB micro cable. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.krrpei3vlmv7 .c18}

[Add a USB breakout header to your board so that it can be powered
directly from a standard USB micro cable.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[CIRCUIT BOARD DESIGN]{.c4 .c1}

[Overview]{.c4 .c1} {#h.hkrvw5c6zn8 .c30}
===================

[While breadboards are good for initial prototyping of an electronic
circuit, they are terrible for any sort of permanent design due to loose
wires and poor connections. Using the instructions linked below, you
will learn how to design and fabricate your own circuit boards.]{.c5}

[]{.c5}

[Since the instructions are well documented, I recommend following the
links provided below.]{.c5}

[]{.c5}

[[Intro](https://www.google.com/url?q=https://learn.sparkfun.com/tutorials/how-to-install-and-setup-eagle?_ga%3D2.79936727.1999398224.1528904549-177401137.1497551582&sa=D&ust=1544756832336000){.c34}
]{.c31}

[[Schematic](https://www.google.com/url?q=https://learn.sparkfun.com/tutorials/using-eagle-schematic?_ga%3D2.154924024.1999398224.1528904549-177401137.1497551582&sa=D&ust=1544756832337000){.c34}]{.c31}

[[Board](https://www.google.com/url?q=https://learn.sparkfun.com/tutorials/using-eagle-board-layout?_ga%3D2.158398330.1999398224.1528904549-177401137.1497551582&sa=D&ust=1544756832337000){.c34}]{.c31}

[[Custom
footprints](https://www.google.com/url?q=https://learn.sparkfun.com/tutorials/designing-pcbs-smd-footprints?_ga%3D2.159062266.1999398224.1528904549-177401137.1497551582&sa=D&ust=1544756832337000){.c34}]{.c31}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[CIRCUIT BOARD DESIGN]{.c4 .c1}

[Overview]{.c4 .c1} {#h.wwt76652wtg .c30}
===================

[Once you have finished the tutorials, you are ready to design your
circuit using Eagle. Follow the steps below when designing your
board.]{.c5}

[]{.c5}

1.  [Make sure the breadboard version of your circuit includes all of
    the parts you need and is working correctly. ]{.c5}
2.  [Make sure you have a way to power your board without the
    programming cable.]{.c5}
3.  Make sure to use wire labels for RX and TX[.]{.c5}
4.  In the Eagle schematic, set the default trace [width]{.c1}, [drill
    ]{.c1}diameter and pad [clearance ]{.c1}[to 18mil. You can find
    these settings in the Net classes window under the File menu.]{.c5}
5.  [Add all of your parts to the board and wire them exactly as they
    are wired on your breadboard.]{.c5}
6.  USE BENT HEADERS and USE THEM CORRECTLY[!]{.c5}
7.  [Run an ERC to make sure that all your nets are connected correctly.
    Fix any problems on your schematic until there are no ERC
    errors.]{.c5}
8.  [Make sure that all pads for all components are set to the following
    specifications. You will likely need to change the pad for most, if
    not every, component you find in the existing libraries. ]{.c5}

<!-- -->

1.  [Drill = 40mil]{.c5}
2.  [Diameter = 65]{.c5}
3.  [Shape = long]{.c5}

<!-- -->

9.  [When making a new part in your library, make sure to include lines
    showing the dimension of your part.]{.c5}
10. [Place your parts on the board where you would like to have them
    placed.]{.c5}
11. [Delete the existing outline and draw a new outline around all of
    your parts. Note that the outline can be any shape.]{.c5}
12. [Add four mounting holes that can fit a M3 standoff.]{.c5}
13. [Load the Design Rule (DRC) from Othermill for the 1/32" milling
    bit. The design rules (DRC) can be found under the Tools menu.
    ]{.c5}
14. [Route your board only on the bottom side. If your board does not
    route correctly completely follow these suggestions. If these fail,
    see instruction son Top Traces below.]{.c5}

<!-- -->

1.  [Move parts so that signal wires overlap as little as
    possible.]{.c5}
2.  [Make sure there is room between parts so that traces can fit
    between them]{.c5}

<!-- -->

15. [Run the DRC and make sure there are no errors. If there are errors,
    fix them and re-run the DRC.]{.c5}
16. [Make sure your board is designed with the minimal use of
    material.]{.c5}
17. [Your board must include dimensions for the overall length and width
    of the board. Dimension units should be mils and in an unused layer
    such as info.]{.c5}

[Top Traces]{.c4 .c1} {#h.h9isfjffdjxv .c30}
=====================

In some cases a board cannot be routed on a single side. In this case,
there are three options depending on the number of traces that are
unable to route. If you have three or less wires airwires, you can
simply create connections with [top wires]{.c1} (see below) as as
described below. For boards with more than three airwires you can [trace
vias]{.c1} (see below) and route wires on the top side. For very complex
boards you can fully route a [two sided]{.c1}[ (see below) board. This
option adds a lot of complexity to the design and should only be
attempted in cases where absolutely necessary.]{.c5}

[Top Wires]{.c15 .c1} {#h.iofzydj96701 .c20}
---------------------

[Adding top wires is the simplest solution to create vias on your board
that you will connect using solid core wire. To create the correct vias
for solid core wire follow the steps below.]{.c5}

[]{.c5}

1.  [Select the routing tool.]{.c5}
2.  [Set the following values:]{.c5}

<!-- -->

1.  [ Drill = 40 mil ]{.c5}
2.  [Diameter = 65 mil]{.c5}
3.  [Shape = round]{.c5}

<!-- -->

3.  [Select the bottom layer]{.c5}
4.  [Start making a trace from one of the pads. Before clicking the
    mouse move it to the layer selection and select the top layer. This
    will provide a via at the end of your trace.]{.c5}
5.  [Create a short trace from the through-hole pad (as shown below).
    The trace should be some distance from the pad but not across any
    bottom traces before you place the first via by clicking the
    mouse.]{.c5}
6.  [Now select the bottom layer with your mouse. You should see a via
    at the end of your trace again.]{.c5}
7.  [Move the trace over all of the bottom layer traces that you need to
    cross until there are not bottom traces between your trace and the
    destination pad. ]{.c5}
8.  [Again place your via close to the pad and continue the trace to the
    pad.]{.c5}

[]{.c5}

[![](images/image3.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 392.50px; height: 258.52px;"}

[NOTE: When you make your board you will only select the bottom layer in
Othermill.]{.c5}

[Trace Vias]{.c15 .c1} {#h.7z3qyq6hnaw5 .c20}
----------------------

[Adding vias is identical to the "top wire" method described above
except that you will use the following values for your vias. ]{.c5}

[]{.c5}

4.  [ Drill = 35 mil ]{.c5}
5.  [Diameter = 50 mil]{.c5}
6.  [Shape = round]{.c5}

[]{.c5}

[]{.c5}

[Two Sided]{.c15 .c1} {#h.lvuwup6uyg25 .c20}
---------------------

[The approach is far more complicated and should only be attempted when
you have a very complicated board and many more than three wires that
will not route. ]{.c5}

[]{.c5}

[DRC: The first step is to load a new DRC (shown below) that includes
the correct specifications for routing a two sided board with vias and
uses a 1/64 bit. If this DRC is not found in your Eagle directory ask
your teacher for the file.]{.c5}

[]{.c5}

[![](images/image71.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 237.00px; height: 108.00px;"}

[]{.c5}

[Pads: The next step is to change all of your through-hole pad sizes to
a size that will work with the rivets. This will mean creating
additional footprints for every part. These footprints must have the
following values:]{.c5}

[]{.c5}

1.  [Drill = 60 mil]{.c5}
2.  [Diameter = 79 mil]{.c5}
3.  [Shape = round ]{.c5}

[Vias: You will also need to set your vias to the correct specification
for the rivets. You can use the specifications show above in the section
"Add Vias". ]{.c5}

[]{.c5}

[Routing (IMPORTANT): In order to minimize rivets (we have a limited
supply) you must first route the board with only bottom traces enabled.
Then route the board with both bottom and top traces enabled.]{.c5}

[]{.c5}

[IMPORTANT]{.c1}: Before cutting your board you will need to following
this
[[guide](https://www.google.com/url?q=https://support.bantamtools.com/hc/en-us/articles/115001658814-Double-Sided-Boards&sa=D&ust=1544756832349000){.c34}]{.c31} [for
cutting two-sided boards. You will also need to make sure you are using
the 1/64th bit. ]{.c5}

[]{.c5}

[NOTE: Start with lower left corner and top side traces and holes. Then
complete lower right corner and bottom side traces and outline.]{.c5}

1.  Place board [carefully]{.c83} in l[ower left corner]{.c5}
2.  [Mill top side traces and holes ONLY!]{.c5}
3.  Place board [carefully]{.c83}[ in lower right corner.]{.c5}
4.  [Mill bottom side traces and outline ONLY!]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[ANALOG TEMPERATURE SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ew2bct2glh06 .c30}
===================

[In this lesson you will learn how to use an analog temperature sensor.
Analog temperature sensors are generally lower cost, easier to use and
fairly accurate as compared with digital sensors. ]{.c5}

[LM35]{.c4 .c1} {#h.lvqqxqmntsxf .c30}
===============

The LM35 is simple analog temperature sensor that is designed to provide
results that are directly compatible with the Centigrade scale. The
device is made by Texas Instruments (TI) and the
[[datasheet](https://www.google.com/url?q=http://www.ti.com/lit/ds/symlink/lm35.pdf&sa=D&ust=1544756832351000){.c34}
]{.c31}[for the device can easily be found on line. ]{.c5}

[]{.c5}

### [Exercises]{.c0} {#h.k1bkfbfg531z .c18}

1.  Using the diagram [shown below add the temperature sensor to the
    breadboard.]{.c5}

[![](images/image2.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 317.00px; height: 222.00px;"}

[]{.c5}

[                        ]{.c5}

2.  Using the datasheet for the LM35 determine the lowest and highest
    temperature that it is capable of measuring. You can find a link to
    the datasheet above. The information on temperature range can be
    found on page one[. The temperature is listed in Celsius on the
    datasheet. Use an online calculator to convert the Celsius to
    Fahrenheit.]{.c5}

[]{.c5}

[Low Temperature: \_\_\_\_\_\_\_ Celsius                High
Temperature: \_\_\_\_\_\_\_\_\_ Celsius]{.c5}

[]{.c5}

[Low Temperature: \_\_\_\_\_\_\_ Fahrenheit        High Temperature:
\_\_\_\_\_\_\_\_ Fahrenheit]{.c5}

[]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Circuit Testing]{.c4 .c1} {#h.iveuqaqmt96g .c30}
==========================

[In order to test this circuit, you will need to test the voltage output
from the LM35. The voltage output of the LM35 is proportional to the
temperature in Celsius. The conversion factor is 10mV per degree
Celsius. For example, 10mV would be equivalent to 1 degree Celsius and
130mV would be equivalent to 13 degrees Celsius. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.eepb5hv8xajv .c18}

1.  [Add the LM35 to your breadboard following the diagram below.
    Connect the power and ground leads from the LM35 to power and ground
    on your circuit board. Check the diagram above to confirm that you
    have the correct pin out for the component.]{.c5}

[]{.c5}

[![](images/image94.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 285.00px; height: 175.00px;"}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

2.  [Measure the voltage at the output of the LM35. ]{.c5}

<!-- -->

1.  [Set up a multimeter to measure voltage DC. ]{.c5}
2.  [Connect the correct leads to ground and the output of the LM35. If
    you do not see a result, you may need to change the range to
    millivolts. ]{.c5}
3.  [Record the following measurements below.]{.c5}

[        Room temperature: \_\_\_\_\_\_\_\_ millivolts         \_\_\_\_
Celsius                \_\_\_\_ Fahrenheit]{.c5}

[]{.c5}

[Body\* temperature: \_\_\_\_\_\_\_\_\_ millivolts         \_\_\_\_
Celsius                \_\_\_\_ Fahrenheit]{.c5}

[(\*You can either squeeze the sensor between two fingers or breathe on
it, depending on which works better.)]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Software]{.c4 .c1} {#h.q3tk0y5mpfr2 .c30}
===================

[Using your microcontroller you can read the voltage values from the
sensor and display the temperature from your LM35 without the use of a
multimeter. ]{.c5}

### [Exercise]{.c0} {#h.h7qfxvx1z7c5 .c18}

1.  [Connect the output of your LM35 to one of your analog pins. Write a
    program to read the voltage values of the LM35 and display them in
    the serial window on your screen. Note that these numbers do not
    directly correspond to millivolts. As you learned in the section on
    analog conversion, the analog converter has a range of 0 to 1023
    which corresponds to a voltage from 0V to 5V. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

2.  [Modify your code so that the numbers in your serial monitor display
    temperature readings based in Centigrade as shown below.]{.c5}

<!-- -->

1.  Convert the the analog output to voltage. If you need help with this
    step you can refer to this previous lesson on [[analog
    conversion](#id.yhzdgx4chww8){.c34}]{.c31}[. Display the voltage in
    your monitor.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

2.  [Convert the voltage you received in the previous step to a
    Centigrade value. Remember, every 10 mV is equivalent to 1 degree
    Centigrade. Display the Centigrade value in your monitor.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

3.  Display the temperature in a column with the text as shown below.
    [![](images/image10.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 283.00px; height: 211.00px;"}

\

------------------------------------------------------------------------

[DIGITAL TEMPERATURE SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.7g6eabm7twru .c66}
===================

In this project you will be using a digital sensor to read temperature.
Digital sensors are often more accurate but more complex to use as
compared with analog sensors. The BS18B20 made by Dallas Semiconductor
is a commonly used digital temperature sensor that can be networked with
over 100 devices on a single wire.  The 1-Wire protocol which was
developed by Dallas Semiconductor and is one of many [[communication
protocols](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.zbv2l6wpi6ec&sa=D&ust=1544756832357000){.c34}]{.c31}[ you
will learn how to use to communicate with a variety of devices.]{.c5}

[Circuit Testing]{.c4 .c1} {#h.nayxquovto4p .c89}
==========================

[In this section, you will connect your digital sensor to your
microcontroller so that you can display the data from the sensor on your
serial monitor. ]{.c5}

[Diagram]{.c15 .c1} {#h.3w8fcp2mucb .c20}
-------------------

Using the
[[datasheet](https://www.google.com/url?q=https://datasheets.maximintegrated.com/en/ds/DS18B20.pdf&sa=D&ust=1544756832358000){.c34}]{.c31}[ for
the DS18B20 find the range of temperature the DS18B20 is capable of
measuring. ]{.c5}

[]{.c5}

[Low Temperature: \_\_\_\_\_\_\_ Celsius                High
Temperature: \_\_\_\_\_\_\_\_\_ Celsius]{.c5}

[]{.c5}

[Low Temperature: \_\_\_\_\_\_\_ Fahrenheit        High Temperature:
\_\_\_\_\_\_\_\_ Fahrenheit]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.e61rngasdtzw .c18}

1.  [Draw a front view diagram of the DS18B20 including labels for all
    three pins. The diagram can be found on page one of the DS18B20
    datasheet (which can be found using the link above.)]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

2.  Disconnect power (USB) from your circuit and using the diagram
    below, wire the device to your breadboard[. ]{.c5}

[![](images/image27.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 469.50px; height: 144.62px;"}

[TEACHER CHECK \_\_\_\_]{.c1}

3.  [Connect power (USB) back to your breadboard.]{.c5}

[Software]{.c15 .c1} {#h.clcxhs4uujyb .c20}
--------------------

[There are a variety of libraries and sample programs designed for the
DS18B20. For this lesson, we will be using the example file
"DS18x20\_temperature". ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.zf2rlondbgwq .c18}

1.  Open the example file, Examples/OneWire/DS18x20\_temperature. If
    this file is not installed in your Examples folder, you will need to
    install it using the [[manage
    libraries](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.5ie0wlz76yki&sa=D&ust=1544756832361000){.c34}]{.c31}[ function.
    Just search for "onewire" in library manager. Select the library
    titled "OneWire" by Jim Studt.]{.c5}
2.  [Connect the output of the DS18B20 to pin 10 (MetroMini) of your
    microcontroller as noted at the top of the example code.]{.c5}
3.  [Download and run the program. View the results in your serial
    monitor.]{.c5}
4.  [Record the temperature below.]{.c5}

<!-- -->

1.  [Centigrade: \_\_\_\_\_\_\_\_\_]{.c5}
2.  [Farhenheit: \_\_\_\_\_\_\_\_\_]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Multiple Sensors]{.c15 .c1} {#h.yaszgju8g30j .c20}
----------------------------

[It is also possible to connect multiple DS18B20 sensors to the same
signal line. In order that these devices do not conflict each of the
millions of DS18B20's manufactured has a unique ID represented in  64
bits. ]{.c5}

### [Exercise]{.c0} {#h.pivvwa3tml99 .c18}

1.  [Insert second sensor in your breadboard.]{.c5}
2.  [Connect the power and ground pins]{.c5}
3.  [Connect the output pin to the output pin of the other DS18B20 on
    your board. Note that you will NOT need an additional pull-up
    resistor.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

4.  [Download and run the program. View the results in your serial
    monitor. Note that this software provides a lot of information. The
    following is an example. The ROM number indicates the unique ID
    number for the sensor. Chip identifies the type of sensor. Data
    indicates the raw data from the sensor. ]{.c5}

[![](images/image89.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 100.00px;"}

5.  [Record the temperatures sensor IDs in the table below.]{.c5}

[]{#t.aed3b3778a14ff3057278088536617dac9e3887f}[]{#t.11}

+-----------------------+-----------------------+-----------------------+
| [Sensor ID]{.c78 .c1  | [Centigrade]{.c78 .c1 | [Fahrenheit]{.c78 .c1 |
| .c65}                 | .c65}                 | .c65}                 |
+-----------------------+-----------------------+-----------------------+
| []{.c62 .c65}         | []{.c62 .c65}         | []{.c62 .c65}         |
+-----------------------+-----------------------+-----------------------+
| []{.c62 .c65}         | []{.c62 .c65}         | []{.c62 .c65}         |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

6.  [Do they each produce the same temperature reading?]{.c5}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[KEYPADS]{.c4 .c1}

Overview {#h.6tpm9qhfv2ni .c30}
========

[Keypads are another common interface found on electronic devices and
provide an easy way to enter numbers as well as provide convenient
control when more than one or two buttons are needed. ]{.c5}

[]{.c5}

A keypad is simply a set of buttons contained in a single interface. The
main difference is that the buttons on the keypad are wired in a
[matrix]{.c1}[. Using a matrix fewer control lines are needed for the
same number of buttons. For example, a keypad with a total of 16 keys
can be read with only 8 control lines. This is half the number of
control lines that would be required for 16 individual buttons. ]{.c5}

[The Matrix]{.c15 .c1} {#h.k2ksc7y6wuw5 .c20}
----------------------

[All keypads are designed on a grid of rows and columns. Each pin on a
keypad corresponds to either one of the rows or one of the columns.
Pressing each button closes the connection between a unique set of rows
and columns. (See diagram below) Unlike reading buttons, the MCU cannot
simply read a pin to determine which button is pressed but must use a
technique called polling. Polling will be covered as an advanced topic.
]{.c5}

[]{.c5}

[Looking at a keypad it is impossible to decipher which pin belongs to
which row or column, so you will need to use a multimeter to suss this
out. ]{.c5}

[![](images/image56.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 451.74px; height: 294.50px;"}

### [Exercise]{.c0} {#h.1d8k5sglaw5c .c18}

1.  [Using the continuity setting on your multimeter determine which
    unique pair of pins correspond to each button. ]{.c5}

<!-- -->

1.  [Place the two leads on any two pins on your keypad. ]{.c5}
2.  Press each button until you find the button that is continuous for
    these two pair of pins. (i.e. the meter beeps)[ You need to press
    the button down for at least  a second for the meter to
    register.]{.c5}
3.  Write the pin combination in the correct cell of the grid below.
    Note that you should number the pins on your keypad starting with
    zero from left to right.
4.  [Repeat these steps until every cell has a unique pair of
    values.]{.c5}

[![](images/image77.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 281.00px; height: 242.82px;"}

2.  Using the information you gathered in cells on the diagram above,
    write in the correct row or column number (i.e. R1, C3 etc.)

[]{.c5}

[]{#t.febe617c57a3ff4333511c252dca3cc3ec8a406d}[]{#t.12}

+--------+--------+--------+--------+--------+--------+--------+--------+
| [1]{.c | [2]{.c | [3]{.c | [4]{.c | [5]{.c | [6]{.c | [7]{.c | [8]{.c |
| 15     | 15     | 15     | 15     | 15     | 15     | 15     | 15     |
| .c1}   | .c1}   | .c1}   | .c1}   | .c1}   | .c1}   | .c1}   | .c1}   |
+--------+--------+--------+--------+--------+--------+--------+--------+
| []{.c5 | []{.c5 | []{.c5 | []{.c5 | []{.c5 | []{.c5 | []{.c5 | []{.c5 |
| }      | }      | }      | }      | }      | }      | }      | }      |
+--------+--------+--------+--------+--------+--------+--------+--------+

[]{.c5}

[1. TEACHER CHECK \_\_\_\_]{.c1}

[Keypad Circuit]{.c15 .c1} {#h.n53bwuq90war .c20}
--------------------------

[The eight pins on the keypad (4 rows and 4 columns) can be connected to
any of the digital pins on your microcontroller.  In the software, you
can set the specify the exact pins you are using.]{.c5}

[]{.c5}

### []{.c0} {#h.856y066ndqrt .c18 .c16}

------------------------------------------------------------------------

### []{.c0} {#h.d6uk7u5iitq4 .c18 .c16}

### [Exercise]{.c0} {#h.cdmm1hl7uvd6 .c18}

1.  Connect the keypad to your microcontroller. After making the
    connections, complete [the table below as a record.]{.c5}

[]{.c5}

[]{#t.4ae91c55c154c2d82643ba10b4fdcbd7f20736b3}[]{#t.13}

+-----------------+-----------------+-----------------+-----------------+
| [Keypad         | [MCU Pin]{.c15  | [Keypad         | [MCU Pin]{.c15  |
| Column]{.c15    | .c1}            | Row]{.c15 .c1}  | .c1}            |
| .c1}            |                 |                 |                 |
+-----------------+-----------------+-----------------+-----------------+
| []{.c5}         | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| []{.c5}         | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| []{.c5}         | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+
| []{.c5}         | []{.c5}         | []{.c5}         | []{.c5}         |
+-----------------+-----------------+-----------------+-----------------+

[]{.c5}

2.  Open the file "HelloKeypad" which can be found in Examples/keypad[.
    Note: If you cannot find this file, you can import it from the
    Sketch menu. Look for the keypad library by Mark Stanley and
    Alexander Brevig]{.c5}
3.  [Modify the code so that it works with your keypad. Make sure to not
    use digital pins 0 and 1. ]{.c5}

<!-- -->

1.  [Change the pin values for both rows and columns to match the ones
    you are using.]{.c5}
2.  [Make sure the size of the row and column arrays are correct. The
    default code is set up for a 3X4 keypad.]{.c5}
3.  Make sure to modify the array so[ that your code displays ALL the
    correct characters.]{.c5}

<!-- -->

4.  [Display the values of your keys on the serial monitor.]{.c5}

[2. TEACHER CHECK \_\_\_\_]{.c1}

### [Challenge]{.c0} {#h.6cbo3kb5ut8f .c18}

[Modify your code so that the serial monitor displays the word "you win"
after the user presses the key '1'. ]{.c5}

[2. TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[ARRAYS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.xr1ahspftnf .c30}
===================

[Arrays provide a way to store multiple variables under a single
variable name. This is very convenient for sets of variables that need
to be accessed sequentially. ]{.c5}

[]{.c5}

The following is an example of how to initialize an array. Note that the
name of the array is text\_array. You can name and array anything you
like, but it is good to get in the habit of naming both your variables
and arrays with names that accurating describe their purpose. You are
STRONGLY encouraged to review the concepts page on
[[arrays](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.s6da4crcmuz1&sa=D&ust=1544756832387000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

#### [        int text\_array\[3\] = {2, 5, 44};]{.c50 .c38} {#h.hoa52xf4lng1 .c18 .c51 .c43}

[]{.c5}

### [Exercise:]{.c0} {#h.9db8b511hntp .c18}

Write a program that includes and array that holds four different
numbers. Using a for loop, print the for numbers from the array in your
serial monitor. HINT: The variable that you use in your for loop is the
same variable that you will use to count through each member of the
array. For example, if you use the variable [count]{.c21
.c122}[ ]{.c21}in your for loop and your array is named [values ]{.c21
.c122}than you will print [values\[count\]]{.c21 .c122}[. The numbers of
the array should be separated by a space or tab or character. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.7cyytvuoyfvf .c18}

[Write a program that compares two arrays to determine if they are
equivalent. For two arrays to be equivalent, they must have the same
items in the same location. ]{.c5}

[]{.c5}

1.  [Initialized two arrays with different names. The arrays should have
    the same elements in the same order. ]{.c5}
2.  [Write a for loop that compares each of the elements in the two
    arrays. Use the variable in the for loop to count through the
    elements in each array. If they are identical the program should
    print "Yes" to the Serial Monitor.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

### [Exercise:]{.c0} {#h.udzqa6100i7l .c18}

[Write a program to read and store three key presses.]{.c5}

1.  [Add an array that holds three items to the sample keypad code you
    used in the previous lesson. ]{.c5}
2.  [Add a variable that will be used to count through the items in the
    array. ]{.c5}
3.  [Modify the code so that every time a key is pressed the value of
    the keypress is stored in a different location in the array. ]{.c5}
4.  [Once the variable that you used to count through the array equals
    3, print out a text string to indicate that three keys have been
    pressed.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.vd1nclsvahvq .c18}

[]{.c5}

Write a program that stores a code consisting of three keys (i.e.
"2A9"). If the user enters [the correct key values the program should
display, "You win!".  If the user enters the incorrect key values the
program should display "You lose!". ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[KEYSCAN]{.c4 .c1}

[Overview]{.c4 .c1} {#h.c4d2l4n8j6ty .c30}
===================

[In order to read the sixteen keys of a keypad using only eight pins,
you could needs to be able to scan one axis of keys (rows or columns)
and then read the result on the other axis. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.svn7q2sq6sv8 .c18}

[Try to write your own keyscan code using the following
guidelines.]{.c5}

[]{.c5}

1.  [Set connect four rows of the keypad shown below to pins 4,5,6,7 and
    the four columns are connected to pins 8,9,10,11]{.c5}
2.  [ Set the pins 8,9,10,11 as inputs (and pull ups) and 4,5,6,7 as
    outputs.]{.c5}
3.  [Write a loop that sets each of the pins 4,5,6,7 HIGH in
    sequence.]{.c5}
4.  [After setting one of the pins HIGH use a second loop to check which
    of the pins 8,9,10,11 is HIGH. This way you can determine which pin
    was pressed.]{.c5}

[]{.c5}

[![](images/image56.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 344.50px; height: 224.84px;"}

Note: This is a hard challenge. A complete example code is given
[[here](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.5ie0wlz76yki&sa=D&ust=1544756832394000){.c34}
]{.c31}[if you need hints.]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[STEPPER MOTOR DRIVER]{.c4 .c1}

[]{#id.b2194b8v6gql}

[IR REMOTE CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.qvoyqjcoexwy .c30}
===================

Infrared remotes are commonly used to control consumer audio and video
devices. They can also be used for cameras and household appliances such
as air conditioners. Unlike the previous user interface devices you have
learned about, remotes are not physically connected to the device they
are controlling. In the case of IR remotes they communicate with the
device by using a signal composed of infrared light.

[![](images/image6.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 475.00px; height: 59.15px;"}

[IR Circuit]{.c15 .c1} {#h.u1lga8qp3xsq .c20}
----------------------

[In order to convert the infrared light signal into a digital voltage
signal that your MCU can read you will need to use an IR receiver.
]{.c5}

[![](images/image111.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 427.00px; height: 49.65px;"}

### [Exercise]{.c0} {#h.wvrbg42gfelb .c18}

[The IR receiver you are going to use is V39338 made by Vishay and will
be provided by your teacher. There are many versions of IR receivers and
most work similarly to this device though may have a different order of
pins.]{.c5}

[]{.c5}

1.  [Using the diagram below connect the power and ground pins of the
    device.]{.c5}
2.  [Connect the signal pin to your oscilloscope and record the default
    value of the signal pin.]{.c5}

[                Default voltage level: \_\_\_\_\_\_\_\_\_\_\_]{.c5}

3.  [Press a button your IR remote and note if there is any change on
    your scope.]{.c5}
4.  [Adjust your scope settings so that you can see pulses when you
    press a button on your IR remote. If you are having trouble seeing
    the signal set the time/div dial to 5ms.]{.c5}

[]{.c5}

[![](images/image63.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 187.00px; height: 171.86px;"}

[Decoding IR Signals]{.c15 .c1} {#h.3j32mb492jxe .c20}
-------------------------------

The signals produced by IR remotes are fairly complex but not impossible
to decode with the use of your oscilloscope. Each remote corresponds to
a specific transmission protocol such as [NEC, Sony SIRC and Philips
RC5. The remote used in this project uses the NEC protocol.   ]{.c53
.c49}

[]{.c49 .c53}

[The signal is made up of four components: a start pulse, a space, an
address (16-bit), and a command (16-bit). Within the address and command
parts of the signal a zero is represented as a short low pulse and a one
is represented as a long low pulse.]{.c53 .c49}

[![](images/image108.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 578.00px; height: 147.00px;"}

[]{.c5}

### [Exercise]{.c0} {#h.4lxs8thj38ng .c18}

[Using your oscilloscope make the following measurements. Make sure to
include the correct units.]{.c5}

[]{.c5}

[Start =         \_\_\_\_\_\_\_\_\_\_]{.c5}

[Space =         \_\_\_\_\_\_\_\_\_\_]{.c5}

[Zero =                \_\_\_\_\_\_\_\_\_\_]{.c5}

[One =                 \_\_\_\_\_\_\_\_\_\_]{.c5}

[1. TEACHER CHECK \_\_\_\_]{.c1}

[IR Remote Code]{.c15 .c1} {#h.ei45f1lmbzmg .c20}
--------------------------

[Follow the steps provided below to install and use the example
IRrecvDemo code. Using this code your microcontroller can capture the
signal from your IR receiver, convert the pulses into numbers and print
these numbers on your serial monitor. ]{.c5}

### [Exercise:]{.c0} {#h.mfuj1ja1fboq .c112}

1.  [Open the IRrecvDemo code which should be be found in your
    Examples/IRremote. The IRremote directory should be found at the
    bottom of the examples menu under Examples from Custom Libraries. If
    you cannot find this directory you must install it using the manager
    libraries option. The file you want to install is called IRremote by
    Shirriff.]{.c5}
2.  [Connect the signal pin of your IR receiver to the correct pin on
    your microcontroller. This pin number is listed at the top of the
    IRrecvDemo code. Note: You cannot use another pin with this
    code.]{.c5}
3.  [Download the code and use your remote to display values in the
    Serial Monitor. Note that these values are displayed in hex.]{.c5}
4.  [Write down the hex values for the following buttons.]{.c5}

[]{#t.35efd3fcb24075ee08c43b94287edc8a025f408a}[]{#t.14}

+-----------------------------------+-----------------------------------+
| [Button Press]{.c15 .c1}          | [Hex Value]{.c15 .c1}             |
+-----------------------------------+-----------------------------------+
| [1]{.c5}                          | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [2]{.c5}                          | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [3]{.c5}                          | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| ["right arrow"]{.c5}              | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [VOL-]{.c5}                       | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c5}

[2. TEACHER CHECK \_\_\_\_]{.c1}

[Hex Values]{.c15 .c1} {#h.b1q7qdjxhgbb .c20}
----------------------

[Using your scope decode the signal for button 1 and confirm that this
matches the decoded signal provided by the code. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.423h9fx9o52z .c18}

1.  [Capture the signal for button 1 on your oscilloscope. ]{.c5}
2.  [Record both the 16-bit address and 16-bit command in the top row of
    boxes provided below. Make sure to correctly identify which pulses
    are ones and which pulses are zeros. ]{.c5}
3.  [Convert the value in binary to a value in hex and place the hex
    value in bottom row of boxes.]{.c5}

[![](images/image4.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 141.43px;"}

4.  [Compare the hex value you measured on the scope with the hex value
    you received in your serial monitor.]{.c5}

[                Value from oscilloscope:
        \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[                Value from Serial
Monitor:        \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[3. TEACHER CHECK \_\_\_\_]{.c1}

[Remote Control]{.c15 .c1} {#h.3qyw1v7og5n4 .c20}
--------------------------

[Using what you have learned so far you can now use your remote control
to control any device on your breadboard. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.vs2y7js4cm2q .c18}

[Add an LED to your breadboard and modify your code so that when a user
presses the button 1 the LED turns on and when the user press the button
2 the LED turns off.]{.c5}

[]{.c5}

[4. TEACHER CHECK \_\_\_\_]{.c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[HOBBY SERVO MOTORS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.3iqxm5e0khni .c30}
===================

[In this lesson you will learn how to drive a standard hobby servo
motor. Hobby servo motors are designed primarily for controlling remote
control boats, aircraft and cars. The include gear reduction and their
own internal drive circuitry making them easy to control directly from a
microcontroller. ]{.c5}

[]{.c5}

[Hobby servo motors are positioning motors and can only rotate
approximately 180 degrees. They can be set to an exact position based on
a control signal that can be provided by your microcontroller.  ]{.c5}

[Servo Connections]{.c4 .c1} {#h.men4gwxcand7 .c30}
============================

[The three wires from your servo motor are color coded orange, red and
brown. The red wire provides power to the servo motor and internal
circuitry. The brown wire is the ground lead. The orange wire is for the
control signal that drives the motor to the specified position.]{.c5}

[NOTE: Hobby servo motors draw more power than can be provided by your
USB port. In order to drive the hobby servo motor you will need to
connect their power pin to a separate supply such as your bench
supply.]{.c5}

[]{.c5}

[IMPORTANT]{.c1}[: DO NOT CONNECT YOUR BENCH SUPPLY TO THE POWER BUS OF
YOUR BREADBOARD! The logic devices on your breadboard are powered by the
USB which provides 5V. If you connect the bench supply to the power bus
of your breadboard and apply any more than 5.5V you will destroy your
microcontroller. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.tnd6nws5rcs9 .c112}

1.  [Turn off your power supply and turn the voltage to zero.]{.c5}
2.  [Connect the three pin servo header to your breadboard.]{.c5}
3.  [Connect the brown wire to the ground bus of your breadboard. ]{.c5}
4.  [Connect the red wire DIRECTLY to your power supply. DO NOT connect
    this wire to the power bus of your breadboard (see above.)]{.c5}
5.  [Turn on the supply and set the voltage to 6 volts]{.c5}
6.  [Connect the orange wire to one of the digital pins on your
    microcontroller.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Servo Pulse]{.c4 .c1} {#h.ay6jefeand7y .c30}
======================

As mentioned above hobby servo motors can be controlled directly from a
microcontroller pin. To control a servo motor you must provide a pulse
every 20 ms and the pulse must be between 1ms and 2ms. The length of the
pulse determines the angle of the motor shaft. As shown below a 1ms
pulse will turn the motor shaft to the 90 degree position and a 2ms
pulse will turn the motor shaft to a -90 degree position[. ]{.c5}

[]{.c5}

[NOTE: This diagram is not proportionally correct. The 20ms should be
much longer as compared with the 1ms]{.c5}

[![](images/image26.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 334.50px; height: 262.31px;"}

### [Exercise:]{.c0} {#h.ypsfcvtpu5lu .c18}

[In this first exercise, you will simply set the move to move to a
single position. ]{.c5}

[ ]{.c5}

1.  [Add a servo horn to your servo motor if it does not already have
    one.]{.c5}
2.  [Place a piece of tape on one of the arms of the servo horn so that
    you can determine which what the servo horn is pointing.]{.c5}
3.  Write a program to drive your servo to its mid position (1.5ms). To
    do this, you will need to create a pulse with an overall period of
     approximately 20ms (this does not have to be exact). The ON portion
    of the pulse will need to be[ 1.5ms. NOTE: The delay function cannot
    accept fractional numbers so you will need to use delayMicroseconds
    for the ON pulse and you will need to convert 1.5 milliseconds to
    microseconds!]{.c5}
4.  [ Turn off power to your servo motor.]{.c5}
5.  [Physically turn your servo horn to all the way in either direction
    (till it stops).]{.c5}
6.  [Turn on power to your servo motor.]{.c5}
7.  [Download your code and your servo should move to its center
    position.]{.c5}
8.  [Set up your scope to measure and confirm the length of pulse and
    space between pulses. ]{.c5}
9.  [Change the pulse to length of 1ms (1000us) and confirm the position
    of the servo arm moves to one side of the center.]{.c5}
10. [Change the pulse to length of 2ms (2000us) and confirm the position
    of the servo arm moves to the other side of the center.]{.c5}

        [TEACHER CHECK \_\_\_\_]{.c1}

[In this second exercise, you will use the servo commands from the
Arduino library instead of creating the pulse with delays. The code from
the Arduino library will completely replace the code you have just
written and create pulses without having to use delay routines.]{.c5}

1.  [Create a new code file. ]{.c5}
2.  [Start by placing the following at the top of your code file in
    order to use the servo library.]{.c5}

[\#include \<Servo.h\>]{.c21}

3.  Just below the line above you will need to create a servo object
    using the following command. NOTE: You can change [myservo
    ]{.c21}[to any name for the servo object. ]{.c5}

                [        Servo myservo;]{.c2}

4.  [In your setup function. you will need to use the following code to
    attach the servo to a pin. In the following example the servo is
    attached to pin 9. ]{.c5}

[myservo.attach(9);]{.c21}

5.  [In your loop function you can now use the following command to
    drive your servo motor. In the following example the servo is being
    driven to position 10 degrees from the start position. NOTE: The
    servo range is from 0 to 180. ]{.c5}

[myservo.write(10);]{.c21}

6.  In your loop function, add three write [commands to drive the servo
    to three different locations. Include a one second delay between
    each servo position command.]{.c5}
7.  Download your code and demonstrate it for your teacher.[ ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

8.  Set the three positions of 0 degrees, 90 degrees and 180 degrees.
    Confirm that the servo horn turns the correct number of degrees.

### [Challenge]{.c0} {#h.56mg0b4v5a2l .c112}

1.  [Add a potentiometer to your circuit and modify your program so that
    you can use a potentiometer to control the length of your pulse
    between 1ms and 2ms. You will need to scale the range of the
    potentiometer so that turning fully in one direction corresponds to
    a 1ms pulse and turning fully in the other direction corresponds to
    a 2ms delay. Again use your scope to display your pulse. ]{.c5}
2.  [When you turn your potentiometer, does it turn the same direction
    as the servo? If not, modify your code so that it does.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[(PWM) DUTY CYCLE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.mxg0snw8oc30 .c30}
===================

[In this lesson you will learn about pulse width modulation (PWM) and
how to use PWM to control the brightness of lights or the speed of a
motor. PWM is, as the name states, a way to control the width of a
pulse. By controlling the width of a pulse you can the percentage of
time the pulse is high and low and as a result control the power
provided to a circuit. Note that you also used pulse width modulation to
control your servo motor.]{.c5}

[Duty Cycle]{.c15 .c1} {#h.urgxr1f9bzqo .c20}
----------------------

[The amount of time a pulse is on versus off is called the duty cycle.
The duty cycle is a measure of the percentage of time a pulse is on
versus off.  Note that in the diagram below the first pulse is on for
exactly the same time it is off (i.e. 50 percent on and 50 percent off).
This is known as a 50 percent duty cycle. ]{.c5}

[]{.c5}

[![](images/image107.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 372.50px; height: 255.50px;"}

### [Exercise]{.c0} {#h.8pk1gyahf2df .c18}

1.  Complete the following table[. ]{.c5}

<!-- -->

1.  [Period: The period of a wave is simply the sum of the OFF time and
    ON time. ]{.c5}
2.  [Duty Cycle: The duty cycle is the ratio of ON time to total time.
    In order to calculate period you need to divide the ON time by the
    period of your pulse. ]{.c5}
3.  [Frequency: Frequency is the inverse of period. The units for
    frequency are Hz which is measured in cycles (period) per second.
    Make sure to use the correct units.]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{#t.38adc5f198a1fc8bb081033c413c95944f56a805}[]{#t.15}

+-----------+-----------+-----------+-----------+-----------+-----------+
| [On       | [Off      | [Period   | [Duty     | [Period   | [Frequenc |
| Time]{.c1 | Time]{.c1 | (in ms or | Cycle]{.c | (in       | y         |
| 5         | 5         | us)]{.c15 | 15        | seconds)] | (in       |
| .c1}      | .c1}      | .c1}      | .c1}      | {.c15     | Hertz)]{. |
|           |           |           |           | .c1}      | c15       |
|           |           |           |           |           | .c1}      |
+-----------+-----------+-----------+-----------+-----------+-----------+
| [2ms]{.c5 | [15ms]{.c | []{.c5}   | []{.c5}   | []{.c5}   | []{.c5}   |
| }         | 5}        |           |           |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| [5ms]{.c5 | [5ms]{.c5 | []{.c5}   | []{.c5}   | []{.c5}   | []{.c5}   |
| }         | }         |           |           |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| [350us]{. | [50us]{.c | []{.c5}   | []{.c5}   | []{.c5}   | []{.c5}   |
| c5}       | 5}        |           |           |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| [12us]{.c | [50us]{.c | []{.c5}   | []{.c5}   | []{.c5}   | []{.c5}   |
| 5}        | 5}        |           |           |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

2.  [Demonstrate the third wave listed in the table above on your
    scope.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

3.  [Add an LED and potentiometer to your board. Control the brightness
    of the LED using PWM. You PWM should be created with a simple loop
    of digitalWrite and delays. Note that the overall delay needs to be
    low enough that the LED does not appear to flash.]{.c5}

[ ]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[(PWM) ANALOGWRITE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.gpcwwowp8uoi .c30}
===================

In addition to creating a PWM signal using delays, you can set up a PWM
signal using the [analogWrite ]{.c21}[command which runs a pulse in the
background of your code. This is a very useful function because it does
not tie up your code looping through delay routines. ]{.c5}

[]{.c5}

[The function takes two arguments. The first argument is the pin number
on your device and the second is a value that corresponds to the duty
cycle of the pulse.]{.c5}

[![](images/image38.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 398.50px; height: 90.53px;"}

The [pin ]{.c1}is the pin number that will produce the PWM signal. NOTE
that this function ONLY works on pins 3, 5, 6, 9, 10, and 11. The [value
]{.c1}[determines the duty cycle or width of the pulse. The range of
values is 0 to 255. A value of 255 is a 100% duty cycle (or full on) and
a value of 0 is 0% duty cycle (or is full off). A value of 128 is a 50%
duty cycle or half on and half off. ]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.kaqc0piwfxmh .c18}

1.  Calculate the value required to create a 75% duty cycle using the
    [analogWrite ]{.c21}[command.]{.c5}

[]{.c5}

[                Value = \_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[]{.c5}

2.  Write a program that produces a pulse with a 75% duty cycle. Place
    the [analogWrite ]{.c21}[command in the set-up function and not in
    the loop function to demonstrate that you do not need to repeatedly
    call this command.]{.c5}

[]{.c5}

3.  [Using your oscilloscope measure the width of the HIGH and LOW
    portions of the pulse.]{.c5}

[]{.c5}

1.  [Length of HIGH pulse: \_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[]{.c5}

2.  [Length of LOW pulse: \_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Challenge]{.c0} {#h.4h9v9u5tshvs .c18}

[Design a circuit that can be used to control the brightness of an LED
with a potentiometer.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

[ VOLTAGE REGULATION]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ob830rp91hnf .c30}
===================

[Almost every circuit you design will need some sort of voltage
regulation. Most integrated circuits are designed to work within a
narrow voltage range and almost all circuits require a voltage that is
stable. Logic circuits typically work at either 5.0V, 3.3V or 1.8V.
Almost all of the circuits you will create in this class will run on
either 5.0V or 3.3V]{.c5}

[USB Power]{.c4 .c1} {#h.qxcc6c2slkfm .c30}
====================

[Small logic devices that do not require much power can be driven by the
power from the USB port. The USB port provides 5V for circuits but is
limited to about 500mA. This is how your USB port is able to charge your
phone. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.knbzck9071re .c18}

[Using a multimeter, measure the voltage on your  USB hub. You will need
to connect a programming cable to your hub and measure the voltage at
the working end of the programming cable.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.ru2zn1ieg410 .c18}

[Construct a circuit that is powered by the USB hub.]{.c5}

[Linear regulators]{.c4 .c1} {#h.rfj65qwk2fk5 .c30}
============================

[Linear regulators are low cost and easy to use voltage regulators. The
downside is that they are not very efficient wasting a lot of power.
]{.c5}

[LM7805]{.c15 .c1} {#h.ka22epscv5xc .c20}
------------------

[The LM7805 is a common regulator for producing 5 volts for your
circuit. It is cable of driving 1A of current. The LM7805 is capable of
converting input voltages from 6V to 12V to an regulated output of
5V]{.c5}

[]{.c5}

[![](images/image25.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 134.67px;"}

### [Exercise:]{.c0} {#h.vj6n858slw0g .c18}

[Using the device diagram and the basic circuit shown below, set up an
LM7805 to regulate 10V input from your bench supply to 5V output. NOTE:
You will not need to use the capacitors shown for this exercise. Test
your output using a multimeter. NOTE: your circuit may not produce
exactly 5.0V.]{.c5}

[![](images/image9.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 180.00px; height: 128.00px;"}

[Device Diagram]{.c15 .c1}

[![](images/image16.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 367.00px; height: 187.00px;"}

[Basic Circuit]{.c15 .c1}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[LD33V]{.c15 .c1} {#h.7cuzv5yx5gdz .c20}
-----------------

[The LD33V is a linear regulator that has a fixed output of 3.3V. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.cwh9iui310da .c18}

Set up a circuit using the LD33V to regulate and input voltage of 8.0V
to 3.3V. You will need to look up the datasheet for the LD33V in order
to design the circuit.  [IMPORTANT! ]{.c1}The LD33V does [NOT
]{.c1}[have the same pinout as the LM7805.]{.c5}

[Switching Modules]{.c4 .c1} {#h.fbqynlawzswc .c30}
============================

[Switching modules are modules designed around switching regulators.
Switching regulators are much more efficient than linear regulators. The
only disadvantage is that they are exclusively designed on surface mount
technology, so we can only use them as modules. ]{.c5}

[Reg16A]{.c15 .c1} {#h.s5kv1mj3p7s .c20}
------------------

[The Reg16A is a switching regulator module that you will be using in
this class. The regulator comes in 3.3V version noted by the blue dot on
back and 5.0V noted by the yellow dot on back. ]{.c5}

[![](images/image81.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 188.50px; height: 188.50px;"}

[The device has four pins as shown below. VIN is for the input voltage.
GND is for ground and VOUT is the output voltage. SHDN is for shutdown
and not generally necessary in your circuit. This device does not need
any external components.]{.c5}

[]{.c5}

[![](images/image13.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 200.00px; height: 137.00px;"}

### [Exericse:]{.c0} {#h.gfe7ef7k1wi .c18}

[Set up two Reg16a regulators on your breadboard. One for 3.3V and one
for 5.0V. Drive both with an input of 12V and measure the output. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[BATTERY CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.pvykagcfevt4 .c30}
===================

[Batteries offer a great way to power mobile robotic devices. Many are
easily rechargeable and can provide large amounts of current for motors
and other high current devices. ]{.c5}

[Danger]{.c4 .c1} {#h.somcx2gzu8p5 .c30}
=================

[We will mostly be using Lithium Polymer (LiPo) batteries. The advantage
of these sorts of batteries are that they can provide a large amount of
power for their size and weight. They can be recharged quickly and can
last much longer than other types of storage batteries. The disadvantage
is that if they are not managed carefully they can catch fire or even
explode. ]{.c5}

[]{.c5}

[The following are three important states to be aware of when using LiPo
batteries.]{.c5}

[Balance Charge]{.c15 .c1} {#h.htq5gkcut3ad .c20}
--------------------------

[A LiPo battery should be charged to balance charge before being used in
your device. The balance charge ensures that each cell in the battery
pack is charged to the identical voltage level. ]{.c5}

[Low Voltage]{.c15 .c1} {#h.8a6ouoji00og .c20}
-----------------------

[It is important to make sure that the voltage in a battery never
reaches below the danger threshold level. In order to ensure this does
not happen, batteries should be checked every day using a LiPo
tester.]{.c5}

[Storage Charge]{.c15 .c1} {#h.jqi5e620tfzr .c20}
--------------------------

[Before returning a battery to storage it should be correctly discharged
to a storage state selecting the Storage Charge state on the battery
charger.]{.c5}

[Connectors]{.c4 .c1} {#h.977y66ekwnr7 .c30}
=====================

[It is very important to only use polarized connectors with the LiPo
batteries. These batteries are very powerful and can easily cause a fire
and destroy your circuit in the following situations.]{.c5}

[Short Circuit]{.c15 .c1} {#h.6ualsnnk8sdh .c20}
-------------------------

[If the two leads of the battery are allowed to touch each other, this
causes a short circuit. At the very least this will cause a dangerous
spark. It will also most likely damage the battery and cause a
fire.]{.c5}

[]{.c5}

[Reverse Polarity]{.c15 .c1} {#h.uuipfciseajv .c20}
----------------------------

[If you mistaken reverse the leads on the battery and apply the positive
lead of the battery to the ground on your circuit and the negative lead
to power, you circuit and board will most likely be destroyed.]{.c5}

[]{.c5}

### [Challenge]{.c0} {#h.to9axumlbj32 .c18}

Create a battery connector with a polarized JST connector on one end
mating with the JST connector on the battery and a barrel connector on
the other end mating with the barrel plug on the Arduino Uno. For more
information on [[battery
power.](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.po3whfrs5bxa&sa=D&ust=1544756832446000){.c34}]{.c31}[ ]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[MOTOR DRIVER]{.c4 .c1}

[Overview]{.c4 .c1} {#h.h830ckd59gw5 .c30}
===================

[In this lesson you will learn how to drive a small DC motor using a
transistor. It is important to note that you CANNOT drive a DC motor
directly from a microcontroller. The digital pins on your
microcontroller pins can only provide about 20mA of current. This is
enough to drive an LED and nothing more powerful. Even a small DC motor
will draw at least 50mA of current. Using a pin on your microcontroller
to drive more than 20mA of current will permanently damage your
microcontroller. ]{.c5}

[]{.c5}

[In addition motors can often require 12 volts or more. Your
microcontroller will be damaged if its supply voltage goes over 5.5V.
When setting up circuits to control motors, you will often need to set
up two voltages on your board.]{.c5}

[Direct Drive]{.c4 .c1} {#h.bkfv2xj2441a .c30}
=======================

[In this initial step, you will be driving the motor directly from your
bench power supply.]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.dos2lcldrmo6 .c18}

1.  [IMPORTANT Follow these steps carefully. Check with you teacher if
    you have concerns.]{.c5}

<!-- -->

1.  [Make sure your bench supply is turned off!]{.c5}
2.  [Make sure the voltage on your bench supply is turned to zero!]{.c5}
3.  [DO NOT turn your voltage above 12 Volts when driving the motor or
    you will damage the motor and you will need to buy me a new
    one!]{.c5}

<!-- -->

2.  [Connect your bench power supply to your motor. The motor is not
    polarized so you can connect either motor lead to either supply
    lead.]{.c5}
3.  [Turn on your bench supply and turn the voltage up to 6 volts and
    then 12 volts. Record the current draw at each voltage. You can use
    the bench supply to measure the current.]{.c5}

                Current draw at 6 Volts: \_\_\_\_\_\_\_\_\_\_\_\_\_\_

[                Current draw at 12 Volts:
\_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

[Transistor Drive]{.c4 .c1} {#h.w0wvwsbo9ji .c30}
===========================

[In order to drive your motor using a low current control signal, you
will need to add a transistor to your circuit. A transistor is a device
that allows you to drive a large amount of current with a small amount
of current. ]{.c5}

[Below is a diagram of a transistor. A large amount of current (like
that required to drive a motor) can flow from C (collector) to E
(emitter). The large current can be turned on and off at B (base) using
a small amount of current.]{.c5}

[![](images/image87.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 324.00px; height: 272.00px;"}[![](images/image101.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 311.50px; height: 232.01px;"}

[The image on the right shows how a faucet can be a model for a
transistor, with a large amount of current flowing through the faucet.
The handel (or base) can be used to easily turn on and off this current.
]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.1wa6njhjkzsw .c18}

1.  [Turn OFF your power supply and make sure the voltage is turned to
    zero!]{.c5}
2.  [Design the circuit shown below on your breadboard. You should use
    alligator clip leads to connect your motor to the breadboard and the
    power supply. A long flexible jump wire should be attached to the
    unconnected end of the resistor. This will be used to turn the motor
    on and off.]{.c5}
3.  [You will need 5V on your board to control the transistor.  A good
    option is to add a Metromini to your board and connect both 5V and
    GND to the rails of the breadboard.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

4.  [Turn on the power supply.]{.c5}
5.  [Turn the voltage to 6 Volts.]{.c5}
6.  [Drive your motor by connecting the control line (the base) to
    5V.]{.c5}
7.  [Turn off your motor by connecting the control line to 0V. ]{.c5}
8.  [Turn the voltage up to 12 Volts to drive the motor faster. DO NOT
    go above 12 Volts.]{.c5}
9.  [Record the current draw of the motor at 12 Volts:
    \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_]{.c5}

[![](images/image112.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 311.80px; height: 295.50px;"}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Challenge: ]{.c0} {#h.p3ftyrwc8rf .c18}

[Rewire the circuit to reverse the direction of the motor.]{.c5}

[MOSFET Drive]{.c4 .c1} {#h.son7ilmoird4 .c30}
=======================

[Using a MOSFET to drive your motor is very similar to using a
transistor. The difference is that the MOSFET is a voltage driven device
and the transistor is a current driven device. For this reason, the
MOSFET does not need a resistor. ]{.c5}

[]{.c5}

[![](images/image30.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 588.50px; height: 235.08px;"}

### Exercise {#h.uwel3fjmk9m1 .c18}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

[]{.c5}

[]{.c15 .c1}

[MCU Drive]{.c4 .c1} {#h.ygs8dlkxk2cn .c30}
====================

Now that you have confirmed that you can turn your motor on and off
using the same logic level [that is used to control your MCU, you should
be able to directly drive your transistor using your
microcontroller.]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.fe9mb72xc459 .c18}

Connect the control line of your transistor to your microcontroller.
Write a program to repeatedly [turn your motor on for three seconds and
off three seconds.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MOTOR SPEED CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.ebkraw2vnw8m .c30}
===================

[In this lesson you will combine your knowledge of pulse width
modulation (PWM) and motor control to control the speed of your motor.
PWM is the most common method used to control DC motors such as those in
electric drills or electric cars.]{.c5}

[PWM]{.c4 .c1} {#h.e33kosp7ogsz .c30}
==============

[In the lesson above, you controlled the motor by turning it full ON or
full OFF. Using PWM, you can create a control signal that is both ON and
OFF. The proportion of ON time versus OFF time determines the speed of
the motor. This proportion is known as the duty cycle (for a review of
duty cycle see above). When the duty cycle is lower (less ON time), the
motor will run slower. When the duty cycle is higher (more ON time), the
motor will run faster. ]{.c5}

[]{.c5}

[Using the same circuit you constructed in the previous lesson. Write a
new program to drive your motor using PWM with a 50 percent duty cycle.
If need a review you can refer to the lesson (PWM) analogwrite. All of
your code should be in the setup function.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MOTOR CONTROL MODULES AND ICS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.5znlz5b6nro3 .c30}
===================

Since setting up bi-directional motor control using discrete components
is difficult there are huge variety of motor control modules and
integrated circuits. Many of these devices work in a similar manner so
knowing ho[w to use the ones included here will make it easy for you to
learn how to use just about any motor module.]{.c5}

[Current Rating]{.c4 .c1} {#h.y28t2xoj1n2q .c30}
=========================

[One of the most important features of a motor control module is the
current rating. This the amount of current that the motor driver can
handle. For example, if you motor draws up to 2 Amps of current than you
will need a motor driver that can handle more than 2 Amps of current.
Generally, the more current a motor driver can handle the more expensive
it is.]{.c5}

[L293D OR SN754410NE]{.c4 .c1} {#h.rrhk7f6mdjh6 .c30}
==============================

[The L293D or similar SN764410NE are the only motor driver ICs that we
will cover. They are dual motor drivers meaning that each IC can drive
two motors and they can handle about 600 mA per motor. ]{.c5}

[]{.c5}

[Below is a simple hook up diagram for the L293D. Vcc is the logic
voltage or 5 Volts. Vbat is the supply you will use to control your
motor. IMPORTANT: You should NOT drive your motor using Vcc or the same
supply as you are using for your logic.]{.c5}

[]{.c4 .c1}

[There are two control lines for each motor. PB0, PB1 for the motor on
the left and PB2, PB3 for the motor on the right. Below is a table
showing how the control lines drive each motor.]{.c5}

[]{.c5}

[]{#t.69f7382bb0ef4d9f402c8b2a790bb3199d02814b}[]{#t.16}

+-----------------------+-----------------------+-----------------------+
| [PB0]{.c15 .c1}       | [PB1]{.c15 .c1}       | [Function]{.c15 .c1}  |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [HIGH]{.c5}           | [Brake]{.c5}          |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [LOW]{.c5}            | [Turn Clockwise]{.c5} |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [HIGH]{.c5}           | [Turn                 |
|                       |                       | Counter-Clockwise]{.c |
|                       |                       | 5}                    |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [LOW]{.c5}            | [Brake]{.c5}          |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

[![](images/image67.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 497.00px; height: 315.32px;"}

### [Exercise: ]{.c0} {#h.6a4h3w88dxhn .c18}

Set up the L293D (or SN745510NE) to drive a single motor in two
directions. You should [NOT use a microcontroller to complete this
exercise. (i.e. just set the inputs into power and ground)]{.c5}

[]{.c5}

IMPORTANT: If you plan to use an Arduino Uno to control the motor
module, consult the guide on using [[Arduino and Power
Control.](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.po3whfrs5bxa&sa=D&ust=1544756832459000){.c34}]{.c31}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[MD17A]{.c4 .c1} {#h.6rt46poqnkkc .c30}
================

[The MD17A is a small dual motor control module made by Pololu and based
on the DRV8833 motor driver IC. Below is a diagram of the motor module
and a table describing the proper connections for your board. ]{.c5}

[]{.c5}

[![](images/image28.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 167.50px; height: 255.31px;"}

[]{.c5}

[]{#t.0b36b8d939c4741ec7e72391275fc6afcd6f1409}[]{#t.17}

+-----------------------------------+-----------------------------------+
| [Pin Name]{.c1}                   | [Pin Function]{.c1}               |
+-----------------------------------+-----------------------------------+
| [GND]{.c5}                        | [Connect to ground on your        |
|                                   | breadboard]{.c5}                  |
+-----------------------------------+-----------------------------------+
| [VIN]{.c5}                        | [Connect to power from power      |
|                                   | supply to drive motors]{.c5}      |
+-----------------------------------+-----------------------------------+
| [OUT (B1) and OUT (B2)]{.c5}      | [Drive for motor B (connect two   |
|                                   | wires from motor)]{.c5}           |
+-----------------------------------+-----------------------------------+
| [OUT (A1) and OUT (A2)]{.c5}      | [Drive for motor A (connect two   |
|                                   | wires from motor)]{.c5}           |
+-----------------------------------+-----------------------------------+
| [AISEN]{.c5}                      | [Not connected ]{.c5}             |
+-----------------------------------+-----------------------------------+
| [BISEN]{.c5}                      | [Not connected]{.c5}              |
+-----------------------------------+-----------------------------------+
| [VMM]{.c5}                        | [Not connected]{.c5}              |
+-----------------------------------+-----------------------------------+
| [IN (B1) and IN (B2)]{.c5}        | [Logic control for motor B]{.c5}  |
+-----------------------------------+-----------------------------------+
| [IN (A1) and IN (A2)]{.c5}        | [Logic control for motor A]{.c5}  |
+-----------------------------------+-----------------------------------+
| [SLP]{.c5}                        | [Not connected]{.c5}              |
+-----------------------------------+-----------------------------------+
| [FLT]{.c5}                        | [Not connected]{.c5}              |
+-----------------------------------+-----------------------------------+

[]{.c5}

### [Exercise:]{.c0} {#h.pum6tarsj9qr .c18}

[Set up your breadboard with the MD17A following the table for making
connections. Use long flexible jump wires for each of four pins labeled
IN (logic inputs). These should be from the pins labeled IN to ground on
your breadboard.]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.ny1w5oyclu6p .c18}

[Demonstrate how you can control the direction and power to each motor
using the logic inputs (IN). ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

### [Exercise:]{.c0} {#h.3cn67itlitn8 .c18}

[Connect the four logic inputs to four digital ports on your MetroMini.
Write a program to turn drive each motor on for 3 seconds, reverse
direction for 3 seconds and off for 3 seconds.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{.c4 .c1}

[MOTOR DIRECTION CONTROL FUNCTIONS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.2nfqs7exdbl6 .c30}
===================

Writing good functions for motor control are critical to effectively
driving motors. A good motor control function can control both motor
direction and speed. In this lesson, you will start with just
controlling the direction of your motor.  If you need more information
about functions, you can consult
[[concepts](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.45j551ci2de&sa=D&ust=1544756832469000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.dddv2i959hcn .c18}

[Write a function to control just the direction of one motor. The
function can be called anything you like, but you may want to start with
the following example. ]{.c5}

[]{.c5}

[v]{.c21}[oid motor(int direction) {]{.c2}

[//write your motor drive commands here]{.c2}

[}]{.c2}

Write your motor code (within the motor function)  so that passing an
argument of 1 will drive the motor forward and passing an argument of 2
will drive the motor in reverse. This way the following example commands
can be used to call the function.

[]{.c5}

[motor(1);  //to drive the motor forward]{.c2}

[motor(2); //to drive the motors reverse]{.c21}

[]{.c5}

[Using these examples as a starting point, write a complete program
including a function to drive your motor. You program should drive the
motor forward for 3 seconds and reverse for 3 seconds repeatedly.]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.vdjftzfmjbt0 .c18}

Modify your function so that instead of using the numbers 1 and 2 for
forward and reverse, use the text [forward ]{.c21}and [reverse]{.c21}.
In order to do this, you will simply need to create defines for [forward
]{.c21}and [reverse]{.c21} at the top of your code file.

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}[\
]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[SPEED AND DIRECTION CONTROL ]{.c4 .c1}

[Overview]{.c4 .c1} {#h.6e03ewi5w6zc .c30}
===================

[This is the second part of a two part motor control lesson. In the
previous lesson you wrote a function for controlling the direction of a
motor. In this lesson you will add speed control to your function.
Controlling the speed of your motor is typically done using PWM. If you
are not familiar PWM consult the previous lesson on PWM. ]{.c5}

[Basic Speed Control]{.c4 .c1} {#h.q5uqbld21jhj .c30}
==============================

[The following is an example of a function that could be used for basic
speed control assuming you are using pins 10 and 11 for controlling your
motor module. Note that you will need to pass a second argument to
control direction.]{.c5}

[]{.c5}

[void motor\_speed(int speed\_value)]{.c2}

[{]{.c2}

[        analogWrite(10, speed\_value):]{.c2}

[        digitalWrite(11, direction);]{.c2}

[}]{.c2}

[The following are three graphs showing different levels of speed
control using the function above. Note that the analogWrite function is
able to produce a PWM signal as shown below. When the AIN1 and AIN2 are
opposite logic levels the motor moves forward. When they are the same
logic level (both 0V) than the motor is in brake mode. ]{.c5}

[]{.c5}

[![](images/image83.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 200.07px;"}

[PWM motor control 50% duty cycle]{.c15 .c1}

[]{.c5}

------------------------------------------------------------------------

[]{.c5}

[]{.c5}

[![](images/image66.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 200.07px;"}

[PWM motor control 20% duty cycle]{.c15 .c1}

[]{.c5}

[![](images/image32.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 200.07px;"}

[PWM motor control 80% duty cycle]{.c15 .c1}

[]{.c5}

### [Exercise:]{.c0} {#h.5ykqypowrlhx .c18}

[Using the function given above write a program to control the speed of
your motor in one direction. ]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise:]{.c0} {#h.xbizmca2aup4 .c18}

Create a new function that is a duplicate of the motor function you
created in the previous lesson for controlling motor direction. Change
the name of this function to [motor\_speed ]{.c21}[and use what you just
learned about speed to control to enable your function to control both
speed and direction of your motor. This will be challenging. ]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_]{.c1}[\
]{.c5}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[CHALLENGE REVIEW]{.c4 .c1}

[Overview]{.c4 .c1} {#h.3ylaehkoz2l6 .c30}
===================

[In this challenge you will use what you learned about motor control,
potentiometers and switches.]{.c5}

[]{.c5}

### [Challenge One:]{.c0} {#h.6quvdc9ohi3m .c18}

[Add a potentiometer to your motor control circuit so that it is
possible to control the speed of the motor with the potentiometer.
]{.c5}

[]{.c5}

### [Challenge Two:]{.c0} {#h.pte782sh00v5 .c18}

Add a button to your circuit so that it is possible to control the
direction of the motor with the button. Pressed should be one direction
and unpressed should be the other direction. This circuit should also
include the potentiometer for speed control.

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[ARDUINO UNO POWER CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.f7g5fuj9gcn .c30}
===================

[Using the Arduino Uno you can use a single power source to power both
your logic and high power devices. ]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[LCD DISPLAY]{.c4 .c1}

[Overview]{.c4 .c1} {#h.q8dclk2sz5h1 .c30}
===================

[Liquid Crystal Displays (LCDs) are a common interface on many
electronic devices as they are low cost and fairly easy to use. The ones
we will be using are alphanumeric which means that they can display
letters and numbers and some custom characters. ]{.c5}

[]{.c5}

[The LCD you are using has a backpack that allows your microcontroller
communicate with the LCD using I2C which requires only two wires (SDA
for data and SCL for clock). If you don't recall ]{.c5}

[]{.c5}

### [Exercise: ]{.c0} {#h.rs4ugrfjk2w8 .c18}

[Follow the steps below to connect and use your LCD display.]{.c5}

[]{.c5}

[IMPORTANT: Using the screw terminals on the LCD, you should cut and
strip your own wire. Do NOT use precut jump wires because the screw
terminals will damage them. ]{.c5}

[]{.c5}

1.  [Set up a standard microcontroller board.]{.c5}
2.  [Disconnect the board from power. This way you will not hurt your
    LCD if you plug it in incorrectly.]{.c5}
3.  [On the back of the LCD you will see five screw terminal connectors.
    ]{.c5}

<!-- -->

1.  [Connect the GND terminal to the ground on your board]{.c5}
2.  [Connect the 5V terminal to the 5V logic on your board.]{.c5}
3.  [Connect the CLK terminal to the SCL pin on your
    microcontroller]{.c5}
4.  [Connect the DAT terminal to the SDA pin on your
    microcontroller.]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

5.  [Connect your circuit to power.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.kk7hdi46f29t .c18}

[In this exercise you will be sending simple text to your LCD
screen.]{.c5}

[]{.c5}

1.  [Make sure the library titled Adafruit LiquidCrystal is installed.
    If you don't know how to install a library, you should refer to that
    section of this document.]{.c5}
2.  [Use the following code to write text to the LCD. If you code does
    not compile make sure that you have the Adafruit LiquidCrystal
    library installed.]{.c5}

[]{.c5}

[\#include \"Adafruit\_LiquidCrystal.h\"]{.c2}

[// Connect via i2c, default address \#0 (A0-A2 not jumpered)]{.c2}

[Adafruit\_LiquidCrystal lcd(0);]{.c2}

[void setup() {]{.c2}

[  // set up the LCD\'s number of rows and columns: ]{.c2}

[  lcd.begin(16, 2);]{.c2}

[  // Print a message to the LCD.]{.c2}

[  lcd.print(\"hello, world!\");]{.c2}

[ }]{.c2}

[LCD DISPLAY CONTROL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.tb9ng2as1l5v .c30}
===================

[In order to make the best use of your LCD display, it is important to
know how to format text and ensure that the display is easily
visible.]{.c5}

[Backlight]{.c4 .c1} {#h.9q0dkcx67egw .c30}
====================

[The LCD includes a backlight that makes it more visible in high light
conditions. The trade off is that the backlight uses more power.
Intelligent displays use a light sensor to turn on the backlight in high
light conditions and off when the viewing environment is dark. The
following is the command for turning the backlight on.]{.c5}

[]{.c5}

[lcd.setBacklight(HIGH);]{.c21}

[]{.c5}

### [Exercise:]{.c0} {#h.wbiaehixsear .c18}

[Write a program that turns the backlight on and off every second on
your LCD screen. ]{.c5}

[LCD Cursor]{.c4 .c1} {#h.wfv5ufn26d5v .c30}
=====================

[The LCD cursor sets the location of the where any subsequent text
command will print. As shown below the command takes two arguments.  The
first argument sets the column of the screen. The first column is set to
0. The second argument sets the row of the screen, either 0 for the top
row or 1 for the bottom row. The following command would set the cursor
on the second row at the 6th column,]{.c5}

[]{.c5}

[lcd.setCursor(6, 1);]{.c21}

[]{.c5}

### [Exercise:]{.c0} {#h.5yv7ze8pntaq .c18}

[Write a program that prints your name on the second row and starting on
the 3rd column.]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

### [Exercise:]{.c0} {#h.s4c17a18bp74 .c18}

Write a program that writes the word "Pies: " on the first column and
then after this word counts up from zero. You will need to create a
variable and then increment that variable in a loop. You will also need
to include a delay so the screen has time to update before printing each
character.

 [TEACHER CHECK \_\_\_\_]{.c1}

[LCD Clear]{.c4 .c1} {#h.f60a9nuk14zq .c30}
====================

The following command will allow you to clear the entire LCD screen.
This is particularly necessary when you have character overwrite.

[]{.c5}

[lcd.clear();]{.c2}

[]{.c5}

[]{.c5}

[LCD Character Overwrite]{.c15 .c1} {#h.mol60ky7qre8 .c20}
-----------------------------------

[Each time a character is printed to the screen it remains until it is
overwritten. This may lead to unexpected results. ]{.c5}

[]{.c2}

### [Exercise: ]{.c0} {#h.2by8xonbckkn .c18}

[Test the following code in your setup function. ]{.c5}

[]{.c5}

[lcd.setCursor(0, 0);]{.c2}

[lcd.print(\"Watermelon\");]{.c2}

[lcd.setCursor(0, 0);]{.c2}

[lcd.print(\"kiwi\");]{.c2}

[]{.c5}

[Notice that the word "kiwi" was printed over the word "watermelon" but
"watermelon" was not erased. ]{.c5}

[]{.c5}

[Modify this code using a clear function so that the the word
"watermelon" is erased before the word "kiwi' is printed. ]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise: ]{.c0} {#h.9qs8237yr2ee .c18}

[Write a program that prints the word "kiwi: " and then prints a
variable starting at 0 and counting up. Make sure to include a delay so
that the LCD has time to update before printing each character. ]{.c5}

[]{.c4 .c1}

 [TEACHER CHECK \_\_\_\_]{.c1}

### [Exercise: ]{.c0} {#h.6z4wv1ugy1sv .c18}

[Repeat the exercise above but initialize your variable as an uint8\_t
(See variable types for more information). This will ensure that the
variable only counts up to 255 before resetting to zero. Note that after
the variable resets, the '55' left from the '255' remains.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.vegfmaothhdv .c18}

[Using the LCD clear function modify your code so that the trailing
numbers do not appear after the variable resets to zero. ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

OLED DISPLAY

[Overview]{.c4 .c1} {#h.omanbzt80o0a .c30}
===================

[OLED displays provide excellent contrast for small screens. The do not
require much power but are a bit more complicated to use than other
displays. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.e27z6wupgs8l .c18}

[Turn off the power to your circuit and connect the OLED as
follows.]{.c5}

[]{.c5}

-   [GND goes to ground]{.c5}
-   [Vin goes to 5V]{.c5}
-   [DATA to digital 9]{.c5}
-   [CLK to digital 10]{.c5}
-   [D/C to digital 11]{.c5}
-   [RST to digital 13]{.c5}
-   [CS to digital 12]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

### [Exercise:]{.c0} {#h.xgxow552xxq4 .c18}

[Install the Arduino SSD1306 library. Enter and download the following
sample code.]{.c5}

[]{.c5}

[\#include \<SPI.h\>]{.c2}

[\#include \<Wire.h\>]{.c2}

[\#include \<Adafruit\_GFX.h\>]{.c2}

[\#include \<Adafruit\_SSD1306.h\>]{.c2}

[]{.c2}

[\#define OLED\_MOSI   9]{.c2}

[\#define OLED\_CLK   10]{.c2}

[\#define OLED\_DC    11]{.c2}

[\#define OLED\_CS    12]{.c2}

[\#define OLED\_RESET 13]{.c2}

[Adafruit\_SSD1306 display(OLED\_MOSI, OLED\_CLK, OLED\_DC, OLED\_RESET,
OLED\_CS);]{.c2}

[]{.c2}

[void setup()   {]{.c2}

[]{.c2}

[  display.begin(SSD1306\_SWITCHCAPVCC);]{.c2}

[  display.clearDisplay();]{.c2}

[  display.setTextSize(1);]{.c2}

[  display.setTextColor(WHITE);]{.c2}

[  display.setCursor(0, 0);]{.c2}

[  display.println(\"Hello, world!\");]{.c2}

[]{.c2}

[  display.display();]{.c2}

[}]{.c21}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

### [Exercise:]{.c0} {#h.dtzwe17hfqh1 .c18}

[Modify your code to display your name on the OLED screen in a larger
font.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

### [Exercise:]{.c0} {#h.t16ghgjp0oz3 .c18}

Program your device using the sample code ssd1306\_128x64\_spi. This
will provide an example [of what sort of graphics are possible with the
OLED screen.]{.c5}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.z654ga89ctrn}

[ALPHANUMERIC LED DISPLAY]{.c4 .c1}

[Overview]{.c4 .c1} {#h.lz5v9vgxv5p7 .c30}
===================

[The four digit alphanumeric LED display allows you to easily display
both numbers and letters on a bright LED display that can be seen from
many feet away. You will note that it has 14 segments that allow it to
display all of the letters and numbers. Also note that it displays upper
case letters in a far more readable format than lower case.]{.c5}

[Set Up]{.c4 .c1} {#h.cfq1gzibfek8 .c30}
=================

[Connect the alphanumeric display to your Metromini following the
markings for the five pins on the upper portion of your display. Note
that this device like many of the devices you have used communicates
with your Metromini via I2C. A guide is provided below.]{.c5}

[]{.c5}

[C]{.c1}[: This is the clock pin for the I2C connection. It is often
denoted as SCL on other devices.]{.c5}

[D]{.c1}[: This is the data pin for the I2C connection. It is often
denoted as SDA on other devices.]{.c5}

[-]{.c1}[: This the ground pin.]{.c5}

[+]{.c1}[: The first + pin (next to the ground pin) is for Vcc or the
voltage you are using on your board. Most likely 5 volts.]{.c5}

[+]{.c1}[: The second + pin is for logic level for the I2C. This is in
case you have a different logic level for your I2C connection from your
voltage level. If your entire board is working 5 volts just connect this
to the 5 volt rail as well.]{.c5}

[Program]{.c4 .c1} {#h.yuvfo82hsa8e .c30}
==================

[Open the file, File/Examples/Adafruit LED Backpack/quadalphanum and
program your device. You should see a demo set of characters display.
Note that once the demo is complete, you can use your Serial Monitor to
send text strings to the display.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c5}

### Exercise:[  (Challenging)]{.c104}[ ]{.c0} {#h.tc27ryf0tx7v .c18}

[Write a function for scrolling an text across your alphanumeric
display. Your function should accept a string of text of various lengths
and scroll the text across the display.]{.c5}

[]{.c5}

[Note that in within the example code there is code for scrolling text
from the serial port. You will need to isolate this code and move it
into a separate function. Then you will need to learn how to pass a
string to a function and how to iterate through that string.]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[PHOTO REFLECTOR PAIR]{.c4 .c1}

[Overview]{.c1}[ ]{.c4 .c1} {#h.s5mjsrzg6g3 .c30}
===========================

[Photo reflector pairs are commonly used in all sorts of applications
from sensing the amount of paper in a printer to tracking the rotation
of a mouse wheel. ]{.c5}

[]{.c5}

[A photo reflector sensor contains two parts: one part emits light and
the other detects light. The diagram below shows a reflective
configuration (the IR LED emits infrared light and the photodiode senses
infrared light.) In this configuration, the sensor can be used to detect
the presence or absence of a near object. ]{.c5}

[]{.c5}

[![](images/image1.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 463.00px; height: 250.00px;"}

[]{.c5}

[]{.c5}

[NOTE: Most surfaces offer some reflectivity though the surface needs to
be fairly close to the sensor. Basic photoelectric sensors have a
maximum range of less than 5mm. ]{.c5}

[]{.c5}

[All phototransistors are designed to be sensitive to a specific
wavelength of light. The most common phototransistors are designed to be
sensitive to a wavelengths in the infrared (IR) spectrum. When building
a photosensor circuit, It is important to make sure that your LED also
emits light in a similar wavelength. For example, if your
phototransistor is sensitive to a wavelength of 800nm than you should
select an LED that emits at 800nm. ]{.c5}

IR Photo Emitter {#h.14uhg3dr2pl7 .c30}
================

[In this first part of the project you will build the photo emitter
circuit. The photo emitter is a simple LED designed to emit infrared
light. You will be using an LTE-4208 IR emitter made by Lite-On Inc. You
can find the datasheet by searching for "LTE-4208 and Datasheet". Use
the datasheet to answer the following questions.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.fqr9sb3s50gf .c18}

[Construct the IR emitter circuit as shown below. Using the LTE-4208 as
the emitter select the correct resistor to drive it at approximately
20mA. ]{.c5}

[![](images/image86.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 70.50px; height: 173.54px;"}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

IR Photo-sensor {#h.5pjedjj8gaoc .c30}
===============

[In this second part of the project, you will build the photosensor
circuit. You will be using the LTR-3208E as your phototransistor. The
diagram below shows a schematic for a sensor circuit using an
phototransistor. The flow of current through this circuit is determined
by the amount of infrared light striking the surface of the
phototransistor. This light is represented by the two arrows. The more
infrared light that strikes the phototransistor the more the current
flows. ]{.c5}

[![](images/image80.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 225.50px; height: 256.11px;"}

[As current flows through the circuit the voltage potential at Voltage
Out drops. This way the voltage at Voltage Out can be used to determine
how much light is striking the phototransistor. ]{.c5}

[]{.c5}

### Exercise {#h.b9ygu27bwo2y .c18}

[Set up the photosensor circuit as shown above using a 10K resistor for
R6. Crimp two 2-wire extensions that are at least eight inches long.
Connect both your IR LED and IR phototransistor to the board using these
connectors. This will allow you to easily position your emitter and
sensor. Use the red and black wire with black going to the ground on
your board.]{.c5}

[]{.c5}

[Place a your multimeter in the circuit to measure the voltage between
collector of the phototransistor and ground. This is labeled as Voltage
Out in your circuit. Answer the following questions:]{.c5}

[]{.c5}

1.  [What is the voltage under ambient light?  Ambient light is the
    normal light in your classroom. Note that florescent lights and
    white LEDs produce little infrared light. Note: Make sure your
    infrared LED is not being powered for this step.]{.c5}

[]{.c5}

2.  [What is the voltage in the direct path of the emitter? (i.e. when
    the infrared emitter is pointed directly at the infrared
    sensor)]{.c5}

[]{.c5}

3.  [How far way away can you place the emitter and sensor and still
    measure less than one volt?]{.c5}

[![](images/image29.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 415.00px; height: 32.00px;"}

[]{.c5}

4.  [Place the emitter and sensor about three inches apart and facing
    each other. Keeping the emitter about three inches from the sensor
    move it in an arc until the voltage drops below 3.5V. What is the
    angle. ]{.c5}

[![](images/image99.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 415.00px; height: 120.00px;"}

[]{.c5}

5.  [Hold the sensor and emitter side by side and both facing in the
    same direction. What is the voltage? ]{.c5}

[![](images/image100.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 415.00px; height: 40.00px;"}

6.  [Keeping the emitter and sensor side by side, move the sensor and
    emitter far enough apart so that the voltage rises above 4.5V. What
    is this distance?]{.c5}
7.  [With the emitter and sensor at this distance apart place a white
    card one foot in front of the sensors. Now move the card closer to
    the sensors in inch increments and measure the voltage and record in
    the charge below.]{.c5}

[![](images/image43.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 415.00px; height: 40.00px;"}

[![](images/image21.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 314.48px;"}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[COMPARATOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.a87f1fr32yq6 .c30}
===================

[Comparators provide a way to set a threshold voltage for reading an
analog signal. The diagram below shows an example comparator circuit
with the comparator labeled A. The comparator has two inputs. One input
is the reference which sets the threshold value in volts. The threshold
voltage in the circuit below is on the - (minus) pin of the comparator
and is created with a voltage divider. The second input is the voltage
being measured or compared. The comparator has one output. The output is
either HIGH or LOW based on the comparison between the voltage reference
input and the input voltage being measured.]{.c5}

[]{.c5}

[For example, if the voltage reference is set at 4 volts and the Vcc or
circuit voltage is 5 volts than if the measured voltage goes higher than
4 volts the output of the comparator will be HIGH. If the voltage input
is below 4 volts the output will be LOW.]{.c5}

[]{.c5}

[Below on the right is a diagram show the resulting voltage output from
the comparator. Note that when Vin is below the Vref the voltage output
Vout is LOW and when the Vin is above the Vref the Vout is HIGH. ]{.c5}

[]{.c5}

[![](images/image82.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 468.00px; height: 236.00px;"}

A common comparator IC is the
[[LM393](https://www.google.com/url?q=http://www.ti.com/lit/ds/symlink/lm393-n.pdf&sa=D&ust=1544756832508000){.c34}
]{.c31}[which has four internal comparators. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.g88bun45jqq8 .c18}

[Construct the following circuit. Note that in the schematic power and
ground for the LM393 are not included. You will need to look on the data
sheet for which pins are used for power and ground. These pins need to
be connected. Once you have completed this circuit show your
teacher.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

[Now follow the steps shown below to set up the circuit to trigger on a
specific light level.]{.c5}

1.  [Connect a meter to the output of the LM393 and set it read
    voltage.]{.c5}
2.  [Adjust the potentiometer so that it produces 3.5V on Vref. ]{.c5}
3.  [Determine how far your hand needs to be from the photoresistor to
    trigger the comparator.]{.c5}

##### [![](images/image7.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 348.25px; height: 298.50px;"} {#h.qjkfvxbxo4l0 .c107}

 [TEACHER CHECK \_\_\_\_]{.c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[PHOTO REFLECTOR MODULE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.qfx5lw48cnrw .c30}
===================

[In this lesson, you will learn how to use an infrared (IR) reflective
sensor to distinguish between light and dark areas. Specifically, these
sensors are used to detect lines for line tracking robots and to count
lines on rotary encoders as shown below.]{.c5}

[]{.c5}

[![](images/image103.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 280.00px; height: 271.00px;"}[![](images/image11.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 255.00px; height: 264.00px;"}

[Line tracking robot                                Rotary wheel
encoder]{.c78 .c1 .c65}

[]{.c5}

[The QTR-1A sensors (shown below) include a photo emitter and sensor
pair as well as other necessary components. The schematic for the sensor
is shown below as well. On the left side of the schematic is the IR
emitter which sends out infrared light. On the right of the schematic is
the phototransistor which senses infrared light. The voltage at the OUT
pin varies depending on how much infrared light is reflected from the IR
emitter.]{.c5}

[![](images/image22.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 181.50px; height: 145.20px;"}[![](images/image93.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 159.50px; height: 208.71px;"}

[QTR-1A Sensor                        QTR-1A Schematic]{.c1 .c65}

[Setup]{.c4 .c1} {#h.4pau2oe3n5cn .c30}
================

[In order to accurately test this sensor, you will need to create a
sensor mount, a connector cable and a test card. The sensor mount should
hold the sensor at a fixed height around 0.125" (3mm) above the table
and allow you to easily pass the test card under the sensor. You can
create this using cardboard and tape. Since the sensor will not be on
your breadboard, you will also need to use flexible jump wires to
connect it to your board. Finally, you will need to create a card for
testing your sensor's sensitivity to dark and light surfaces. This can
be made simply from a white index card with a single black line made
using a marker or tape.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[Interface]{.c4 .c1} {#h.lnqifj892nbf .c30}
====================

[There are three possible methods for reading the output from this
sensor; analog, digital and comparator. Each method is described below
and their pros and cons.]{.c5}

[Analog]{.c15 .c1} {#h.swtoasgjgeym .c20}
------------------

Since this sensor produces an analog signal, you can read the output on
any analog port which will provide a reading from 0 to 1023. Reading the
value on an analog port provides an easy way to set and adjust the exact
threshold for sensing a line. The downside of the using the analog port
is that reading values is slow and you can not easily integrate an
interrupt.

### []{.c0} {#h.dxb740eghucn .c18 .c16}

### [Exercise:]{.c0} {#h.aopab6ip99w .c18}

[Connect the sensor mount to your breadboard using the three wire cable
you created in the exercise above. Set the sensor on the table and place
your test card under the sensor. Use a multimeter to measure the voltage
at the output of the sensor. The voltage should vary depending on the
whether the dark line or white card is under the sensor. ]{.c5}

[]{.c5}

[Lowest value: \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ Volts (white
background)]{.c5}

[]{.c5}

[Highest value: \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ Volts (black
line)]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

### [Exercise:]{.c0} {#h.1fqdw4spysn5 .c18}

[Create a circuit that can detect if the sensor is over the white
background or black line. Connect the output of the sensor to an analog
port. Write a program that displays in the terminal window  the word
"line" when the sensor is over the black line and "background" when the
sensor is over the white background. ]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c1}

[]{.c5}

[Digital]{.c15 .c1} {#h.nor9hu42cmjz .c20}
-------------------

[This method relies on the internal comparator on each of the digital
pins. Since you can not adjust the threshold in software you must rely
on setting the correct height to get the results you want. The advantage
of this method is that it is fast and can be used with interrupts.]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.pz3arpvdipuo .c18}

[Repeat the last exercise, but move the output from an analog port to a
digital port. You might need to adjust the height of your sensor so that
it works correctly.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[Comparator]{.c15 .c1}

[This is method provides the most accurate results and allows you to
adjust easily for changes in ambient light or changes in the surface you
are detecting. It also allows you to use interrupts in your code. The
downside is that it requires a more complex circuit. Using what you
learned in the section on comparators design a circuit that reads the
output of the sensor. Include a potentiometer to set the reference
voltage.]{.c5}

[]{.c5}

 [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[BLUETOOTH]{.c4 .c1}

OPTO ISOLATION

[LIMIT SWITCHES]{.c4 .c1}

[HEAT DISSIPATION]{.c4 .c1}

[STEPPER DRIVER]{.c4 .c1}

[READING ENCODERS]{.c4 .c1}

[EXTERNAL INTERRUPTS]{.c4 .c1}

MCU REGISTERS

[TIMING INTERRUPTS]{.c4 .c1}

SUPERCAPACITORS

[MILLIS()]{.c4 .c1}

[SINGLE BOARD COMPUTER]{.c4 .c1}

[ENABLE RPI SERIAL]{.c4 .c1}

PROGRAM RPI FROM ARDUINO

[long timeThis, timeLast;]{.c2}

[]{.c2}

[void setup() {]{.c2}

[  Serial.begin(9600);]{.c2}

[}]{.c2}

[]{.c2}

[void loop() {]{.c2}

[  //Store the present count of millis]{.c2}

[  timeThis = millis();]{.c2}

[  //Check if 1000ms has passed between the last check of millis]{.c2}

[  if (timeThis - timeLast \>= 1000) {]{.c2}

[    Serial.println(\"count!\");]{.c2}

[    //Store the present count of millis in the last count]{.c2}

[    timeLast = timeThis;]{.c2}

[  }]{.c2}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[EQUALIZER]{.c4 .c1}

[]{.c5}

[[One](https://www.google.com/url?q=https://www.instructables.com/id/How-to-build-your-own-LED-Color-Organ-Arduino-MSGE/&sa=D&ust=1544756832522000){.c34}]{.c31}

[]{.c5}

[[Two](https://www.google.com/url?q=http://www.whatimade.today/graphic-equalizer-using-esp8266-msgeq7-ws2812/&sa=D&ust=1544756832523000){.c34}]{.c31}

[]{.c5}

[[Three](https://www.google.com/url?q=https://www.instructables.com/id/Music-Sync-Flashing-LEDs-Arduino-MSGEQ7/&sa=D&ust=1544756832523000){.c34}]{.c31}

[]{.c5}

[[Four](https://www.google.com/url?q=https://www.eetimes.com/author.asp?section_id%3D216%26doc_id%3D1323003&sa=D&ust=1544756832524000){.c34}]{.c31}

[]{.c5}

[[Five](https://www.google.com/url?q=https://www.baldengineer.com/msgeq7-simple-spectrum-analyzer.html&sa=D&ust=1544756832524000){.c34}]{.c31}

[]{.c5}

[[Six](https://www.google.com/url?q=https://www.instructables.com/id/OLED-Spectrum-Analyzer-Warduino-MSGEQ7/&sa=D&ust=1544756832524000){.c34}]{.c31}

[]{.c5}

[]{.c5}

[OPTO ISOLATION]{.c4 .c1}

[![](images/image61.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 349.33px;"}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{.c15 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{.c4 .c1}

[MCU REGISTERS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.971c1tybha9 .c30}
===================

[In this lesson, you will control your microcontroller be directly
changing internal registers on the microcontroller. All of the functions
you have used from setting a pin as an output to running serial commands
are accomplished by setting and clearing bits in one of the eighty-eight
8-bit registers in the ATMega328. ]{.c5}

[]{.c5}

[Below is a partial table of all eighty-eight 8-bit working registers.
This table can be found on page 428 of the ATMega328 datasheet.]{.c5}

[]{.c5}

[![](images/image114.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 378.67px;"}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[RASPBERRY PI (RPI)]{.c4 .c1}

[Overview]{.c4 .c1} {#h.4q4lvwcd3tse .c30}
===================

[In this lesson, you will learn to set up an Raspberry Pi single board
computer. ]{.c5}

[Install OS]{.c4 .c1} {#h.kybyee4qm01d .c30}
=====================

[In order to use your Raspberry Pi you will need to install an operating
system (OS) on the RPI. The OS you will be using is Raspian Lite which
is a derivative of the Linux OS. ]{.c5}

[ ]{.c5}

1.  Download the latest version of [[Raspian
    Lite](https://www.google.com/url?q=https://www.raspberrypi.org/downloads/raspbian/&sa=D&ust=1544756832527000){.c34}]{.c31} and
    save it in your downloads directory.
2.  [Once you have downloaded Raspian Lite, extract the file into its
    own directory. ]{.c5}
3.  [Insert a microSD card into your computer. If your computer does not
    have a microSD card reader, you will need to use a USB card reader.
     ]{.c5}
4.  [Format the OS onto the microSD card. Launch Etcher and select
    Raspian Lite as the selected image. Select the microSD card as the
    selected drive.]{.c5}
5.  Once the format is complete add one file to the top level of the
    [boot ]{.c1}[directory. The file should be named "ssh" and should
    have no extension. This will enable you to log into your RPI
    remotely.]{.c5}
6.  [Install the microSD card into the RPI.]{.c5}

[Find IP Address]{.c4 .c1} {#h.58wyr0u41srm .c30}
==========================

[In order to find your RPI on the network, you will need to find what IP
address it has been assigned by your router.]{.c5}

[]{.c5}

[OR ]{.c5}

[]{.c5}

#### [sudo nmap 10.1.41.1-100 -sn \|grep -B 2 -i raspberry]{.c50 .c38} {#h.g6oy8lye4uq5 .c18 .c51 .c43}

[]{.c5}

1.  [Launch Advanced IP Scanner]{.c5}
2.  [Run a scan for the address range 10.1.41.1 - 10.1.41.100]{.c5}
3.  [The scan will take a while. The IP address of your RPI will be
    listed under Manufacturer as Raspberry Pi Foundation.]{.c5}
4.  [SSH into your RPI using the IP address you found.]{.c5}

[]{.c4 .c1} {#h.7ovc1vfy0og .c66 .c74}
===========

------------------------------------------------------------------------

[Particle CLI]{.c4 .c1} {#h.sfzw1k801wk3 .c66}
=======================

[As root:]{.c5}

#### [apt install dfu-util]{.c50 .c38} {#h.kt7yldkxs7k5 .c18 .c43 .c51}

#### [apt install nodejs]{.c50 .c38} {#h.kt7yldkxs7k5-7 .c18 .c51 .c43}

#### [apt install npm]{.c50 .c38} {#h.kt7yldkxs7k5-8 .c18 .c51 .c43}

#### [npm install -g particle-cli]{.c50 .c38} {#h.kt7yldkxs7k5-9 .c18 .c51 .c43}

[Update ]{.c4 .c1} {#h.7ldlzu8rluvz .c66}
==================

[When you first log into your RPI, you should run the following commands
to make sure it is up to date.]{.c5}

#### [        sudo apt-get update]{.c50 .c38} {#h.9rtmnpatkpki .c18 .c51 .c43}

#### [        sudo apt-get upgrade]{.c50 .c38} {#h.1t5noie0w855 .c18 .c51 .c43}

[INSTALL VIM]{.c4 .c1} {#h.g7vtkcjlioru .c30}
======================

[LEARN VIM]{.c5}

[RESET ESC/CAPS]{.c5}

[]{.c5}

#### [! Swap caps lock and escape]{.c50 .c38} {#h.q3qp9cynebx7 .c18 .c51 .c43}

#### [remove Lock = Caps\_Lock]{.c50 .c38} {#h.5oo8mrdfziw6 .c18 .c51 .c43}

#### [keysym Escape = Caps\_Lock]{.c50 .c38} {#h.tod17xe48ks5 .c18 .c51 .c43}

#### [keysym Caps\_Lock = Escape]{.c50 .c38} {#h.v2af28ug2l8r .c18 .c51 .c43}

#### [add Lock = Caps\_Lock ]{.c50 .c38} {#h.fv1ux63clwds .c18 .c51 .c43}

#### [\$ xmodmap \~/.speedswapper]{.c50 .c38} {#h.fq2ba8ntcqep .c51 .c43 .c144}

#### []{.c50 .c38} {#h.fq2ba8ntcqep-10 .c18 .c51 .c139 .c43}

#### [Particle compile photon blink.ino]{.c50 .c38} {#h.14fw88gcp5k7 .c18 .c51 .c43}

#### [Particle flash name-of-photon name-of-file.bin]{.c50 .c38} {#h.14fw88gcp5k7-11 .c18 .c51 .c43}

[Install Cert]{.c4 .c1} {#h.lec7taer3eh7 .c30}
=======================

[In order to access sites outside the school using any communication
protocol, you will need to install a certificate. ]{.c5}

[]{.c5}

1.  Copy the certificate from your local directory to the RPI using
    [scp]{.c21}. If you do not know how to use [scp]{.c21}[, you can
    find a reference in this guide. ]{.c5}
2.  Place the cert under [ ]{.c81 .c87 .c120
    .c38}[/usr/share/ca-certificates]{.c100 .c87 .c38}
3.  Add your cert name to the bottom of the [ca-certificates.conf]{.c87
    .c120 .c38} file which can be found in the [/etc]{.c87 .c120
    .c38}[ directory.  ]{.c5}
4.  [Update certificates using the following command. ]{.c5}

[sudo update-ca-certificates ---fresh]{.c87 .c38 .c99}

[Install Nodejs (optional)]{.c4 .c1} {#h.2r54dxvn03ph .c30}
====================================

[Nodejs is useful for running many javascript packages.]{.c5}

[]{.c5}

1.  [Download the Nodejs source package]{.c5}

[curl -sL \"https://deb.nodesource.com/setup\_8.x\" \| sudo -E bash
-]{.c81 .c87 .c110}

2.  [Install Nodejs and necessary packages (the g flags ensures that
    everything is installed globally)]{.c5}

[sudo apt install nodejs]{.c100 .c49}

[sudo apt-get update && sudo apt-get upgrade\
        sudo apt-get install build-essential\
        sudo npm install -g npm]{.c81 .c87 .c120}

[NOTE: You must become root using  ]{.c81}[sudo su]{.c87 .c102
.c120}[ before running the following command.]{.c81}[\
        sudo npm install -g onoff]{.c49 .c81 .c100}

[NOTE: To return to from root type]{.c81}[ ]{.c81 .c87
.c120}[exit]{.c100 .c49 .c102}

[]{.c100 .c49}

[]{.c4 .c1}

[RPI SERIAL]{.c4 .c1}

[Overview]{.c4 .c1} {#h.riq3k9s11t2h .c30}
===================

In this lesson, you will set up the serial communication drivers on your
RPI. Using serial communication, your RPI can directly communicate with
as well as program an Arduino over the USB port[.]{.c5}

[Enable Serial]{.c4 .c1} {#h.2b4m0gr3mgkr .c30}
========================

[In order to use serial communication with your RPI, you must enable the
serial communication on your RPI.]{.c5}

[]{.c5}

1.  From the command shell, run [sudo raspi-config]{.c21}[ ]{.c5}
2.  Choose Interfacing Options from the menu and then choose Serial[.
    ]{.c5}
3.  [At the first dialog box, "Would you like a login shell to be
    accessible over serial?" select No.]{.c5}
4.  [At the second dialog box, "Would you like the serial port hardware
    enabled?" select Yes.]{.c5}
5.  [Select OK and Finish.]{.c5}

[Get Port Address]{.c4 .c1} {#h.3wzi8lx22klm .c66}
===========================

[In order to use your serial port you will need to get the address
assigned to it by the RPI.]{.c5}

[]{.c5}

1.  [Unplug your Arduino from the RPI]{.c5}
2.  Run [ls /dev/tty\*]{.c21 .c122}[ This should provide a list of
    ports.]{.c5}
3.  Plug your Arduino into the RPI and run the above command again. Make
    note of which port is only visible when the Arduino is plugged in.
    Note that the address will look like [ttyACM0]{.c21}[. ]{.c5}
4.  The same process will work with a Metro Mini. The only difference is
    that the address will look like [ttyUSB0]{.c2}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[PROGRAM RPI FROM ARDUINO]{.c4 .c1}

[Overview]{.c4 .c1} {#h.yqrk5z4umq4i .c30}
===================

[In this lesson, you will learn how to program your Arduino directly
from the RPI. This will make working with both devices together much
easier!]{.c5}

[]{.c5}

1.  [Install the Arduino-MK software and dependencies. ]{.c5}

[]{.c5}

[                 sudo apt-get install arduino-mk]{.c80 .c21}

2.  [Create a directory for storing your programs and create a directory
    for your first program.]{.c5}

<!-- -->

1.  [Create directory for storing all your Arduino files]{.c5}

[mkdir \~/sketchbook]{.c80 .c21}

2.  [Enter that directory]{.c5}

[cd \~/sketchbook]{.c80 .c21}

3.  [Create a link to that directory]{.c5}

[ln -s /usr/share/arduino/Arduino.mk]{.c80 .c21}

4.  [Create a directory for storing all your user libraries. Make sure
    you do this from inside of your sketchbook directory]{.c5}

[mkdir libraries          ]{.c80 .c21}[          ]{.c80 .c21}

3.  [Create your first program file.]{.c5}

<!-- -->

1.  [Make a directory for your first program. Make sure you do this from
    inside of your sketchbook directory.]{.c5}

[mkdir blink]{.c21 .c80}

2.  [Enter that directory.]{.c5}

[cd \~/blink]{.c80 .c21}

3.  Create a file titled [blink.ion]{.c21}[ using your favorite text
    editor.]{.c5}
4.  [Copy the following code into your file.]{.c5}

[void setup() {\
 pinMode(13, OUTPUT);\
}\
\
void loop() {\
 digitalWrite(13, LOW);\
 delay(1000);\
 digitalWrite(13, HIGH);\
 delay(1000);\
}]{.c80 .c21}

4.  Create a [Makefile ]{.c21}[which be used for compiling your program.
    Make sure you do this from inside of your blink directory. Copy the
    following into that file. Note that if you are using a Metro Mini,
    you will need to change the port assignment]{.c5}

[]{.c5}

[BOARD\_TAG            = uno\
ARDUINO\_PORT         = /dev/ttyACM0]{.c2}

[USER\_LIB\_PATH         = /home/pi/sketchbook/libraries\
ARDUINO\_DIR          = /usr/share/arduino\
\
include ../Arduino.mk]{.c21}

[]{.c5}

5.  [The following commands can now be used to compile your code and
    program the arduino.]{.c5}

[]{.c5}

[         make             - compile code with no upload\
         make upload      - compile and upload\
         make clean       - remove all our dependencies\
         make depends     - update dependencies\
         make reset       - reset the Arduino by tickling DTR\
         make raw\_upload  - upload without first resetting\
         make show\_boards - list all the boards defined in
boards.txt]{.c80 .c21}

[]{.c4 .c1}

[]{.c4 .c1}

NOTE: LIBRARIES MUST HAVE THE SAME NAME AS THE FILES

------------------------------------------------------------------------

[INSTALLING SERIAL ON RPI]{.c4 .c1}

[Python]{.c4 .c1} {#h.qv15dqik259y .c30}
=================

[]{.c5}

1.  Install the Python serial driver with the following command[. ]{.c5}

[sudo apt-get install python-serial]{.c2}

2.  [Open a Python 2 prompt. At the prompt type the following command.
    If the install worked you should not receive an error.]{.c5}

[import serial]{.c2}

[Javascript]{.c4 .c1} {#h.7q5s39epohon .c30}
=====================

Javascript is a powerful language for controlling devices[. ]{.c5}

[]{.c5}

1.  [Set up a json package using the following command. This will be
    useful for installing nodejs serial. Make sure you have already
    installed Nodejs.]{.c5}

[npm init \--yes]{.c2}

[]{.c2}

2.  [Run the following serial installer]{.c5}

[sudo npm install serialport \--unsafe-perm \--build-from-source]{.c2}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[JSON Parse in Python]{.c5}

[]{.c5}

[import urllib, json]{.c5}

[]{.c5}

[url = \"https://api-v3.mbta.com/routes\"]{.c5}

[]{.c5}

[response = urllib.urlopen(url)]{.c5}

[]{.c5}

[data = json.loads(response.read())]{.c5}

[]{.c5}

[\#formated\_data = data\[\'data\'\]\[3\]\[\'id\'\]]{.c5}

[formated\_data =
data\[\'data\'\]\[0\]\[\'attributes\'\]\[\'color\'\]]{.c5}

[]{.c5}

[print(formated\_data)]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[RPI SERIAL COMMUNICATION PYTHON]{.c4 .c1}

[Overview]{.c4 .c1} {#h.6d7xwcpcdnhm .c30}
===================

[This will send and receive data using Arduino.]{.c5}

[]{.c5}

[Arduino to RPI (Arduino side)]{.c4 .c1} {#h.1snpdlqnf47w .c30}
========================================

1.  [Make a new directory in your sketchbook. You can call this
    directory anything you like.]{.c5}
2.  [In this directory create a new code file and Makefile. Refer to
    lessons above if you need help with this.]{.c5}
3.  [Copy the following code into your new code file.]{.c5}
4.  [Program this file on your Arduino.]{.c5}

[]{.c5}

[void setup() {]{.c27 .c21}

[    Serial.begin(9600);]{.c27 .c21}

[}]{.c27 .c21}

[]{.c27 .c21}

[void loop() { ]{.c27 .c21}

[  Serial.println("367");]{.c27 .c21}

[  delay(500);]{.c27 .c21}

[}]{.c21 .c103}

Arduino to RPI (RPI side) {#h.ovqoiyts8b76 .c30}
=========================

1.  Create a new directory for your Python project. This project should
    be located in your [home/pi]{.c21}[ directory. ]{.c5}
2.  Move into your new directory and create a file with any name that
    ends in[ .py]{.c21}[. ]{.c5}
3.  [Copy the following code into your new file.]{.c5}

[import serial]{.c2}

[ser = serial.Serial(\'/dev/ttyACM0\', 9600)]{.c2}

[while 1:]{.c2}

[    line = ser.readline()]{.c2}

[    print(line)]{.c21}

[]{.c5}

4.  Close the file and run it typing[ python2 nameoffile.py ]{.c21}at
    the command line. YOu should see the number you entered in your
    Arduino code displayed in the terminal window.

[ ]{.c4 .c1} {#h.4001nbaae0pt .c30 .c74}
============

------------------------------------------------------------------------

[]{.c4 .c1} {#h.rsz982rxooeu .c30 .c74}
===========

[RPI to Arduino (Arduino side)]{.c4 .c1} {#h.jev1f3k3unbr .c30}
========================================

[In order to view what you are sending to the Arduino, it will be
helpful to have a display. In the following example you will be using a
7-segment matrix display. You can find more information about how to use
under matrix display in this guide.]{.c5}

[]{.c5}

1.  [Connect the 7-segment matrix display to the Arduino.]{.c5}
2.  [Make a new directory in your sketchbook or modify an existing
    sketch.]{.c5}
3.  [Copy the following code into your file.]{.c5}

[]{.c5}

[\#include \<Wire.h\>                                                  
]{.c2}

[\#include \<Adafruit\_GFX.h\>                                          
]{.c2}

[\#include \"Adafruit\_LEDBackpack.h\"                                  
]{.c2}

[                                                                   
]{.c2}

[Adafruit\_7segment matrix = Adafruit\_7segment();                    
]{.c2}

[                                                                   
]{.c2}

[String inString = \"\";                                              
]{.c2}

[                                                                   
]{.c2}

[void setup() {                                                    
 ]{.c2}

[        matrix.begin(0x70);                                        
]{.c2}

[        matrix.print(0, DEC);                                      
]{.c2}

[        matrix.writeDisplay();                                    
 ]{.c2}

[        Serial.begin(9600);                                        
]{.c2}

[}                                                                  
]{.c2}

[                                                                       
                                                   ]{.c2}

[void loop() {                                                      
]{.c2}

[                                                                   
]{.c2}

[        if (Serial.available()) {                                  
]{.c2}

[                int inChar = Serial.read();                        
]{.c2}

[                if (isDigit(inChar)) {                            
 ]{.c2}

[                        inString += (char)inChar;                  
]{.c2}

[                }                                                  
]{.c2}

[                if (inChar == \'\\n\') {                              
]{.c2}

[                        matrix.print(inString.toInt(), DEC);      
 ]{.c2}

[                        matrix.writeDisplay();                    
 ]{.c2}

[                        inString = \"\";              ]{.c2}

[                ]{.c2}

[                }                                                  
]{.c2}

[        }                                                          
]{.c2}

[}   ]{.c21}[                                                           
    ]{.c5}

4.  [Download code to Arduino.]{.c5}

[RPI to Arduino (RPI side)]{.c4 .c1} {#h.qfjkbube6iu2 .c30}
====================================

The following is the python code that will send a number to your Arduino
that increments by one every half second. For more information about how
to format serial strings read
[[here](https://www.google.com/url?q=https://pyformat.info/&sa=D&ust=1544756832552000){.c34}]{.c31}[.
]{.c5}

[]{.c5}

[import serial]{.c2}

[import time]{.c2}

[]{.c2}

[count = 0]{.c2}

[ser = serial.Serial(\'/dev/ttyACM0\', 9600)]{.c2}

[while 1:]{.c2}

[    count+=1]{.c2}

[    ser.write(\'{:d}\\n\'.format(count))]{.c2}

[    time.sleep(.5)]{.c2}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

RPI SERIAL COMMUNICATION JAVASCRIPT

[Test Serial for Node]{.c4 .c1} {#h.loy5vwb55tci .c30}
===============================

Create a javascript file with the following code. In your Arduino write
a program that sends a data value and the data value that it receives.
After running the file, you should see the serial data from your Arduino
show up in the console.

[]{.c5}

        [//Include the Serialport library]{.c21}

[var SerialPort = require(\"serialport\"); ]{.c2}

[]{.c2}

[//Create an instance of the serial port monitor         ]{.c2}

[var serialport = new SerialPort(\"/dev/ttyACM0\", 9600);  ]{.c2}

[]{.c2}

[]{.c2}

[//Define function for the open event]{.c2}

[serialport.on(\'open\', onOpen); ]{.c2}

[]{.c2}

[//Define function for the receive data event]{.c2}

[serialport.on('data', onData);]{.c2}

[]{.c2}

[//Listener that responds to on open event               ]{.c2}

[function onOpen() {  ]{.c2}

[console.log(\'Serial Port Is Open\');                                  
           ]{.c2}

[}  ]{.c2}

[]{.c2}

[//Listener that responds to receive data event    ]{.c2}

[function onData(d) {]{.c2}

[console.log("Data: " + d);]{.c2}

[serialport.write('r');]{.c2}

[}                                 ]{.c21}[      ]{.c98 .c21}

[]{.c21 .c98}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[INSTALL PARTICLE CLI]{.c4 .c1}

[]{.c5}

[Linux]{.c5}

[]{.c5}

[Install Latest version of node]{.c5}

[curl]{.c87 .c38 .c91}[ -sL https://deb.nodesource.com/setup\_10.x
]{.c87 .c38 .c109}[\|]{.c87 .c120 .c38 .c148}[ ]{.c109 .c87
.c38}[sudo]{.c91 .c87 .c38}[ -E ]{.c109 .c87 .c38}[bash]{.c91 .c87
.c38}[ -\
]{.c109 .c87 .c38}[sudo]{.c91 .c87 .c38}[ ]{.c109 .c87
.c38}[apt-get]{.c91 .c87 .c38}[ ]{.c109 .c87 .c38}[install]{.c91 .c87
.c38}[ -y nodejs]{.c109 .c121 .c87 .c104 .c38}

[This first command must be done as root!]{.c5}

[how to install the particle-cli]{.c133 .c87 .c146}[\
\$ npm install ]{.c95 .c87}[-]{.c87 .c105}[g particle]{.c87
.c95}[-]{.c105 .c87}[cli\
\$ particle login]{.c95 .c121 .c87 .c104}

[Use your password]{.c5}

[]{.c5}

[particle setup]{.c38 .c54}

[]{.c54 .c38}

[NOT WORKING!!!!!!!]{.c54 .c38}

[]{.c54 .c38}

[Windows]{.c54 .c38}

[Npm install -g \--unsafe-perm particle-cli]{.c54 .c38}

[]{.c54 .c38}

[]{.c4 .c1}

[NEW USER]{.c4 .c1}

#### useradd -m -s /bin/bash [username]{.c121 .c87 .c104 .c120 .c38 .c142} {#h.nhaqtb2drksl .c18 .c51 .c43}

[M flag sets up home directory]{.c5}

S flag makes sure it is using bash

#### passwd [username]{.c121 .c87 .c104 .c120 .c38 .c149} {#h.3y9zz8pdi8mm .c18 .c51 .c43}

#### [whoami]{.c50 .c38} {#h.3y9zz8pdi8mm-12 .c18 .c51 .c43}

#### usermod -s /bin/bash [username]{.c121 .c87 .c104 .c120 .c38 .c157} {#h.3y9zz8pdi8mm-13 .c18 .c51 .c43}

#### [echo \$SHELL]{.c38 .c50} {#h.3r0d47e9e0mv .c18 .c51 .c43}

[]{.c5}

[Recording Sound]{.c4 .c1} {#h.93s1k21ggp8e .c30}
==========================

[The following is example code that can be used to record the duration
of button presses and play them back. The example code is can only
record five durations, but the code can be set to record any number.
]{.c5}

[]{.c5}

[unsigned long duration\[7\];]{.c2}

[int count, next, last;]{.c2}

[]{.c2}

[void setup() {]{.c2}

[  pinMode(7, INPUT\_PULLUP);]{.c2}

[}]{.c2}

[]{.c2}

[void loop() {]{.c2}

[  int y = digitalRead(7);  //READ BUTTON]{.c2}

[]{.c2}

[  if (y == LOW ) {  //IF BUTTON IS PRESSED]{.c2}

[    next = millis();  //STORES LAST READING FROM TIMER]{.c2}

[    duration\[count++\] = next - last;  //STORES DIFF BETWEEN
PRESENT]{.c2}

[                                                         AND LAST
READING]{.c2}

[    last = next;  //SETS THE PRESENT READING AS THE LAST READING]{.c2}

[    tone(3, 440, 100);  //PLAYS A TONE]{.c2}

[    delay(200); //ADDS A DELAY FOR THE BUTTON PRESS]{.c2}

[  }]{.c2}

[  if (count == 5) {  //IF THE USER HAS PRESSED THE BUTTON FIVE
TIMES]{.c2}

[    delay(1000);  //CREATE A PAUSE BEFORE PLAYING THE STORED
SOUND]{.c2}

[    for (int x = 1; x \<= 5; x++) {  //PLAY THE FIVE TONES]{.c2}

[      tone(3, 440, 100);  //PLAY TONE]{.c2}

[      delay(duration\[x\]); //WAIT THE RECORDED DURATION]{.c2}

[    }]{.c2}

[    count = 0; //RESET THE COUNT TO ZERO FOR THE NEXT RECORDING]{.c2}

[  }]{.c2}

[}]{.c2}

[]{.c2}

[]{.c5}

------------------------------------------------------------------------

[]{.c5}

[SSD1306 and Particle]{.c4 .c1}

[YOU MUST CONNECT MOSI (DATA) and CLK]{.c132 .c87 .c120}[\
\
]{.c56}[// use hardware SPI]{.c132 .c87 .c120}[\
]{.c56}[// OLED\_D0 -\> A3 (SPI CLK)]{.c87 .c120 .c132}[\
]{.c56}[// OLED\_D1 -\> A5 (SPI MOSI)]{.c132 .c87 .c120}[\
\#define OLED\_DC     D3\
\#define OLED\_CS     D4\
\#define OLED\_RESET  D5\
]{.c1 .c7}

[You must remove this function]{.c154}

[int ]{.c56}[random]{.c87 .c120 .c151}[(int maxRand) {\
   return rand() % maxRand;\
}]{.c7 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

RECOVER PARTICLE CLI

1.  [Run particle setup from the the command line.]{.c5}
2.  [Follow instructions]{.c5}
3.  [Make sure to use OpenWrt ]{.c5}

[If this fails enter DFU mode ]{.c5}

1.  [Press reset and setup]{.c5}
2.  [Wait for LED to flash yellow]{.c5}
3.  [Release setup ]{.c5}
4.  [Run particle update]{.c5}

IF In really bad shape than run particle doctor

[]{.c5}

[]{.c4 .c1}

[]{.c4 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[RPI EXTERNAL DRIVE]{.c4 .c1}

https://www.raspberrypi-spy.co.uk/2014/05/how-to-mount-a-usb-flash-disk-on-the-raspberry-pi/

[]{.c4 .c1}

[RPI VIDEO AUDIO]{.c4 .c1}

[]{.c5}

[REPAIR SDCARD]{.c4 .c1}

["Structure needs cleaning"]{.c5}

[sudo umount /dev/sda1 ]{.c50 .c38}

[sudo fsck -y /dev/sda1]{.c50 .c38}

[This second command might need to be run twice. You need to confirm the
disk location could be sdc2, etc.]{.c50 .c38}

[]{.c5}

 

[Overview]{.c4 .c1} {#h.ddqmcj751ih .c30}
===================

1.  [Follow the above guide for installing an OS, with the only
    exception you will be installing the version of Raspian with
    desktop. ]{.c5}
2.  [Connect RPI to monitor, keyboard, and mouse.]{.c5}
3.  [Boot RPI]{.c5}
4.  [Add a powered speaker to the audio out port. I have not found that
    USB speakers work well.]{.c5}
5.  [Choose preferences/audio devices and configure your speaker]{.c5}
6.  [Navigate to a site that supports sound files and test audio
    out.]{.c5}
7.  [Add a USB camera with microphone.]{.c5}
8.  [Test the microphone by running the following:]{.c5}

[arecord \--device=hw:1,0 \--format S16\_LE \--rate 44100 -c1
test.wav]{.c93 .c49}

[This will record signed 16-bit (]{.c60 .c87}[S16\_LE]{.c87 .c113}[)
audio at 44100 Hz (]{.c60 .c87}[\--rate 44100]{.c113 .c87}[) mono
(]{.c60 .c87}[-c1]{.c113 .c87}[) audio to ]{.c60 .c87}[test.wav]{.c1
.c60}[. ]{.c49 .c60 .c104 .c121}

[You can have a little VU meter show up if you add to the]{.c60 .c87}[-V
mono]{.c113 .c87}[ command line. Press control-C to quit]{.c60 .c87}

9.  [Test the wave file by running the command:]{.c5}

[aplay test.wav]{.c93 .c49}

[]{.c49 .c93}

10. Enable the microphone in Chrome under Settings/Advanced/Content
    settings
11. [Test the video and microphone using either Jitsi or Google
    Hangouts]{.c5}

[]{.c49 .c121 .c60 .c104}

[]{.c5}

[EAGLE ]{.c4 .c1}

[Trace width]{.c4 .c1} {#h.x4s3hjadwewc .c30}
======================

[Drill: 40]{.c5}

[Shape: Long]{.c5}

[Diameter: Auto]{.c5}

[Trace: 18]{.c5}

[]{.c5}

1.  [Before making a schematic you must power your board by your desired
    power supply.]{.c5}
2.  [All boards must have four mounting holes for 2.5M bolts]{.c5}
3.  [All boards must be based on a ATMega328 (not a Metro Mini or
    Arduino Uno)]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[I2C EXPANDER]{.c4 .c1}

[Make sure to use lox.begin after each time you call a new device.]{.c5}

[ \#include \"Wire.h\"]{.c27 .c21}

[extern \"C\" {]{.c27 .c21}

[\#include \"utility/twi.h\"  // from Wire library, so we can do bus
scanning]{.c27 .c21}

[}]{.c27 .c21}

[\#include \"Adafruit\_VL53L0X.h\"]{.c27 .c21}

[]{.c27 .c21}

[Adafruit\_VL53L0X lox = Adafruit\_VL53L0X();]{.c27 .c21}

[\#define TCAADDR 0x70]{.c27 .c21}

[]{.c27 .c21}

[void tcaselect(uint8\_t i) {]{.c27 .c21}

[  if (i \> 7) return;]{.c27 .c21}

[]{.c27 .c21}

[  Wire.beginTransmission(TCAADDR);]{.c27 .c21}

[  Wire.write(1 \<\< i);]{.c21 .c27}

[  Wire.endTransmission();]{.c27 .c21}

[}]{.c27 .c21}

[]{.c27 .c21}

[]{.c27 .c21}

[// standard Arduino setup()]{.c27 .c21}

[void setup()]{.c27 .c21}

[{]{.c27 .c21}

[]{.c27 .c21}

[  while (!Serial);]{.c27 .c21}

[  delay(1);]{.c27 .c21}

[]{.c27 .c21}

[]{.c27 .c21}

[]{.c27 .c21}

[  Serial.begin(115200);]{.c27 .c21}

[  Serial.println(F(\"VL53L0X API Simple Ranging
example\\n\\n\"));]{.c27 .c21}

[  Serial.println(\"\\nTCAScanner ready!\");]{.c27 .c21}

[  Wire.begin();]{.c27 .c21}

[  for (uint8\_t t = 0; t \< 8; t++) {]{.c27 .c21}

[    tcaselect(t);]{.c27 .c21}

[    Serial.print(\"TCA Port \#\"); Serial.println(t);]{.c27 .c21}

[]{.c27 .c21}

[    for (uint8\_t addr = 0; addr \<= 127; addr++) {]{.c27 .c21}

[      if (addr == TCAADDR) continue;]{.c27 .c21}

[]{.c27 .c21}

[      uint8\_t data;]{.c27 .c21}

[      if (! twi\_writeTo(addr, &data, 0, 1, 1)) {]{.c27 .c21}

[        Serial.print(\"Found I2C 0x\");  Serial.println(addr,
HEX);]{.c27 .c21}

[]{.c27 .c21}

[      }]{.c27 .c21}

[    }]{.c27 .c21}

[  }]{.c27 .c21}

[  Serial.println(\"\\ndone\");]{.c27 .c21}

[}]{.c27 .c21}

[]{.c27 .c21}

[void loop()]{.c27 .c21}

[{]{.c27 .c21}

[  for (uint8\_t x = 1; x \< 5; x++) {]{.c27 .c21}

[]{.c27 .c21}

[    tcaselect(x);]{.c27 .c21}

[    if (!lox.begin()) {]{.c27 .c21}

[      Serial.println(F(\"Failed to boot VL53L0X\"));]{.c27 .c21}

[      while (1);]{.c27 .c21}

[    }]{.c27 .c21}

[    VL53L0X\_RangingMeasurementData\_t measure;]{.c27 .c21}

[]{.c27 .c21}

[    //Serial.print(\"Reading a measurement\... \");]{.c27 .c21}

[    lox.rangingTest(&measure, false); // pass in \'true\' to get debug
data printout!]{.c27 .c21}

[]{.c27 .c21}

[    if (measure.RangeStatus != 4) {  // phase failures have incorrect
data]{.c27 .c21}

[      Serial.print(\"sensor \"); Serial.print(x);]{.c27 .c21}

[      Serial.print(\" Distance (mm): \");
Serial.println(measure.RangeMilliMeter);]{.c27 .c21}

[    } else {]{.c27 .c21}

[      Serial.println(\" out of range \");]{.c27 .c21}

[    }]{.c27 .c21}

[]{.c27 .c21}

[  }]{.c27 .c21}

[}]{.c27 .c21}

[]{.c27 .c140 .c87}

[]{.c27 .c87 .c140}

[]{.c5}

[CLI RPI PROGRAMMING]{.c4 .c1}

[]{.c5}

[DEBOUNCE BUTTONS]{.c4 .c1}

3.  [Add a second button and modify your code from exercise three so
    that the LED turns off when the second button is pressed.]{.c5}

[6. TEACHER CHECK \_\_\_\_]{.c1}

4.  [Modify your code use a single button to turn on and off the
    LED.]{.c5}

<!-- -->

1.  [Add a pin toggle to your code again so that the LED changes state
    after each press of the button. NOTE: This may not work as
    expected.]{.c5}
2.  [Connect your scope to monitor the button press on channel one and
    the output to the LED on channel two.]{.c5}
3.  [Press the button and look at the results on the scope. ]{.c5}
4.  [What might be causing the unpredictable behavior of your
    circuit?]{.c5}
5.  [What can you do in code to fix this problem?]{.c5}

[7. TEACHER CHECK \_\_\_\_]{.c1}

[]{.c1 .c4} {#h.i5i6xjqnmxnk .c30 .c74}
===========

[]{.c5}

[BASIC COMMAND LINE]{.c4 .c1}

[Overview]{.c4 .c1} {#h.o4wbv4nhhxoh .c30}
===================

You will be using cmder to run command line operations.

[Command Overview]{.c4 .c1} {#h.mlwodeb4ofap .c30}
===========================

The following are a list of seven commands that you can used to get
started with using the command line. Note that the [λ ]{.c21}represents
the command prompt of your shell and you will not type this when
entering commands. Command prompts vary by shell and include [\# \$ \>\>
λ]{.c2}

[]{.c2}

1.  List the contents of a directory: Use the [ls ]{.c21}[command to
    list the contents of any directory. ]{.c5}

[Λ ls]{.c21}

2.  [Make a directory: Use the mkdir command to create a new directory.
    ]{.c5}

[Λ mkdir directoryname]{.c2}

3.  [Change directory (down)]{.c5}

[Λ cd directoryname]{.c2}

4.  [Change directory (up)]{.c5}

[Λ cd ..]{.c21}

5.  [Show directory path: Use the pwd command to show your present
    directory path.]{.c5}

[Λ pwd]{.c2}

6.  [Edit a file]{.c5}

[Λ nano newfile.txt]{.c2}

7.  [Delete file]{.c5}

[Λ rm newfile.txt]{.c2}

### [Exercise]{.c0} {#h.c9fns89eflv .c18}

[Open cmder and test out the above commands.]{.c5}

[Create Code Directory]{.c4 .c1} {#h.9j6edmoar2bl .c30}
================================

[In this lesson you will create a new directory for storing your code.
Note that when you first open cmder you should find yourself in the
following directory. ]{.c5}

[]{.c5}

[C:\\Users\\Student]{.c2}

[λ]{.c21}

[]{.c5}

### [Exercise]{.c0} {#h.cphpd12maqc0 .c18}

Create a directory called "Code" under [C:\\Users\\Student]{.c2}

[Confirm the existence of your new directory using the Windows Explorer
]{.c5}

[]{.c5}

1.  [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[Set IDE Path]{.c4 .c1} {#h.q6oemfb74ym4 .c66}
=======================

[In this lesson, you will set the path of your Arduino IDE so that it
stores your code the directory you just created.]{.c5}

[]{.c5}

### [Exercise]{.c0} {#h.9tiibdihpin9 .c18}

1.  [Select File/Preferences in your Arduino IDE]{.c5}
2.  [Under Sketchbook Location browse to find the directory you just
    created in the step above.]{.c5}
3.  [Press okay]{.c5}

[]{.c5}

2.  [TEACHER CHECK \_\_\_\_]{.c15 .c1}

[]{.c15 .c1}

[]{.c4 .c1}

[}]{.c2}

[]{.c5}

[PYTHON GUI]{.c4 .c1}

[]{.c5}

[[https://docs.python.org/2/library/tkinter.html\#a-simple-hello-world-program](https://www.google.com/url?q=https://docs.python.org/2/library/tkinter.html%23a-simple-hello-world-program&sa=D&ust=1544756832585000){.c34}]{.c31}

[[https://www.python-course.eu/tkinter\_layout\_management.php](https://www.google.com/url?q=https://www.python-course.eu/tkinter_layout_management.php&sa=D&ust=1544756832585000){.c34}]{.c31}

[]{.c5}

https://pythonprogramming.net/tkinter-python-3-tutorial-adding-buttons/?completed=/python-3-tkinter-basics-tutorial/

[]{.c5}

[]{.c4 .c1}

[TOF VL53L0X SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.nebp9ji4e6ce .c30}
===================

[In this lesson, you will learn how to setup and use a VL53L0X time of
flight (TOF) sensor to measure distance.]{.c5}

[]{.c4 .c1}

[![](images/image75.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 271.33px; height: 203.50px;"}

[Wiring]{.c4 .c1} {#h.e84xgtwz5l0t .c30}
=================

[Above is a picture of the VL53L0X  module. Wire the module as
follows.]{.c5}

[]{.c5}

[GND pins to ground.]{.c5}

[VIN pin to 5 volts]{.c5}

[SCL pin to A5 on your Arduino or Metro]{.c5}

[SDA pin to A4 on your Arduino or Metro]{.c5}

[Initial Test]{.c4 .c1} {#h.hpfw8plbw92x .c30}
=======================

[Follow the instructions below to test that you have wired your module
correctly.]{.c5}

1.  [Install the VL53L0X library from Adafruit on your Arduino IDE.
    ]{.c5}
2.  [Open the vl53l0x project from Examples. ]{.c5}
3.  [Download the code to your board. ]{.c5}

<!-- -->

3.  [Open your terminal window.]{.c5}
4.  [Note that the code runs at 115200 so you will need to set this baud
    rate in the terminal window. You should see:]{.c5}

[]{.c5}

[Adafruit VL53L0X test]{.c2 .c124}

[VL53L0X API Simple Ranging example]{.c2 .c124}

[]{.c2 .c124}

[\...and then a set of distance readings in mm. ]{.c5}

[]{.c2}

[Range Testing]{.c4 .c1} {#h.19x3y74tnjp4 .c30}
========================

[The following code should provide feedback if the object being measured
is between 50mm and 100mm from the sensor.]{.c5}

[]{.c2}

[\#include \"Adafruit\_VL53L0X.h\"]{.c2}

[Adafruit\_VL53L0X lox = Adafruit\_VL53L0X();]{.c2}

[int dist;]{.c2}

[]{.c2}

[void setup() {]{.c2}

[  Serial.begin(115200);]{.c2}

[  lox.begin();]{.c2}

[}]{.c2}

[]{.c2}

[void loop() {]{.c2}

[  VL53L0X\_RangingMeasurementData\_t measure;]{.c2}

[  lox.rangingTest(&measure, false);]{.c2}

[  dist = measure.RangeMilliMeter;]{.c2}

[]{.c2}

[  if ((dist \< 100) && (dist \> 50))]{.c2}

[    Serial.print(\"In the zone: \");]{.c2}

[]{.c2}

[  Serial.println(dist);]{.c2}

[  delay(100);]{.c2}

[}]{.c2}

[]{.c2}

[]{.c2}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[]{#id.z7oukekn8y5f}

[RPI ROUTER]{.c4 .c1}

1.  [Download image]{.c5}

<!-- -->

1.  Go to the openWRT
    [[website](https://www.google.com/url?q=https://openwrt.org/&sa=D&ust=1544756832592000){.c34}]{.c31}[.
    ]{.c5}
2.  [Look under the downloads and select Stable Releases ]{.c5}
3.  [Look under brcm2708 and then bcm2710 ]{.c5}
4.  [Download the factory file (this name might change) ]{.c5}

<!-- -->

2.  [Initial login]{.c5}

<!-- -->

1.  [Connect router direct via ethernet to Linux machine]{.c5}
2.  [ssh root\@192.168.1.1 (no password)]{.c5}

<!-- -->

3.  [Set password]{.c5}

[Use the following command to create a password. Create a password of
over eight characters.]{.c5}

#### [root\@OpenWrt:\~\# passwd]{.c50 .c38} {#h.kkqh1tad9nne .c18 .c35}

[]{.c5}

4.  Setup [network]{.c15 .c1}

[The DHCP should be set to request a dynamic address upstream. Later
this can be changed to a static address, but address must first be
confirmed with network admin. ]{.c5}

3.  [View existing network configuration with:]{.c5}

#### [root\@OpenWrt:\~\# cat /etc/config/network]{.c50 .c38} {#h.1lapmidmlm0a .c18 .c35}

[                or]{.c5}

#### [root\@OpenWrt:\~\# uci show network]{.c50 .c38} {#h.e8dpo6mo08a3 .c18 .c35}

[]{.c5}

4.  [Make the following changes. This will set the router to grab a
    dynamic IP address instead of setting a static IP address]{.c5}

#### uci delete network.lan.ipaddr uci delete network.lan.netmask uci delete network.lan.ip6assign uci [set]{.c136} network.lan.proto[=]{.c67}[dhcp]{.c50 .c38} {#h.hx9j4uanxogf .c143 .c44}

[]{.c5}

5.  [Commit the changes]{.c5}

#### [uci commit network]{.c50 .c38} {#h.f3c408ou9die .c18 .c35}

------------------------------------------------------------------------

[]{.c5}

[]{.c5}

6.  [NOTE: The following might be useful. Need to research these
    options.]{.c5}

#### uci [set]{.c136} network.lan.ipv6[=]{.c67}[0]{.c114} uci [set]{.c136} network.lan.ifname[=]{.c67}[\'eth0 eth1\']{.c145} uci [set]{.c136} network.lan.stp[=]{.c67}[1]{.c114} {#h.e1dwgzjff1og .c18 .c44}

#### uci delete network.globals.ula\_prefix uci delete network.\@switch\_vlan[\[]{.c67}[1]{.c114}[\]]{.c67} {#h.qek2k9ih78zf .c44 .c143}

[]{.c5}

5.  [Setup router on network.]{.c5}

<!-- -->

1.  [Connect router to network]{.c5}
2.  [Scan for router's IP]{.c5}
3.  [ssh into router ]{.c5}

[]{.c5}

6.  [Update packages]{.c5}

[Installing LuCI is not necessary but provides a GUI for the
router.]{.c5}

#### [opkg update]{.c50 .c38} {#h.tmii70y0wqxl .c18 .c43}

#### [opkg install vim]{.c50 .c38} {#h.1fenfrdbyyl8 .c18 .c43}

#### [opkg install luci]{.c50 .c38} {#h.y17cknhj7zt6 .c18 .c43}

[]{.c5}

7.  Setup [DHCP]{.c15 .c1}

[You need to disable the assignment of addresses (downstream) via DHCP
in order to ensure that there are no conflicts between the new router
and the existing routers.]{.c5}

1.  [View existing configuration]{.c5}

#### [root\@OpenWrt:\~\# cat /etc/config/dhcp]{.c50 .c38} {#h.uf1ydiec64q7 .c18 .c35}

[                Or]{.c5}

#### [root\@OpenWrt:\~\# uci show dhcp]{.c50 .c38} {#h.d9s5cvvggt3e .c18 .c35}

[]{.c5}

2.  [Disable downstream DHCP]{.c5}

#### [uci set dhcp.lan.ignore=1]{.c50 .c38} {#h.nyo572q7eagy .c18 .c35}

[]{.c5}

3.  [Commit changes.]{.c5}

#### [uci commit dhcp]{.c50 .c38} {#h.d7w0fe75b5lf .c18 .c35}

[]{.c5}

8.  Setup [wireless]{.c15 .c1}

<!-- -->

1.  [View existing configuration]{.c5}

#### [root\@OpenWrt:\~\# cat /etc/config/wireless]{.c50 .c38} {#h.r68ezunpzhr7 .c18 .c35}

[                Or]{.c5}

#### [root\@OpenWrt:\~\# uci show wireless]{.c50 .c38} {#h.dumbyg9z2co4 .c18 .c35}

------------------------------------------------------------------------

[]{.c5}

[]{.c5}

2.  [Enable wireless]{.c5}

[        Turn on the wireless and set encryption values.]{.c5}

#### [uci set wireless.radio0.disabled=0]{.c50 .c38} {#h.ex1hx690fqwv .c18 .c44}

#### [uci set wireless.default\_radio0.encryption=psk2]{.c50 .c38} {#h.gh3be1u3zv4s .c18 .c44}

#### [uci set wireless.default\_radio0.key=mvthsstudent]{.c50 .c38} {#h.gh3be1u3zv4s-15 .c18 .c44}

#### [uci commit wireless]{.c50 .c38} {#h.4nivz1gtvn6v .c18 .c44}

#### [wifi down]{.c50 .c38} {#h.rkuonez7hnpn .c18 .c44}

#### [wifi up]{.c50 .c38} {#h.erxzv66afwpj .c18 .c44}

[]{.c5}

#### []{.c50 .c38} {#h.1n4419im849o .c18 .c139}

[]{.c5}

[NMAP]{.c4 .c1}

#### [sudo nmap 10.1.41.1-100 -sn]{.c50 .c38} {#h.el8x4m86cq0t .c18 .c51 .c43}

[SCP]{.c4 .c1}

[Wired Communication]{.c4 .c1}

[Limit Switch]{.c4 .c1}

Neopixel Strip

[Voltage Regulator]{.c4 .c1}

[Making Sounds]{.c4 .c1}

[Switch Statement]{.c4 .c1}

[Bluetooth Communication]{.c4 .c1}

[Heat Dissipation]{.c4 .c1}

[Motion Sensing]{.c4 .c1}

[Light Detection]{.c4 .c1}

[Stepper Driver]{.c4 .c1}

[Pneumatics Driver]{.c4 .c1}

[Drive Torque]{.c4 .c1}

[Battery Selection]{.c4 .c1}

[Reading Encoders]{.c4 .c1}

[Data Logging]{.c4 .c1}

[PCB Design]{.c4 .c1}

[Alarm Clocks]{.c4 .c1}

[Binary Clock]{.c4 .c1}

[Feedback Loops]{.c4 .c1}

[Distance Sensors]{.c4 .c1}

[External Interrupts]{.c4 .c1}

[Stroboscope]{.c4 .c1}

[Timing Interrupts]{.c4 .c1}

[Supercapacitors]{.c4 .c1}

[ULTRASONIC SENSOR]{.c4 .c1}

[Overview]{.c4 .c1} {#h.2jrqj7bbi59l .c30}
===================

[In this lesson you will use an ultrasonic sensor to measure distance.
Ultrasonic sensors include both a sender ]{.c5}

[out ]{.c5}

[]{.c5}

[]{.c5}

[![](images/image110.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 307.00px; height: 164.00px;"}

[]{.c5}

##### [NOT FINISHED]{.c86 .c49 .c67} {#h.bqendzm00zhv .c107}

[]{.c5}

[BASIC LOGIC CIRCUIT]{.c4 .c1}

[Overview]{.c4 .c1} {#h.wv42xegc1zi0 .c30}
===================

Logic gates form the basis of all modern computers. A small [[integrated
circuit](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.sbb7uw38pmd5&sa=D&ust=1544756832607000){.c34}]{.c31} no
bigger than your fingernail may contain millions of [[logic
gates](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.tclufllpksfy&sa=D&ust=1544756832607000){.c34}]{.c31}[.
There are also small integrated circuits (ICs) that contain only a few
logic gates. In the really old days, computers were made completely from
these sorts of ICs. They are seldom used in modern circuits, but provide
a good exercise in learning about digital electronics. ]{.c5}

[AND Gate]{.c4 .c1} {#h.ktxrafof9ico .c30}
===================

[Below is the schematic symbol for an AND gate. Note that it has two
inputs and one output. The value of the output is determined by the
combined values of the inputs. ]{.c5}

 [![](images/image35.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 338.00px; height: 149.00px;"}

[AND Gate]{.c1 .c65 .c78}

[]{.c5}

[Below is diagram for integrated circuit that contains four AND gates.
Note the four AND gate symbols inside the AND gate. The specific IC has
the standard manufacturer number 74HC08.]{.c5}

[]{.c5}

[![](images/image20.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 446.00px; height: 151.00px;"}

[]{.c5}

[74HC08]{.c1 .c65}

### [Exercise:]{.c0} {#h.7mvjdc9vqyl6 .c18}

1.  [Placing the 74HC08]{.c5}

<!-- -->

1.  [Set up your breadboard as described above with power and ground on
    both busses.]{.c5}
2.  [Find a 74HC08 in the grey bins in the storage closet. They are in
    the cabinet titled ICS, Transistors and MCU Related.]{.c5}
3.  Place the 74HC08 on your breadboard. Make sure the notch is the left
    so that pin 1 is on the bottom (closest to you) of the board. Refer
    to the section in concepts on
    [[breadboards](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.utuueb8q3cey&sa=D&ust=1544756832609000){.c34}]{.c31}[ for
    correct placement of an IC on a breadboard.]{.c5}

<!-- -->

2.  [Powering your 74HC08. All electronics circuits require power. Just
    like you plug in a radio or toaster, you need to plug in your
    integrated circuit. (see schematic below)]{.c5}

<!-- -->

1.  Use a wire to connect the power pin (labeled Vcc in the diagram
    above) to the power
    [[bus](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.5vaws3722hif&sa=D&ust=1544756832609000){.c34}]{.c31}[ of
    your breadboard.]{.c5}
2.  [Use another wire to connect the ground pin (labeled GND in the
    diagram above) to the ground bus of your breadboard. ]{.c5}

[![](images/image53.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 431.50px; height: 268.00px;"}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

3.  [Testing the logic gate.]{.c5}

<!-- -->

1.  [Using two long (6 inch) jump wires to connect the two inputs for
    the first AND gate (pin 1 and pin 2) to the power bus. ]{.c5}
2.  [Using another long jump wire connect the output to your multimeter
    in a way that it can be used to measure the voltage of the output
    pin.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

4.  Complete the following table by moving the input wires between the
    ground and power bus on your breadboard. Note that on your
    breadboard the [[logic
    state](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.wcd7fn4vlukr&sa=D&ust=1544756832611000){.c34}]{.c31}[ HIGH
    is equivalent to 5V and the logic state LOW is equivalent ground.
    Using your multimeter to test the voltage at the output. For
    example, if the output reads \~5V on your meter than write HIGH in
    the output column. Note that the reading may not be exactly 5
    volts.]{.c5}

[74HC08        Gate Type: \_\_\_\_\_\_\_\_\_\_\_\_]{.c15 .c1}

[]{#t.8ed6cd6ac4c8ff5c0f469a528f1d476188c00f2a}[]{#t.18}

+-----------------------+-----------------------+-----------------------+
| [Input A]{.c15 .c1}   | [Input B]{.c15 .c1}   | [Output (HIGH or      |
|                       |                       | LOW)]{.c15 .c1}       |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

5.  [Add an LED to the output pin of the first gate (pin 3). Make sure
    to include a resistor and orient the LED correctly. ]{.c5}
6.  [Demonstrate how you can turn on and off the LED depending on the
    placement (HIGH/HOW) of the inputs.  ]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[]{.c5}

7.  Each of the IC manufacturer numbers listed below represent ICs that
    contain between four and six logic gates each. For each of these
    ICs, wire the first gate on the IC and complete the table. If you
    need help with wiring the IC check out the ICs
    [[datasheet](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.4dzu3nqdxhp2&sa=D&ust=1544756832616000){.c34}]{.c31}[.]{.c5}

[]{.c5}

[]{.c15 .c1}

[74HC32        Gate Type: \_\_\_\_\_\_\_\_\_\_\_\_]{.c15 .c1}

[]{#t.dbee7a77338d8452653b1ba2357ea6fd12773efe}[]{#t.19}

+-----------------------+-----------------------+-----------------------+
| [Input A]{.c15 .c1}   | [Input B]{.c15 .c1}   | [Output (LED ON or    |
|                       |                       | OFF)]{.c15 .c1}       |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c5}

[]{.c15 .c1}

[74HC00        Gate Type: \_\_\_\_\_\_\_\_\_\_\_\_]{.c15 .c1}

[]{#t.dbee7a77338d8452653b1ba2357ea6fd12773efe}[]{#t.20}

+-----------------------+-----------------------+-----------------------+
| [Input A]{.c15 .c1}   | [Input B]{.c15 .c1}   | [Output (LED ON or    |
|                       |                       | OFF)]{.c15 .c1}       |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c15 .c1}

[]{.c15 .c1}

[74HC02         Gate Type: \_\_\_\_\_\_\_\_\_\_\_\_]{.c15 .c1}

[]{#t.dbee7a77338d8452653b1ba2357ea6fd12773efe}[]{#t.21}

+-----------------------+-----------------------+-----------------------+
| [Input A]{.c15 .c1}   | [Input B]{.c15 .c1}   | [Output (LED ON or    |
|                       |                       | OFF)]{.c15 .c1}       |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [HIGH]{.c5}           | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [HIGH]{.c5}           | []{.c5}               |
+-----------------------+-----------------------+-----------------------+
| [LOW]{.c5}            | [LOW]{.c5}            | []{.c5}               |
+-----------------------+-----------------------+-----------------------+

[]{.c15 .c1}

[]{.c15 .c1}

[74HC04        Gate Type: \_\_\_\_\_\_\_\_\_\_\_\_]{.c15 .c1}

[]{#t.11c2759b406fde4a800bf00594130e706fd64ffe}[]{#t.22}

+-----------------------------------+-----------------------------------+
| [Input A]{.c15 .c1}               | [Output (LED ON or OFF)]{.c15     |
|                                   | .c1}                              |
+-----------------------------------+-----------------------------------+
| [HIGH]{.c5}                       | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [LOW]{.c5}                        | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

------------------------------------------------------------------------

[COMPLEX LOGIC CIRCUITS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.w9g4rgxzvk9c .c30}
===================

[By combining logic gates it is possible to be create increasingly
sophisticated circuits than can perform task from  adding two numbers
together to processing a video image. It is exactly these sorts of
complex sets of logic gates make up every modern computer based device.
]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.ck8119xluvg1 .c18}

[]{.c5}

1.  For each gate, there is a specific shape used to represent that
    [[gate](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.tclufllpksfy&sa=D&ust=1544756832634000){.c34}]{.c31}[.
    Complete the following table, filling in the shape for each gate
    listed. ]{.c5}

[]{.c5}

[]{#t.d0fe473bf592faf1d15504ead7bf86231e610f41}[]{#t.23}

+-----------------------------------+-----------------------------------+
| [Gate Name]{.c15 .c1}             | [Gate Shape]{.c15 .c1}            |
+-----------------------------------+-----------------------------------+
| [AND]{.c5}                        | []{.c5}                           |
|                                   |                                   |
|                                   | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [OR]{.c5}                         | []{.c5}                           |
|                                   |                                   |
|                                   | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [NOT]{.c5}                        | []{.c5}                           |
|                                   |                                   |
|                                   | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c5}

2.  [Complete the following logic tables for each of the circuits given.
    Start with each pair of given inputs on the left and follow them
    through the circuit to determine the resulting output.]{.c5}

[]{.c5}

[]{.c5}

[]{#t.70b91c38dcad9e01805528084aeffd2bdf6a5054}[]{#t.24}

[Input A]{.c15 .c1}

[Input B]{.c15 .c1}

[Output ]{.c15 .c1}

[(HIGH or LOW)]{.c15 .c1}

[![](images/image70.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 393.44px; height: 171.50px;"}

[HIGH]{.c5}

[HIGH]{.c5}

[]{.c5}

[HIGH]{.c5}

[LOW]{.c5}

[]{.c5}

[LOW]{.c5}

[HIGH]{.c5}

[]{.c5}

[LOW]{.c5}

[LOW]{.c5}

[]{.c5}

[]{.c15 .c1}

[]{.c15 .c1}

[]{.c15 .c1}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{#t.70b91c38dcad9e01805528084aeffd2bdf6a5054}[]{#t.25}

[Input A]{.c15 .c1}

[Input B]{.c15 .c1}

[Output ]{.c15 .c1}

[(HIGH or LOW)]{.c15 .c1}

[![](images/image113.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 390.00px; height: 169.50px;"}

[HIGH]{.c5}

[HIGH]{.c5}

[]{.c5}

[HIGH]{.c5}

[LOW]{.c5}

[]{.c5}

[LOW]{.c5}

[HIGH]{.c5}

[]{.c5}

[LOW]{.c5}

[LOW]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{#t.70b91c38dcad9e01805528084aeffd2bdf6a5054}[]{#t.26}

[Input A]{.c15 .c1}

[Input B]{.c15 .c1}

[Output ]{.c15 .c1}

[(HIGH or LOW)]{.c15 .c1}

[![](images/image72.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 368.50px; height: 201.00px;"}

[HIGH]{.c5}

[HIGH]{.c5}

[]{.c5}

[HIGH]{.c5}

[LOW]{.c5}

[]{.c5}

[LOW]{.c5}

[HIGH]{.c5}

[]{.c5}

[LOW]{.c5}

[LOW]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{#t.70b91c38dcad9e01805528084aeffd2bdf6a5054}[]{#t.27}

[Input A]{.c15 .c1}

[Input B]{.c15 .c1}

[Output ]{.c15 .c1}

[(HIGH or LOW)]{.c15 .c1}

[![](images/image57.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 371.50px; height: 186.31px;"}

[HIGH]{.c5}

[HIGH]{.c5}

[]{.c5}

[HIGH]{.c5}

[LOW]{.c5}

[]{.c5}

[LOW]{.c5}

[HIGH]{.c5}

[]{.c5}

[LOW]{.c5}

[LOW]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

[]{#t.70b91c38dcad9e01805528084aeffd2bdf6a5054}[]{#t.28}

[Input A]{.c15 .c1}

[Input B]{.c15 .c1}

[Output ]{.c15 .c1}

[(HIGH or LOW)]{.c15 .c1}

[![](images/image24.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 368.98px; height: 163.50px;"}

[HIGH]{.c5}

[HIGH]{.c5}

[]{.c5}

[HIGH]{.c5}

[LOW]{.c5}

[]{.c5}

[LOW]{.c5}

[HIGH]{.c5}

[]{.c5}

[LOW]{.c5}

[LOW]{.c5}

[]{.c5}

[]{.c5}

[]{.c15 .c1}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

------------------------------------------------------------------------

[]{.c4 .c1}

[MEASURING CURRENT]{.c4 .c1}

[Overview]{.c4 .c1} {#h.bmf3o4i12fdb .c30}
===================

[Being able to measure current is extremely helpful for troubleshooting
a circuit. ]{.c5}

[]{.c5}

### [Exercise:]{.c0} {#h.yq9za2qv353w .c18}

Construct the simple LED circuits described below on your breadboard
with one resistor and one LED. Use your
[[multimeter](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.sf66jio1dnm6&sa=D&ust=1544756832672000){.c34}]{.c31} to
[[measure the
current](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.qr0iv7e99jht&sa=D&ust=1544756832673000){.c34}]{.c31}[ in
your simple circuit and write the results below. If you do not know how
to use a multimeter please click on the link above for more information.
Note that the current in a series circuit is the same throughout the
circuit, so you can measure the current between any two points. ]{.c5}

[]{.c5}

1.  [Create a circuit with one 330R resistor, one LED and set the
    voltage to 6V.]{.c5}

[]{.c5}

[Current:                         \_\_\_\_\_]{.c5}

[]{.c5}

2.  [Create a circuit with one 1K resistor, one LED and set the voltage
    to 6V.]{.c5}

[]{.c5}

[Current:                         \_\_\_\_\_]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c15 .c1}

[]{.c4 .c1}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[OHM'S LAW]{.c4 .c1}

[Overview]{.c4 .c1} {#h.tlv89hrrjaqe .c30}
===================

Ohm's law describes the fundamental relationship between [[voltage,
current and
resistance](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.7g89z82u0oqw&sa=D&ust=1544756832675000){.c34}]{.c31}[.
Voltage represents a pressure driving current. Resistance represents a
pressure limiting current. In other words, the ratio of voltage (V) over
resistance (R) is directly proportional to current (I) or (V/R = I).
More generally this relationship is represented at V = IR. In this
lesson, round your measurements for current to the nearest thousandth.
]{.c5}

[]{.c5}

[Using Ohm's law calculate the missing value in the table below for the
example circuit. ]{.c5}

[]{.c5}

[]{#t.7f5ee08f769d7af4c74134e0237705429cf65f3b}[]{#t.29}

[Circuit]{.c15 .c1}

[Voltage]{.c15 .c1}

[Current ]{.c15 .c1}

[Resistance]{.c15 .c1}

[![](images/image96.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 98.00px; height: 216.00px;"}

[1]{.c5}

[5.00 Volts]{.c5}

[]{.c5}

[100 ohms]{.c5}

[2]{.c5}

[3.00 Volts]{.c5}

[.020 Amps]{.c5}

[]{.c5}

[3]{.c5}

[]{.c5}

[.005 Amps]{.c5}

[330 ohms]{.c5}

[4]{.c5}

[12.00 Volts]{.c5}

[.400 Amps]{.c5}

[]{.c5}

[5]{.c5}

[1.80 Volts]{.c5}

[]{.c5}

[470 ohms]{.c5}

[6]{.c5}

[]{.c5}

[.250 Amps]{.c5}

[1000 ohms]{.c5}

[]{.c5}

[]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c94}

------------------------------------------------------------------------

[]{.c4 .c1}

[RESISTORS AND LEDS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.7x3jywx1njgh .c30}
===================

[In this lesson you will learn how to determine the correct value of a
resistor to limit current in an LED circuit. The amount of current
flowing through an LED determines its brightness. If too much current
flows through an LED it will burn out. If too little current flows
through an LED it will be impossible to see. ]{.c5}

[]{.c5}

[The following are the two basic steps necessary to calculate the
correct resistor value for an LED circuit. Note that this is essentially
the same circuit you used in the Ohm's law exercise above except with
the addition of an LED. Each LED drops a specific amount of voltage.
Once you know this voltage drop, you simply subtract it to get the
voltage across the resistor.]{.c5}

[]{.c5}

1.  [Subtract the voltage drop of the LED from the circuit to get the
    exact voltage across the resistor.]{.c5}
2.  [Use Ohm's law to determine the correct resistor value for the
    target current you are trying to achieve in the circuit. ]{.c5}

[]{.c5}

[]{#t.61bfd5981a615180fe2cea995967fdd56228c3c5}[]{#t.30}

[Supply Voltage]{.c15 .c1}

[LED Voltage Drop]{.c15 .c1}

[Target Current]{.c15 .c1}

[Resistor Value]{.c15 .c1}

[![](images/image119.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 101.50px; height: 257.65px;"}

[5 Volts]{.c5}

[2.3 Volts]{.c5}

[.005 A]{.c5}

[]{.c5}

[5 Volts]{.c5}

[1.8 Volts]{.c5}

[.002 A]{.c5}

[]{.c5}

[3 Volts]{.c5}

[2.0 Volts]{.c5}

[.040 A]{.c5}

[]{.c5}

[7 Volts]{.c5}

[3.0 Volts]{.c5}

[.003 A]{.c5}

[]{.c5}

[12 Volts]{.c5}

[1.8 Volts]{.c5}

[.015 A]{.c5}

[]{.c5}

[3 Volts]{.c5}

[2.0 Volts]{.c5}

[.008 A]{.c5}

[]{.c5}

[6 Volts]{.c5}

[3.0 Volts]{.c5}

[.003 A]{.c5}

[]{.c5}

[]{.c5}

[]{.c5}

------------------------------------------------------------------------

[]{.c4 .c1}

[MICROCONTROLLERS]{.c4 .c1}

[Overview]{.c4 .c1} {#h.j60cfok82du7 .c30}
===================

[Microcontrollers are complex integrated circuits that can be programmed
to perform automated tasks like a computer. They are used in everything
from cars to microwave ovens. You will be using microcontrollers in most
of your projects for the next four years. Since microcontrollers
generally do not have keyboards and screens, engineers generally write
programs on a desktop computer and then download the compiled code to
the microcontroller through a programming cable as shown below.]{.c5}

[![](images/image60.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 352.00px; height: 152.51px;"}

[Circuit Diagram]{.c4 .c1} {#h.pvir43o7x814 .c30}
==========================

The following is the
[[schematic](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.r3k5lvbeyva&sa=D&ust=1544756832704000){.c34}]{.c31} for
a basic microcontroller circuit. At the heart of the schematic is the
[[ATMega328](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.bk51dfzckrxr&sa=D&ust=1544756832705000){.c34}]{.c31} which
is the microcontroller in the circuit. It is important to note how
[[pins](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.76esoxh2cjn0&sa=D&ust=1544756832705000){.c34}]{.c31}[ are
ordered on every IC. ]{.c5}

[![](images/image39.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 573.33px;"}

### [Exercise: ]{.c0} {#h.xji86e9lj2b4 .c18}

Complete the above circuit as shown. Make sure to remove all previously
used components from your breadboard before starting. Read here for a
reminder on good
[[breadboarding](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.7v7y9qmc8mp2&sa=D&ust=1544756832706000){.c34}]{.c31}[ practices.
]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[Programming Cable]{.c4 .c1} {#h.lwccx4ccrrsq .c30}
============================

The programming cable connects your microcontroller to the computer and
allows you to send code compiled on the computer to your
microcontroller. The code you write in C is first compiled into a [[HEX
file](https://www.google.com/url?q=https://docs.google.com/document/d/1BmZbXzxnD2j17QToSZ9jeZmnP7burwfksfQq2v4zu-Y/edit%23heading%3Dh.4towx11oahq6&sa=D&ust=1544756832707000){.c34}]{.c31}[ that
is then downloaded to your computer via the USB cable. The cable
communicates with your controller via the TXD, RXD and optionally Reset)
pins on your microcontroller.]{.c5}

[]{.c5}

[TXD Pin]{.c1}[: TXD stands for transmit data and it is located at pin 3
of your microcontroller. This pin can be used to send data to other
devices such as your computer. It is used for programming your
microcontroller as well as general communication with your
microcontroller. ]{.c5}

[RXD Pin]{.c1}[: RXD stands for receive data and it is located at pin 2
of your microcontroller. This pin can be used to receive data from other
devices such as your computer. It is used for programming your
microcontroller as well as general communication with your
microcontroller. ]{.c5}

[RESET]{.c1}[: The reset pin can be used to reset the code running on
the microcontroller. It is located on pin 1 of your microcontroller. A
reset is performed by setting this pin LOW and then releasing it back to
HIGH. This is important if your microcontroller gets stuck in a bad
state. ]{.c5}

[![](images/image36.png)]{style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 456.50px; height: 195.23px;"}

[Below is a table showing you how to connect your cable to your
microcontroller. The black and red wires provide power to your board.
Note that the RX (receive) on the cable side is connected to the TXD
(transmit) on the microcontroller and the TX (transmit) on the cable
side is connected to the RXD (receive) on the microcontroller. This
should make sense. ]{.c5}

[]{.c15 .c1}

[]{#t.5c6d44f83e98d4114aac876754f19faafe1abe24}[]{#t.31}

+-----------------------------------+-----------------------------------+
| [Cable]{.c15 .c1}                 | [Microcontroller]{.c15 .c1}       |
+-----------------------------------+-----------------------------------+
| [RX (yellow)]{.c5}                | [TXD]{.c5}                        |
+-----------------------------------+-----------------------------------+
| [TX (orange)]{.c5}                | [RXD]{.c5}                        |
+-----------------------------------+-----------------------------------+
| [CTS (brown) NOT IN USE]{.c5}     | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [Ground (black)]{.c5}             | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [5V (red)]{.c5}                   | []{.c5}                           |
+-----------------------------------+-----------------------------------+
| [RTS (green) NOT IN USE]{.c5}     | []{.c5}                           |
+-----------------------------------+-----------------------------------+

[]{.c15 .c1}

### [You can find more info and technical specs at the ]{.c104}[[Adafruit Website (FTDI Serial TTL-232) USB Cable](https://www.google.com/url?q=https://cdn-shop.adafruit.com/datasheets/FT232_Model.pdf&sa=D&ust=1544756832713000){.c34}]{.c156} {#h.xadkms1vgxin .c18}

### []{.c0} {#h.nsrvrxz3zhhk .c18 .c16}

### [Exercise:]{.c0} {#h.aey0otr5ghu5 .c18}

[Connect the programming cable to your microcontroller circuit.]{.c5}

[TEACHER CHECK \_\_\_\_\_]{.c1}

[APPENDIX]{.c4 .c1}

[]{.c5}

[User Input]{.c1 .c38}[: Construct circuits and software to read basic
input devices including; momentary buttons, keypads, potentiometers and
an IR remote (maybe separate with scope). Learn how to provide sound
feedback and debounce a switch. Advanced: Use external interrupts to
read a button.]{.c62 .c38}

[User Display]{.c1 .c38}[: Construct circuits and software to display
data using LEDs, a 7-segment and an alphanumeric (LCD). Code a
state-machine based menu selection process for the LCD. Advanced:
Display data on a graphic display.]{.c62 .c38}

[Serial Monitor]{.c1 .c38}[: Use the serial monitor to display data from
the microcontroller. Learn how to display and format multiple data in
columns and with text separators. Create an interactive program for
setting parameters on your microcontroller (i.e. setting the
time).]{.c62 .c38}

[Wired Communication]{.c1 .c38}[: Understand the basics of a variety of
communication protocols including USART, SPI, I2C, Onewire and USB. Code
an example of each and visualize each of these protocols on the o-scope
and logic analyzer. Know some advantages and disadvantages of each.
Advanced: Code a basic interrupt driven serial driver.]{.c62 .c38}

[Making Sounds]{.c1 .c38}[: Understand the basics of creating sound
waves to drive a piezo speaker. Know how to use this device to provide
user feedback such as a button press, the end of an event or an
alarm.]{.c62 .c38}

[Making Waves]{.c1 .c38}[: Know how to create simple square waves, view
these on the o-scope and measure them using your meter. Understand
frequency, period and pulse length. Create waves using simple loops as
well as functions built into the Arduino library. Advanced: Create waves
using interrupts.]{.c62 .c38}

[Duty Cycle]{.c1 .c38}[: Understand how to set and measure duty cycle
using both basic loops and functions built into the Arduino library.
View the duty cycle on an o-scope and measure average voltage using your
meter.]{.c62 .c38}

[Bluetooth Communication]{.c1 .c38}[: Understand how to set up, send and
receive data using a bluetooth module.]{.c62 .c38}

[Heat Dissipation]{.c1 .c38}[: Understand the problems with heat
build-up on devices such as CPUs, motor drivers and LEDs. Learn
techniques for dissipating heat with heat sinks and fans. Learn to match
heat sinks to devices. Advanced: Design and machine heat sinks.]{.c62
.c38}

[Temperature Sensors]{.c1 .c38}[: Design circuits for using analog and
digital temperature sensors. Learn how to design housings to create
water tight sensors. Learn to about different sensors response time,
range and accuracy. Learn to set up a multi-sensor network.]{.c62 .c38}

[Motion Sensing]{.c1 .c38}[: Design circuits to measure the angle of a
device relative to level in three dimensions. Convert and display these
angles in degrees and radians. Advanced: Determine motion of object
based on input from inertial measurement unit (IMU). ]{.c62 .c38}

[Light Detection]{.c1 .c38}[: Know how to use an infrared emitter and
sensor pair as a reflective and "break beam" sensor. Understand the
ideal sensing distance and about interference. Understand uses such as
encoders, security, automation and pulse detectors. Demonstrate light
passing through an "opaque" object. ]{.c62 .c38}

[Motor Driver:]{.c1 .c38}[ Know how to drive standard DC motor using a
transistor and MOSFET. Understand how to use PWM to control speed and
set ideal frequency. ]{.c62 .c38}

[Motor Modules]{.c1 .c38}[: Know how to use standard motor modules and
ICs to drive a bi-directional motor. Understand the basics of an
h-bridge. Understand the importance of stall current, continuous
current, peak current, over current protection, over temperature
protection and current sense.]{.c62 .c38}

[Stepper Driver]{.c1 .c38}[: Understand how to build a basic transistor
stepper driver. Display drive signals with logic analyzer. Understand
how to use stepper modules and the basics of different step modes.]{.c62
.c38}

[Pneumatics Driver]{.c1 .c38}[: Understand how to set up a pneumatic
drive system with air tank, regulator, solenoid valve and piston. ]{.c38
.c62}

[Drive Torque]{.c1 .c38}[: Know how to calculate the required torque for
driving a robot platform based on weight, wheel diameter, desired
acceleration and maximum slope incline.]{.c62 .c38}

[Battery Selection]{.c1 .c38}[: Know how to select the correct battery
based on voltage and current requirements. Calculate battery life based
on circuit. Know the pros and cons of different battery chemistries.
Know how to care for a LiPo battery.]{.c62 .c38}

[Reading Encoders]{.c1 .c38}[: Know how to design and test basic wheel
encoders. Understand the difference between hall-effect and optical
encoders. Understand the difference between reflective and transmissive
encoders. Understand encoder resolution. Understand how to read the
pulses from an encoder. Advanced: Understand how to design and read
quadrature encoders.]{.c62 .c38}

[Data Logging]{.c1 .c38}[: Know how to store and retrieve data from the
internal EEPROM on your ATMega328. Know how to store and retrieve data
stored an external EEPROM. Advanced: Know how to store and retrieve data
on a spreadsheet on an a PC. ]{.c62 .c38}

[PCB Design]{.c1 .c38}[: Know how to design, print and solder a simple
PCB (i.e. an IR sensor module).]{.c62 .c38}

[Alarm Clocks]{.c1 .c38}[: Know how to create an accurate one-second
clock pulse using an external crystal. Understand the the importance of
accuracy in timing. Know how to use an external timing IC to set and
record dates and time. Know how to set a timing trigger point.]{.c62
.c38}

[Feedback Loops]{.c1 .c38}[: Know how to create a feedback loop.
Understand PID control.]{.c62 .c38}

[Hobby Servos]{.c62 .c38}

[Distance Sensors]{.c1 .c38}[: Know how to drive and read basic distance
sensors including IR, Ultrasonic and TOF.  Understand the advantage of
each and the uses such as measuring height..]{.c62 .c38}

[External Interrupts]{.c1 .c38}[: Understand how to set up an external
interrupt to read the press of a button.]{.c62 .c38}

[Timing Interrupts:]{.c1 .c38}[ Understand how to set internal timers to
create internal clock signals.]{.c38}

[]{.c5}

<div>

[]{.c5}

</div>
